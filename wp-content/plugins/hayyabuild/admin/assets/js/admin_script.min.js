jQuery(document).ready(function(a){function b(){if(k)return"You have unsaved changes on this page.\nDo you want to leave this page and discard your changes?"}a("input#settings_all_modules").change(function(b){this.checked?a("input.setting_modules_list").prop("checked",!0):a("input.setting_modules_list").prop("checked",!1)});var c=!1;a(".hayya_list_view").click(function(b){"list"===a(this).data("view")?(a(".elements-list").each(function(b,c){setTimeout(function(){a(c).animate({width:"100%"},100).removeClass("hayya_grid")},50+50*b)}),c=!1):(a(".elements-list").each(function(b,c){setTimeout(function(){a(c).animate({width:"49%"},100).addClass("hayya_grid")},50+50*b)}),c=!0)});var d="";a(".hayya_filter").click(function(){var b=this,e=200,f=200;(c||a(".hayya_template").length>0)&&(e=f=1),d=a(b).data("filter"),"all"!=d?a(".filter_empty_"+d).length>0?(a(".empty-filter").slideUp(e),a(".filter_empty_"+d).slideDown(e)):a(".empty-filter").slideUp(e):a(".empty-filter").length>0&&a(".empty-filter").slideUp(e);var g=1;a(a(".hayya_filter_items").get().reverse()).each(function(b,c){"all"===d||a(c).hasClass("filter_"+d)?a(c).hasClass("hayya_is_hidden")&&(setTimeout(function(){a(c).slideDown(e).removeClass("hayya_is_hidden")},g*f),g++):a(c).hasClass("hayya_is_hidden")||(setTimeout(function(){a(c).slideUp(e).addClass("hayya_is_hidden")},g*f),g++)})}),""===d&&a(".empty-filter").slideUp(1),a(".dropdown-button").length>0&&a(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrain_width:!1,hover:!0,gutter:0,belowOrigin:!1,alignment:"left"});var e=a(".copy-shortcode");e.length>0&&e.on("click",function(b){var c=a(this),d=document.createRange();d.selectNode(c[0]),window.getSelection().addRange(d);document.execCommand("copy");a(this).addClass("p-success"),setTimeout(function(){e.removeClass("p-success")},2e3),window.getSelection().removeAllRanges()}),a(".background_div").hide(),a("#"+a("#background_type").val()).show(),a(".hb_composer").css({background:a("#background").val()}),a("#background_type").on("change",function(){a(".background_div").hide(),a("#"+this.value).show(),"background_transparent"==a(this).val()?a(".hb_composer").css({background:'url("../wp-content/plugins/hayyabuild/admin/assets/images/empty_bg.png")'}):"background_image"==a(this).val()?(a(".hb_composer").css({background:'url("'+a('input[name="settings[background_image]"]').val()+'")'}),a(".hb_composer").css({"background-repeat":a('select[name="settings[background_repeat]"]').val()})):"background_video"==a(this).val()?a(".hb_composer").css({background:"#FFFFFF"}):"background_color"==a(this).val()&&a(".hb_composer").css({background:a('input[name="settings[background_color]"]').val()})}),a('input[name="settings[background_color]"]').on("input",function(){a(".hb_composer").css({background:a(this).val()})}),a('input[name="settings[background_image]"]').on("input",function(){a(".hb_composer").css({background:'url("'+a(this).val()+'")'})}),a('select[name="settings[background_repeat]"]').on("change",function(){a(".hb_composer").css({"background-repeat":a(this).val()})}),a("INPUT.minicolors").length>0&&a("INPUT.minicolors").minicolors(a.minicolors={defaults:{control:"hue",dataUris:!0,defaultValue:"",format:"rgb",hide:null,hideSpeed:100,opacity:!0,position:"bottom left",show:null,showSpeed:100,theme:"default"}});var f={".chosen-select":{width:"100%",no_results_text:"Oops, nothing found!"},".chosen-select-deselect":{allow_single_deselect:!0},".chosen-select-no-single":{disable_search_threshold:10},".chosen-select-no-results":{no_results_text:"Oops, nothing found!"},".chosen-select-width":{width:"95%"}};for(var g in f)a(g).length>0&&a(g).chosen(f[g]);a(".chosen-select").length>0&&a(".chosen-select").bind("load, change",function(b,c){var d=a(this);""===a(this).val()||null===a(this).val()?d.children().each(function(){a(this).prop("disabled",!1)}):c.selected&&"all"===c.selected&&(a(this).val("all"),d.children().not(":selected").each(function(){a(this).prop("disabled",!0)})),a(".chosen-select").trigger("chosen:updated")});var h;a("#background_image_button").click(function(b){if(b.preventDefault(),h)return void h.open();h=wp.media.frames.file_frame=wp.media({title:"Choose Image"}),h.on("select",function(b){attachment=h.state().get("selection").first().toJSON(),a("#background_image_input").val(attachment.url),jQuery(".hb_composer").css("background","url("+attachment.url+")")}),h.open()});var h;if(a("#background_video_button").click(function(b){if(b.preventDefault(),h)return void h.open();h=wp.media.frames.file_frame=wp.media({title:"Choose Video"}),h.on("select",function(b){attachment=h.state().get("selection").first().toJSON(),a("#background_video_input").val(attachment.url),a(".hb_composer").css("background","#FFF")}),h.open()}),a("[data-toggle=tooltip]").length&&a('[data-toggle="tooltip"]').tooltip(),a(".select_material").length>0&&a(".select_material").material_select(),a("#csscodediv").length>0){var i=a("#csscode").hide(),j=ace.edit("csscodediv");j.setTheme("ace/theme/eclipse"),j.getSession().setMode("ace/mode/css"),j.setHighlightActiveLine(!0),j.setOptions({minLines:20,maxLines:30,showLineNumbers:!0,showInvisibles:!0,fontSize:13}),j.getSession().setValue(i.val()),j.getSession().on("change",function(){i.val(j.getSession().getValue())})}if(a("#csseditordiv").length>0){var i=a("#csseditor").hide(),j=ace.edit("csseditordiv");j.setTheme("ace/theme/eclipse"),j.getSession().setMode("ace/mode/css"),j.setHighlightActiveLine(!0),j.setOptions({minLines:20,maxLines:30,showLineNumbers:!0,showInvisibles:!0,fontSize:13}),j.getSession().setValue(i.val()),j.getSession().on("change",function(){i.val(j.getSession().getValue())})}if(a("#builder_form").length>0){var k=!1;a(".hayyabuild.hb_composer").on("DOMSubtreeModified",function(){k=!0}),a("#builder_form").on("change keyup paste",function(){k=!0}),a(".save_shanges").click(function(){k=!1}),window.onbeforeunload=b}});