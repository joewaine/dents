!function(a,b,c,d,e,f){function g(a){return h(a)}function h(a){return"hayyabuild_t"in window?window.hayyabuild_t(a):a}function i(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.baseclass=b}function j(a,b){var c={};for(var d in b)void 0!==c[d]&&c[d]==b[d]||(a[d]=b[d]);if(document.all&&!document.isOpera){var e=b.toString;"function"==typeof e&&e!=a.toString&&e!=c.toString&&"\nfunction toString() {\n    [native code]\n}\n"!=e&&(a.toString=b.toString)}return a}function k(a,b){var c="col-"+b+"-",d=a?a.split("/"):[1,1],e=_.range(1,13),f=!_.isUndefined(d[0])&&_.indexOf(e,parseInt(d[0],10))>=0&&parseInt(d[0],10),g=!_.isUndefined(d[1])&&_.indexOf(e,parseInt(d[1],10))>=0&&parseInt(d[1],10);return!1!==f&&!1!==g?c+12*f/g:c+"12"}function l(a){return _.isString(a)?a.replace(/(\`{2})/g,'"'):a}function m(b){var c=parseInt(a(b).css("z-index"));return a(b).parent().find("*").each(function(){var b=parseInt(a(this).css("z-index"));c<b&&(c=b)}),c}function n(b){var c=m(b);a(b).css("z-index",c+1)}function o(){this.dom_element=null,this.heading="",this.description="",this.param_name="",this.required=!1,this.holder="",this.wrapper_class="",this.value=null,this.can_be_empty=!1,this.hidden=!1,this.tab="",this.dependency={}}function p(a){var b=new o.prototype.param_types[a.type];return j(b,a),b}function q(){}function r(a,b){this.id=_.uniqueId(""),null!=a&&(this.parent=a,"boolean"==typeof b?b?a.children.push(this):a.children.unshift(this):a.children.splice(b,0,this)),this.children=[],this.dom_element=null,this.dom_content_element=null,this.attrs={};for(var c=0;c<this.params.length;c++)_.isString(this.params[c].value)?this.attrs[this.params[c].param_name]=this.params[c].value:this.params[c].hidden||(this.attrs[this.params[c].param_name]="");this.controls=null,d.add_element(this.id+"-"+this.base,this,b)}function s(a,b,c){if(i(c,r),c.prototype.base=a,c.prototype.is_container=b,r.prototype.elements[a]=c,r.prototype.tags[a]=c,b)for(var d=1;d<r.prototype.max_nested_depth;d++)r.prototype.tags[a+"_"+d]=c}function t(){0==a("#clipboard").length&&a("body").prepend('<div id="clipboard" style="display:none"></div>'),hayyabuild_add_js({path:"chosen/chosen.jquery.min.js"}),hayyabuild_add_css("chosen/chosen.min.css",function(){});for(var b in d.modules_instances){var c=d.modules_instances[b];c instanceof A&&a(c.dom_element).addClass("hayyabuild-editor"),null==c.controls&&c.show_controls(),c.update_sortable()}}function u(b){if(a(b).length>0){var c=a(b).html();/^\s*\<[\s\S]*\>\s*$/.exec(c);a(b).find("> script").detach().appendTo("head"),a(b).find("> link[href]").detach().appendTo("head");var d=new A(null,!1);d.attrs.container=a(b).attr("data-hb-type")+"/"+a(b).attr("data-hb-name"),d.dom_element=a(b),a(d.dom_element).attr("data-hb_element",d.id+"-"+d.base),d.dom_content_element=a(b),a(d.dom_element).css("display",""),a(d.dom_element).addClass("hayyabuild"),a(d.dom_element).addClass("hb_ctnr"),d.parse_html(d.dom_content_element),d.html_content=!0,d.loaded_container=d.attrs.container;for(var e=0;e<d.children.length;e++)d.children[e].recursive_render();d.dom_content_element.empty(),d.show_controls(),d.update_sortable(),d.attach_children(),d.rendered=!0;for(var e=0;e<d.children.length;e++)d.children[e].recursive_showed();return d}return null}function v(a,b){v.baseclass.apply(this,arguments)}function w(a,b,c){if(i(c,v),c.prototype.base=a,c.prototype.is_container=b,v.prototype.elements[a]=c,v.prototype.tags[a]=c,b)for(var d=1;d<v.prototype.max_nested_depth;d++)v.prototype.tags[a+"_"+d]=c}function x(a,b){x.baseclass.apply(this,arguments),this.columns="",b&&"boolean"==typeof b||this.set_columns("1/1"),this.attrs.device="sm"}function y(a,b){y.baseclass.call(this,a,b)}function z(a,b){z.baseclass.apply(this,arguments)}function A(a,b){A.baseclass.apply(this,arguments),this.rendered=!1,this.loaded_container=null}a(function(){a("#hb_content").hayyabuild_composer()}),hayyabuild_baseurl="../wp-content/plugins/hayyabuild/admin/assets/libs/",window.hayyabuild_online=!1,_.templateSettings.variable="hb",window.hayyabuild_title={"Drag and drop":h("Drag and drop element."),Add:h("Add new element into current element area."),Edit:h("Open settings form to change element properties, set CSS styles and add CSS classes."),Paste:h("Paste elements into current element area from clipboard copied into it before."),Copy:h("Copy element or contained elements to clipboard."),Remove:h("Delete current element")};var B={};B.shortcode={next:function(a,b,c){var d,e,f=B.shortcode.regexp(a);if(f.lastIndex=c||0,d=f.exec(b))return"["===d[1]&&"]"===d[7]?B.shortcode.next(a,b,f.lastIndex):(e={index:d.index,content:d[0],shortcode:B.shortcode.fromMatch(d)},d[1]&&(e.match=e.match.slice(1),e.index++),d[7]&&(e.match=e.match.slice(0,-1)),e)},replace:function(a,b,c){return b.replace(B.shortcode.regexp(a),function(a,b,d,e,f,g,h,i){if("["===b&&"]"===i)return a;var j=c(B.shortcode.fromMatch(arguments));return j?b+j+i:a})},string:function(a){return new B.shortcode(a).string()},regexp:_.memoize(function(a){return new RegExp("\\[(\\[?)("+a+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)","g")}),attrs:_.memoize(function(a){var b,c,d={},e=[];for(b=/(\w+)\s*=\s*"([^"]*)"(?:\s|$)|(\w+)\s*=\s*\'([^\']*)\'(?:\s|$)|(\w+)\s*=\s*([^\s\'"]+)(?:\s|$)|"([^"]*)"(?:\s|$)|(\S+)(?:\s|$)/g,a=a.replace(/[\u00a0\u200b]/g," ");c=b.exec(a);)c[1]?d[c[1].toLowerCase()]=c[2]:c[3]?d[c[3].toLowerCase()]=c[4]:c[5]?d[c[5].toLowerCase()]=c[6]:c[7]?e.push(c[7]):c[8]&&e.push(c[8]);return{named:d,numeric:e}}),fromMatch:function(a){var b;return b=a[4]?"self-closing":a[6]?"closed":"single",new B.shortcode({tag:a[2],attrs:a[3],type:b,content:a[5]})}},B.shortcode=_.extend(function(a){_.extend(this,_.pick(a||{},"tag","attrs","type","content"));var b=this.attrs;this.attrs={named:{},numeric:[]},b&&(_.isString(b)?this.attrs=B.shortcode.attrs(b):_.isEqual(_.keys(b),["named","numeric"])?this.attrs=b:_.each(a.attrs,function(a,b){this.set(b,a)},this))},B.shortcode),_.extend(B.shortcode.prototype,{get:function(a){return this.attrs[_.isNumber(a)?"numeric":"named"][a]},set:function(a,b){return this.attrs[_.isNumber(a)?"numeric":"named"][a]=b,this},string:function(){var a="["+this.tag;return _.each(this.attrs.numeric,function(b){/\s/.test(b)?a+=' "'+b+'"':a+=" "+b}),_.each(this.attrs.named,function(b,c){a+=" "+c+'="'+b+'"'}),"single"===this.type?a+"]":"self-closing"===this.type?a+" /]":(a+="]",this.content&&(a+=this.content),a+"[/"+this.tag+"]")}});var C=_.memoize(function(a){return new RegExp("\\[(\\[?)("+a+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)")});if(a.fn.closest_descendents=function(b){for(var c=a(),d=this;d.length;)c=a.merge(c,d.filter(b)),d=d.not(b),d=d.children();return c},o.prototype={safe:!0,param_types:{},show_editor:function(b,c,e){a("#hb_modal").remove();for(var f={},g=0;g<b.length;g++)b[g].hidden||(b[g].element=c,b[g].tab in f?f[b[g].tab].push(b[g]):f[b[g].tab]=[b[g]]);var i,g=0,j="";for(var k in f)g++,""===k&&(k=h("General")),i=k===h("General")?' class="active"':"",j+="<li"+i+'><a href="#hb_editor_tab-'+g+'" data-toggle="tab">'+k+"</a></li>";g=0;var l=a('<form role="form" class="tab-content"></form>');for(var k in f){g++,i=""===k||k===h("General")?" active":"";for(var m=a('<div id="hb_editor_tab-'+g+'" class="tab-pane '+i+' clearfix"></div>'),n=0;n<f[k].length;n++)f[k][n].render(c.attrs[f[k][n].param_name]),a(m).append(f[k][n].dom_element);a(l).append(m)}var o=c.name+" "+h("settings"),p={elementName:o,tab_menu:j,tabs:m},q=_.template(a("#hb_edit_modal").html());a("#hb_modal-container").append(q(p)),a("#hb_editor_tabs").append(l),a('#hb_editor_tabs a[href="#hb_editor_tab-1"]').tab("show"),a("#hb_modal").one("shown.bs.modal",function(a){for(var c=0;c<b.length;c++)b[c].hidden||b[c].opened()}),a("#hb_modal").one("hidden.bs.modal",function(c){for(var d=0;d<b.length;d++)b[d].closed();a(window).scrollTop(t),a(window).off("scroll.hb_modal")});var r=a("#hb_modal").find('input[name="bg_image"]').val();r=r?"url('"+r+"')":"#eee",a("#hb_modal").find(".hb_bg_button").css({background:r}),a("#hb_modal").find(".hb_bg_button>.remove").click(function(b){a('input[name="bg_image"]').val(""),a(".hb_bg_button").css({background:"#eee"})});var s;a(".bg_button").click(function(b){if(b.preventDefault(),s)return void s.open();s=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!0}),s.on("select",function(b){attachment=s.state().get("selection").first().toJSON(),a('input[name="bg_image"]').val(attachment.url),a(".hb_bg_button").css({background:"url("+attachment.url+")"})}),s.open()}),a("#background_style").change(function(b){a(".hb_bg_button").css({"background-size":a("#background_style").val()})}),a("#hb_modal").find(".save").click(function(){for(var d={},f=0;f<b.length;f++)if(!b[f].hidden&&((!("display_none"in b[f])||"display_none"in b[f]&&!b[f].display_none)&&(d[b[f].param_name]=b[f].get_value()),b[f].required&&""==d[b[f].param_name]))return a(b[f].dom_element).addClass("has-error"),!1;return a("#hb_modal").modal("hide"),e.call(c,d),!1}),a("#hb_modal").find('[data-dismiss="modal"]').click(function(){d.edit_stack=[]});var t=a(window).scrollTop();a(window).on("scroll.hb_modal",function(){a(window).scrollTop(t)}),a("#hb_modal").modal(),a(".modal-backdrop").appendTo("#wpbody"),wpbodyWidth=a("#wpbody").css("width"),a(".modal-lg").css("width",wpbodyWidth)},opened:function(){},closed:function(){},render:function(a){}},"hayyabuild_param_types"in window)for(var D=0;D<window.hayyabuild_param_types.length;D++){var E=window.hayyabuild_param_types[D],F=function(){F.baseclass.apply(this,arguments)};!function(a,b){i(b,o),b.prototype.type=a,o.prototype.param_types[a]=b}(E.type,F),E.baseclass=F.baseclass,j(F.prototype,E)}window.hayyabuild_add_css=function(a,b){var c=window.hayyabuild_baseurl+a,d=document.getElementsByTagName("head")[0],e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=c,e.onload=b,d.appendChild(e)},window.hayyabuild_add_js_list=function(a){if("loaded"in a&&a.loaded)a.callback();else for(var b=0,c=0;c<a.paths.length;c++)hayyabuild_add_js({path:a.paths[c],callback:function(){++b==a.paths.length&&a.callback()}})},window.hayyabuild_add_js=function(a){"loaded"in a&&a.loaded?a.callback():hayyabuild_add_external_js(window.hayyabuild_baseurl+a.path,"callback"in a?a.callback:function(){})},window.hayyabuild_add_external_js=function(a,d){if(a in b)return void b[a].push(d);if(a in c)return void d();b[a]=[d];var e=document.getElementsByTagName("head")[0],f=document.createElement("script");f.type="text/javascript",f.src=a,f.onload=function(){for(c[a]=!0;a in b;){var d=b[a];b[a]=void 0,delete b[a];for(var e=0;e<d.length;e++)d[e]()}},e.appendChild(f)},j(q.prototype,{modules_instances:{},modules_instances_by_an_name:{},edit_stack:[],create_element:function(a,b,c){if(a.get_nested_depth(b)<r.prototype.max_nested_depth){var d=r.prototype.elements[b],e=new d(a,c);return e.update_dom(),a.update_empty(),e}return alert(h("Element can not be added. Max nested depth reached.")),!1},show:function(b){a("#hb_modal").remove();var c=_.template(a("#hb_elements-modal").html());a("#hb_modal-container").html(c({})),a("#hb_modal").find("[data-hb_element]").click(function(){var c=a(this).attr("data-hb_element"),e=d.create_element(b,c,!1);e&&(a("#hb_modal").removeClass("fade"),a("#hb_modal").modal("hide"),e.show_settings_on_create&&e.edit())}),a("#hb_modal").modal(),a(".modal-backdrop").appendTo("#wpbody"),wpbodyWidth=a("#wpbody").css("width"),a(".modal-lg").css("width",wpbodyWidth)},get_element:function(a){return this.modules_instances[a]},delete_element:function(b){a(document).trigger("hayyabuild_delete_element",b),delete this.modules_instances[b]},add_element:function(b,c,d){this.modules_instances[b.split("-")[0]]=c,a(document).trigger("hayyabuild_add_module",{id:b,position:d})}});"hayyabuild_classes"in window&&window.hayyabuild_classes,r.prototype={elements:{},tags:{},max_nested_depth:10,name:"",category:"",description:"",params:[p({type:"id",heading:h("Module ID"),param_name:"id",description:h("Module ID.")}),p({type:"classes",heading:h("Module classes"),param_name:"hayya_class",description:h("If you wish to style particular content module differently, then use this field to add a class name and then refer to it in your css file."),tab:h("Options")}),p({type:"style",heading:h("Style"),param_name:"style",description:h("Style options."),tab:h("Style")})],icon:"",thumbnail:"",is_container:!1,has_content:!1,frontend_render:!1,show_settings_on_create:!1,wrapper_class:"",weight:0,hidden:!1,disallowed_elements:[],show_parent_controls:!1,highlighted:!0,style_selector:"",section:!1,show_controls:function(){this.controls=a('<div class="controls btn-group"></div>').prependTo(this.dom_element);var b=(this.controls,["hb_element","hb_ctnr","visible-xs-block","visible-md-block","visible-sm-block","visible-lg-block","hidden-xs","hidden-md","hidden-sm","hidden-lg","hb_duration","hb_scale_out","hb_scale_in","hb_slide_left","hb_slide_right","hb_slide_up","hb_slide_down","hb_rotation_left","hb_rotation_right","hb_fade_in","hb_fade_out","hb_parallax_up","hb_parallax_down","bg-primary","text-primary","text-success","bg-success","bg-default","text-default","text-muted","small","text-left","text-right","text-center","text-justify","pull-left","pull-right"]),c=this.name,d=this.attrs.id,e=this.attrs.style,f=this.dom_content_element.attr("class");if(f){for(var i=0;i<b.length;i++)f=f.replace(b[i],"");f=f.trim()}var j='<div class="module_title">'+g("Module Info")+"</div><hr/>";j+='<div class="module_info"><ul>',j+="<li><strong>"+g("Module Name")+"</strong>: "+c+"</li>",j+='<li class="odd"><strong>'+g("Module ID")+"</strong>: "+d+"</li>",j+="<li><strong>"+g("Module Classes")+"</strong>: "+f+"</li>",j+='<li class="odd"><strong>'+g("Style Code")+"</strong>: "+e+"</li>",j+="</ul></div>",this.name!==h("Composer")?(a('<a data-toggle="tooltip" data-placement="left" title="'+this.name+'" class="control drag-and-drop hayya_btn btn-primary"><i class="fa fa-arrows"></i></a>').appendTo(this.controls),a('<a title="'+g("Edit")+'" class="control edit hayya_btn btn-warning"><i class="fa  fa-edit"></i></a>').appendTo(this.controls).click({object:this},this.click_edit),a('<a title="'+g("Copy")+'" class="control copy hayya_btn btn-default"><i class="fa fa-copy"></i></a>').appendTo(this.controls).click({object:this},this.click_copy),this.is_container&&!this.has_content&&(a('<a title="'+g("Add")+'" class="control add hayya_btn btn-default"><i class="fa fa-plus"></i></a>').appendTo(this.controls).click({object:this},this.click_add),a('<a title="'+g("Paste")+'" class="control paste hayya_btn btn-default"><i class="fa fa-paste"></i></a>').appendTo(this.controls).click({object:this},this.click_paste)),a('<a title="'+g("Remove")+'" class="control remove hayya_btn btn-danger"><i class="fa fa-trash"></i></a>').appendTo(this.controls).click({object:this},this.click_remove),a('<a title="'+g("Module Info")+'" class="control popover_btn hayya_btn btn-info"><i class="fa fa-question-circle"></i></a>').appendTo(this.controls).popover({animation:!0,html:!0,selector:!0,container:this.controls,content:j,placement:"top",trigger:"click hover focus",offset:"0 0",template:'<div class="popover info_popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>'})):(a('<a title="'+g("Add")+'" class="control add  waves-effect waves-light hayya_btn composer"><i class="fa fa-plus"></i></a>').appendTo(this.controls).click({object:this},this.click_add),a('<a title="'+g("Paste")+'" class="control paste waves-effect waves-light hayya_btn composer"><i class="fa fa-paste"></i></a>').appendTo(this.controls).click({object:this},this.click_paste)),this.update_empty()},get_empty:function(){return this.name==h("Composer")?'<div class="hb_empty hb_empty-container"></div>':'<div class="hb_empty hb_empty-row"></div>'},update_empty:function(){if(0==this.children.length&&this.is_container&&!this.has_content||this.has_content&&""==this.attrs.content){a(this.dom_content_element).find("> .hb_empty").remove();var b=a(this.get_empty()).appendTo(this.dom_content_element);0==a(b).find(".bottom").length&&"bottom",0==a(b).find(".top").length&&"top",a(b).click(function(b){if(1==b.which){var c=a(this).closest("[data-hb_element]").attr("data-hb_element").split("-")[0];d.show(d.get_element(c),function(a){})}})}else a(this.dom_content_element).find("> .hb_empty").remove()},get_button:function(){return""==this.thumbnail?'<div class="well text-center pull-left text-overflow" data-hb_element="'+this.base+'"><i class="text-primary '+this.icon+'"></i><div>'+this.name+'</div><div class="text-muted small">'+this.description+"</div></div>":'<div class="well pull-left" data-hb_element="'+this.base+'" style="background-image: url('+encodeURI(this.thumbnail)+'); background-position: center center; background-size: cover;"></div>'},click_add:function(a){return a.data.object.add(),!1},add:function(){d.show(this,function(a){})},update_sortable:function(){(this.is_container&&!this.has_content||this instanceof z)&&a(this.dom_content_element).sortable({items:"> .hb_element",connectWith:".hb_sortable",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"hb_sortable_placeholder",opacity:.5,zIndex:9999,tolerance:"pointer",start:function(a,b){b.placeholder.outerHeight(b.helper.outerHeight(!1)),b.helper.outerHeight(b.item.outerHeight()-2)},over:function(a,b){b.placeholder.attr("class",b.helper.attr("class")),b.placeholder.removeClass("ui-sortable-helper"),b.placeholder.addClass("hb_sortable_placeholder")},out:function(a,b){},stop:function(b,c){a(".hb_ctnr").removeClass("hb_sortable"),a(".hb_composer").removeClass("hb_sortable").outerHeight("auto")}}).parents().find(".drag-and-drop").on("mousedown",function(){a(".hb_ctnr").addClass("hb_sortable"),a(".hb_composer").addClass("hb_sortable").outerHeight(a(".hb_composer").outerHeight());var b=a(this).parents().eq(1);b.hasClass("hb_sortable")&&b.removeClass("hb_sortable")})},replace_render:function(){var b=this.dom_element,c=this.dom_content_element;null!=b&&(this.render(a),a(b).replaceWith(this.dom_element),null!=c&&a(this.dom_content_element).replaceWith(c)),this.show_controls()},update_dom:function(){this.detach_children(),a(this.dom_element).remove(),this.parent.detach_children(),this.render(a),this.attach_children(),this.show_controls(),this.parent.attach_children(),this.update_sortable(),this.update_empty()},restore:function(a){},recursive_restore:function(a){for(var b=0;b<this.children.length;b++)this.children[b].recursive_restore(a);this.restore(a)},render:function(a){if(a(this.dom_element).attr("data-hb_element",this.id+"-"+this.base),!this.attrs.id){var b=Math.random().toString(36).substring(7);id_value=this.base+"_"+b,this.attrs.id=id_value}},trigger_start_in_animation:function(){for(var a=0;a<this.children.length;a++)"trigger_start_in_animation"in this.children[a]&&this.children[a].trigger_start_in_animation()},trigger_start_out_animation:function(){for(var a=0;a<this.children.length;a++)"trigger_start_out_animation"in this.children[a]&&this.children[a].trigger_start_out_animation()},update_data:function(){a(this.dom_element).attr("data-hb_element",this.id+"-"+this.base);for(var b=0;b<this.params.length;b++){var c=this.params[b];if(c.param_name in this.attrs){var d=this.attrs[c.param_name];(""==d&&c.can_be_empty||""!=d)&&"content"!==c.param_name&&d!==c.value&&(c.safe||(d=btoa(encodeURIComponent(d))),a(this.dom_element).attr("data-hb-"+c.param_name,d))}}},recursive_update_data:function(){this.update_data();for(var a=0;a<this.children.length;a++)this.children[a].recursive_update_data()},recursive_showed:function(){for(var a=0;a<this.children.length;a++)this.children[a].recursive_showed()},update_sorting_children:function(){var b=a(this.dom_content_element).sortable("option"),c=[];a(this.dom_content_element).find(b.items).each(function(){c.push(d.get_element(a(this).attr("data-hb_element").split("-")[0]))}),this.children=c;for(var e=0;e<this.children.length;e++)this.children[e].parent=this;this.update_empty()},update_sorting:function(b,c){var e=d.get_element(a(c.item).closest("[data-hb_element]").attr("data-hb_element").split("-")[0]);e&&(c.source=d.get_element(a(this).closest("[data-hb_element]").attr("data-hb_element").split("-")[0]),c.from_pos=e.get_child_position(),c.source.update_sorting_children(),c.target=d.get_element(a(c.item).parent().closest("[data-hb_element]").attr("data-hb_element").split("-")[0]),c.source.id!=c.target.id&&c.target.update_sorting_children(),c.to_pos=e.get_child_position(),a(document).trigger("hayyabuild_update_sorting",c))},click_edit:function(a){return a.data.object.edit(),!1},edit:function(){o.prototype.show_editor(this.params,this,this.edited)},edited:function(b){for(var c in b)this.attrs[c]=l(b[c]);this.update_dom(),a(document).trigger("hayyabuild_edited_element",this.id)},attrs2string:function(){for(var a="",b=0;b<this.params.length;b++){var c=this.params[b];if(c.param_name in this.attrs){var d=this.attrs[c.param_name];if((""==d&&c.can_be_empty||""!=d)&&"content"!==c.param_name&&d!==c.value){if(c.safe||(d=btoa(encodeURIComponent(d))),"id"==c.param_name){var e=Math.random().toString(36).substring(7);d=this.base+"_"+e}a+=c.param_name+'="'+d+'" '}}}return a},get_content:function(){for(var a=0;a<this.params.length;a++){var b=this.params[a];if("content"===b.param_name&&"html"==b.type)return btoa(encodeURIComponent(this.attrs.content))}return this.attrs.content},set_content:function(a){for(var b=l(a),c=0;c<this.params.length;c++){var d=this.params[c];if("content"===d.param_name&&"html"==d.type)return b=decodeURIComponent(atob(b.replace(/^#E\-8_/,""))),void(this.attrs.content=b)}this.attrs.content=b},parse_attrs:function(b){for(var c=0;c<this.params.length;c++){var d=this.params[c];if(d.param_name in b)if(d.safe)this.attrs[d.param_name]=l(b[d.param_name]);else{var e=l(b[d.param_name]);this.attrs[d.param_name]=decodeURIComponent(atob(e.replace(/^#E\-8_/,"")))}else"value"in d&&_.isString(d.value)&&(this.attrs[d.param_name]=d.value)}for(var f in b)f in this.attrs||(this.attrs[f]=b[f]);a(document).trigger("hayyabuild_edited_element",this.id)},get_nested_depth:function(a){var b=0;return null!=this.parent&&(b+=this.parent.get_nested_depth(a)),this.base==a&&b++,b},get_my_shortcode:function(){var a=_.keys(r.prototype.elements),b=_.object(a,Array.apply(null,new Array(a.length)).map(Number.prototype.valueOf,0));return this.get_shortcode(b)},get_children_shortcode:function(){for(var a=_.keys(r.prototype.elements),b=_.object(a,Array.apply(null,new Array(a.length)).map(Number.prototype.valueOf,0)),c="",d=0;d<this.children.length;d++)c+=this.children[d].get_shortcode(b);return c},get_shortcode:function(a){a[this.base]++;for(var b="",c=0;c<this.children.length;c++)b+=this.children[c].get_shortcode(a);if("hb_unknown"==this.base)g=b;else{var d="";if(1==a[this.base])d=this.base;else{var e=a[this.base]-1;d=this.base+"_"+e}var f=this.attrs2string(),g="["+d+" "+f+"]";this.is_container&&(this.has_content?g+=this.get_content()+"[/"+d+"]":g+=b+"[/"+d+"]")}return a[this.base]--,g},parse_shortcode:function(b){var c=_.keys(r.prototype.tags).join("|"),d=B.shortcode.regexp(c),e=a.trim(b).match(d);if(_.isNull(e)){if(0==b.length)return;"["==b.substring(0,1)&&"]"==b.slice(-1)?this.parse_shortcode("[hb_unknown]"+b+"[/hb_unknown]"):this.parse_shortcode("[hb_text]"+b+"[/hb_text]")}_.each(e,function(a){var b=a.match(C(c)),d=b[5],e=new RegExp("^[\\s]*\\[\\[?("+_.keys(r.prototype.tags).join("|")+")(?![\\w-])"),f=B.shortcode.attrs(b[3]),g=b[2];if(!(this.get_nested_depth(g)>r.prototype.max_nested_depth)){var h=z;g in r.prototype.tags&&(h=r.prototype.tags[g]);var i=new h(this,!0);i.parse_attrs(f.named);var j=r.prototype.tags[g].prototype;_.isString(d)&&d.match(e)&&!0===j.is_container?i.parse_shortcode(d):_.isString(d)&&d.length&&"hb_row"===g?i.parse_shortcode("[hb_text]"+d+"[/hb_text]"):_.isString(d)&&d.length&&"hb_column"===g&&("["!=d.substring(0,1)||"]"!=d.slice(-1))?i.parse_shortcode("[hb_text]"+d+"[/hb_text]"):_.isString(d)&&(!0===j.has_content?i.set_content(d):""!=d&&i.parse_shortcode("[hb_unknown]"+d+"[/hb_unknown]"))}},this)},parse_html:function(b){var c=this;a(b).children().closest_descendents("[data-hb_element]").each(function(){var b=a(this).attr("data-hb_element").split("-")[1],d=z;b in r.prototype.tags&&(d=r.prototype.tags[b]);var e=new d(c,!0);e.dom_element=a(this);var f={};if(a(a(this)[0].attributes).each(function(){this.nodeName.indexOf("data-hb")>=0&&(f[this.nodeName.replace("data-hb-","")]=this.value)}),e.parse_attrs(f),e.is_container){var g=a(this).closest_descendents("[data-hb_element]");g.length>0&&(e.dom_content_element=a(g),e.has_content?e instanceof z?(e.attrs.content=a(g).wrap("<div></div>").parent().html(),a(g).unwrap()):e.attrs.content=a(g).html():e.parse_html(g))}})},recursive_render:function(){for(var b=0;b<this.children.length;b++)this.children[b].recursive_render();this.render(a),this.attach_children(),this.show_controls(),this.update_sortable()},detach_children:function(){for(var b=0;b<this.children.length;b++){a(this.children[b].dom_element).detach();var c=document.getElementById("elemnt_list_"+this.children[b].id);c&&c.parentNode.removeChild(c)}this.remove_duplicate_li()},attach_children:function(){for(var b=0;b<this.children.length;b++){a(this.dom_content_element).append(this.children[b].dom_element);var c=document.getElementById("elements_list"),d=document.createElement("li");d.setAttribute("id","elemnt_list_"+this.children[b].id),d.setAttribute("data-base",this.children[b].base),d.innerHTML=this.children[b].name,c&&c.appendChild(d)}this.remove_duplicate_li()},click_copy:function(a){return a.data.object.copy(),!1},copy:function(){var b=this.get_my_shortcode();a("#clipboard").html(btoa(encodeURIComponent(b)))},click_paste:function(a){return a.data.object.paste(0),!1},paste:function(b){var c=decodeURIComponent(atob(a("#clipboard").html()));if(""!=c){var d=this.children.length;r.prototype.parse_shortcode.call(this,c);for(var e=[],f=d;f<this.children.length;f++)this.children[f].recursive_render(),e.push(this.children[f]);this.children=this.children.slice(0,d),this.children.splice.apply(this.children,[b,0].concat(e)),this.detach_children(),this.attach_children(),this.update_empty(),this.update_sortable(),this.recursive_showed(),a(document).trigger("hayyabuild_containers_update")}else alert("There is nothing to paste because the clipboard is empty.")},click_remove:function(a){if(confirm(g("Are you sure you want to remove this "+a.data.object.name+"?")))return a.data.object.remove(),!1},remove_elements_list:function(){for(var a=this.children.length,b=0;b<a;b++){this.children[b].remove_elements_list();var c=document.getElementById("elemnt_list_"+this.children[b].id);c&&c.parentNode.removeChild(c)}var c=document.getElementById("elemnt_list_"+this.id);c&&c.parentNode.removeChild(c)},remove_duplicate_li:function(){var b="",c=a("#elements_list > li"),d=[],e=[];a(c).each(function(){var c=a(this).attr("data-base");-1==b.indexOf(c+",")&&"hb_row"!=c&&"hb_column"!=c?(b+=c+",",e.push(a(this))):d.push(a(this))}),a(d).each(function(){a(this).hide()}),a(e).each(function(){a(this).show()}),a("#elements_list_input").val(b)},remove:function(){d.delete_element(this.id);for(var b=0;b<this.children.length;b++)this.children[b].remove();a(this.dom_element).remove();for(var b=0;b<this.parent.children.length;b++)if(this.parent.children[b].id==this.id){this.parent.children.splice(b,1);break}this.remove_elements_list(),this.parent.update_empty(),this.remove_duplicate_li()},get_child_position:function(){for(var a=0;a<this.parent.children.length;a++)if(this.parent.children[a].id==this.id)return a;return-1},get_my_container:function(){return this instanceof A?this:this.parent.get_my_container()},get_all_disallowed_elements:function(){if("parent"in this){return _.uniq(this.parent.get_all_disallowed_elements().concat(this.disallowed_elements))}return this.disallowed_elements}},d=new q,a(function(){t()});a.fn.hayyabuild_composer=function(b){return{init:function(b){return this.each(function(){var b=this,c=a(this).data("hayyabuild_composer");if(!c){var f=a("<div>"+a(b).val()+"</div>")[0];a(f).find("> script").remove(),a(f).find("> link[href]").remove(),a(f).find("> .hb_composer > script").remove(),a(f).find("> .hb_composer > link[href]").remove(),a(b).css("display","none");var g=null;if(a(f).find("> .hb_composer[data-hb-type][data-hb-name]").length>0)g=a(f).children().insertAfter(b);else{g=a('<div class="hb_element hb_composer"></div>').insertAfter(b),g.append(a(f).html())}var c=u(g);c&&(e.push(c),a(b).data("hayyabuild_composer",c),c.save_container=function(){hayyabuild_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){_.defer(function(){if(c.id in d.modules_instances){var e=c.get_container_html();a(b).val(""+e)}})}})},a(document).on("hayyabuild_add_module",c.save_container),a(document).on("hayyabuild_edited_element",c.save_container),a(document).on("hayyabuild_update_element",c.save_container),a(document).on("hayyabuild_delete_element",c.save_container),a(document).on("hayyabuild_update_sorting",c.save_container))}})},show:function(){this.each(function(){})}}.init.apply(this,arguments)},i(v,r),w("hb_row",!0,x),j(x.prototype,{name:h("Row"),icon:"fa fa-table",description:h("One row to implement a Bootstrap grid layout."),category:h("Layout"),params:[p({type:"dropdown",heading:h("Device"),param_name:"device",value:{xs:h("Extra small devices Phones (<768px)"),sm:h("Small devices Tablets (≥768px)"),md:h("Medium devices Desktops (≥992px)"),lg:h("Large devices Desktops (≥1200px)")},description:h("Bootstrap responsive grid system")})].concat(x.prototype.params),is_container:!0,get_button:function(){return'<div class="well text-center text-overflow" data-hb_element="'+this.base+'"><i class="text-primary '+this.icon+'"></i><div>'+this.name+'</div><div class="text-muted small">'+this.description+"</div></div>"},show_controls:function(){x.baseclass.prototype.show_controls.apply(this,arguments),a(this.controls).find(".add").remove(),a(this.controls).find(".paste").remove();for(var b=this,c=this.controls,d='<div class="row-layouts clearfix">'+g("Select columns")+"<hr/>",e=["1/1","1/2 + 1/2","2/3 + 1/3","1/3 + 1/3 + 1/3","1/4 + 1/4 + 1/4 + 1/4","1/4 + 3/4","1/4 + 1/2 + 1/4","5/6 + 1/6","1/6 + 1/6 + 1/6 + 1/6 + 1/6 + 1/6","1/6 + 4/6 + 1/6","1/6 + 1/6 + 1/6 + 1/2"],f=0;f<e.length;f++)d+='<div title="'+g("Set "+e[f]+" colums")+'" class="control set-columns-layout l_'+e[f].replace(/ \+ /g,"_").replace(/\//g,"")+'" data-hb-columns="'+e[f]+'"></div>';d+="</div>";var h=a('<a href="#" class="control set-columns hayya_btn"><i class="glyphicon glyphicon-th"></i></a>').appendTo(this.controls).click({object:this},this.click_set_columns).popover({animation:!0,placement:"top",html:"true",trigger:"manual",content:d}).hover(function(){a(c).find(".info_popover").popover("hide"),a(h).popover("show"),n(a(c).find(".popover")),a(c).find(".popover .set-columns-layout").each(function(){a(this).click({object:b},b.click_set_columns)}),a(b.controls).mouseleave(function(){a(h).popover("hide"),a(h).css("display","")})})},update_sortable:function(){a(this.dom_element).sortable({axis:"x",items:"> .hb_column",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"hb_sortable_placeholder",tolerance:"pointer",revert:500,scroll:!1,cursor:"move",start:function(a,b){b.placeholder.outerHeight(b.item.outerHeight(!0)),b.helper.outerHeight(b.item.outerHeight(!0))},over:function(a,b){b.placeholder.attr("class",b.helper.attr("class")),b.placeholder.removeClass("ui-sortable-helper"),b.placeholder.addClass("hb_sortable_placeholder")}})},update_sorting:function(b,c){x.baseclass.prototype.update_sorting.apply(this,arguments)
;var e=d.get_element(a(this).closest("[data-hb_element]").attr("data-hb_element").split("-")[0]);if(e)for(var f=0;f<e.children.length;f++)e.children[f].update_empty()},update_dom:function(){x.baseclass.prototype.update_dom.apply(this,arguments);for(var a=0;a<this.children.length;a++)this.children[a].update_dom()},click_set_columns:function(b){var c=a(this).attr("data-hb-columns");if(""==c||void 0==c){if(""==b.data.object.columns){c=[];for(var d=0;d<b.data.object.children.length;d++)c.push(b.data.object.children[d].attrs.width);b.data.object.columns=c.join(" + ")}c=window.prompt(h("Enter custom layout for your row:"),b.data.object.columns)}return""!=c&&null!=c&&b.data.object.set_columns(c),!1},set_columns:function(a){this.columns=a;var b=a.replace(" ","").split("+");if(0==this.children.length)for(var c=0;c<b.length;c++){var d=new y(this,!0);d.update_dom(),d.update_width(b[c])}else if(this.children.length==b.length)for(var c=0;c<b.length;c++)this.children[c].update_width(b[c]);else if(this.children.length>b.length){for(var e=this.children[b.length-1],c=0;c<this.children.length;c++)if(c<b.length)this.children[c].update_width(b[c]);else{for(var f=this.children[c],g=0;g<f.children.length;g++)f.children[g].parent=e,e.children.push(f.children[g]);f.children=[]}e.update_dom();for(var h=this.children.slice(b.length,this.children.length),c=0;c<h.length;c++)h[c].remove()}else for(var c=0;c<b.length;c++)if(c<this.children.length)this.children[c].update_width(b[c]);else{var d=new y(this,!0);d.update_dom(),d.update_width(b[c])}this.update_sortable()},render:function(a){this.dom_element=a('<div class="hb_element hb_row row '+this.attrs.hayya_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,x.baseclass.prototype.render.apply(this,arguments)}}),s("hb_column",!0,y),j(y.prototype,{name:h("Column"),params:[p({type:"textfield",heading:h("Column with"),param_name:"width",hidden:!0})].concat(y.prototype.params),hidden:!1,is_container:!0,show_parent_controls:!0,show_controls:function(){y.baseclass.prototype.show_controls.apply(this,arguments),a(this.controls).find(".copy").remove(),a(this.controls).find(".remove").remove()},get_my_shortcode:function(){return this.get_children_shortcode()},update_width:function(b){a(this.dom_element).removeClass(k(this.attrs.width,this.parent.attrs.device)),this.attrs.width=b,a(this.dom_element).addClass(k(this.attrs.width,this.parent.attrs.device)),a(document).trigger("hayyabuild_update_element",this.id)},render:function(a){this.dom_element=a('<div class="hb_element hb_ctnr hb_column '+this.attrs.hayya_class+" "+k(this.attrs.width,this.parent.attrs.device)+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,y.baseclass.prototype.render.apply(this,arguments)}}),s("hb_unknown",!0,z),j(z.prototype,{has_content:!1,is_container:!0,hidden:!0,show_controls:function(){z.baseclass.prototype.show_controls.apply(this,arguments),a(this.controls).find(".copy").remove(),a(this.controls).find(".add").remove(),a(this.controls).find(".paste").remove(),a(this.controls).find(".edit").remove(),a(this.controls).find(".drag-and-drop").remove()},update_empty:function(){},render:function(a){if(this.dom_element=a('<div class = "hb_element hb_unknownelement">Unknown Module<br>You have to remove it<br></div>'),this.dom_content_element=this.dom_element,"content"in this.attrs){var b=/\[[^\]]*\]([^\[]*)\[\/[^\]]*\]/.exec(this.attrs.content);b&&a(this.dom_element).append(b[1])}z.baseclass.prototype.render.apply(this,arguments)}}),w("hb_composer",!0,A),j(A.prototype,{name:h("Composer"),show_settings_on_create:!1,is_container:!0,hidden:!0,get_my_shortcode:function(){return this.get_children_shortcode()},get_html:function(){this.recursive_update_data();var b=a("<div>"+a(this.dom_content_element).html()+"</div>");return this.recursive_restore(b),a(b).find(".hb_element > .controls").remove(),a(b).find("> .controls").remove(),a(b).find(".hb_sortable_controls").remove(),a(b).find(".hb_step_controls").remove(),a(b).find(".hb_empty").remove(),a(b).find(".ui-resizable-e").remove(),a(b).find(".ui-resizable-e").remove(),a(b).find(".ui-resizable-s").remove(),a(b).find(".ui-resizable-se").remove(),a(b).find(".editable-highlight").removeClass("editable-highlight"),a(b).find(".styleable-highlight").removeClass("styleable-highlight"),a(b).find(".sortable-highlight").removeClass("sortable-highlight"),a(b).find(".ui-draggable").removeClass("ui-draggable"),a(b).find(".ui-resizable").removeClass("ui-resizable"),a(b).find(".ui-sortable").removeClass("ui-sortable"),a(b).find(".ui-sortable-handle").removeClass("ui-sortable-handle"),a(b).find(".hb_element.hb_composer > .hb_ctnr").empty(),a(b).find(".g-recaptcha").empty(),a(b).html()},get_container_html:function(){return this.get_html()},render:function(a){this.dom_element=a('<div class="hb_element hb_composer hb_ctnr"></div>'),this.dom_content_element=a(this.dom_element).find(".hb_ctnr"),A.baseclass.prototype.render.apply(this,arguments)}}),function(){if("hayyabuild_elements"in window)for(var a=0;a<window.hayyabuild_elements.length;a++){var b=window.hayyabuild_elements[a],c=function(a,b){c.baseclass.apply(this,arguments)};w(b.base,b.is_container,c),b.baseclass=c.baseclass,b.params=b.params.concat(c.prototype.params),j(c.prototype,b);for(var d=0;d<c.prototype.params.length;d++){var e=c.prototype.params[d],f=p(e);c.prototype.params[d]=f}}}()}(window.jQuery,{},{},{},[]);