jQuery(document).ready(function(e){function t(){if(c)return"You have unsaved changes on this page.\nDo you want to leave this page and discard your changes?"}e(".dropdown-button").length>0&&e(".dropdown-button").dropdown({inDuration:300,outDuration:225,constrain_width:!1,hover:!0,gutter:0,belowOrigin:!1,alignment:"left"}),e(".background_div").hide(),e("#"+e("#background_type").val()).show(),e(".hb_composer").css({background:e("#background").val()}),e("#background_type").on("change",function(){e(".background_div").hide(),e("#"+this.value).show(),"background_transparent"==e(this).val()?e(".hb_composer").css({background:'url("../wp-content/plugins/hayyabuild/admin/assets/images/empty_bg.png")'}):"background_image"==e(this).val()?(e(".hb_composer").css({background:'url("'+e('input[name="settings[background_image]"]').val()+'")'}),e(".hb_composer").css({"background-repeat":e('select[name="settings[background_repeat]"]').val()})):"background_video"==e(this).val()?e(".hb_composer").css({background:"#FFFFFF"}):"background_color"==e(this).val()&&e(".hb_composer").css({background:e('input[name="settings[background_color]"]').val()})}),e('input[name="settings[background_color]"]').on("input",function(){e(".hb_composer").css({background:e(this).val()})}),e('input[name="settings[background_image]"]').on("input",function(){e(".hb_composer").css({background:'url("'+e(this).val()+'")'})}),e('select[name="settings[background_repeat]"]').on("change",function(){e(".hb_composer").css({"background-repeat":e(this).val()})}),e("INPUT.minicolors").length>0&&e("INPUT.minicolors").minicolors(e.minicolors={defaults:{control:"hue",dataUris:!0,defaultValue:"",format:"rgb",hide:null,hideSpeed:100,opacity:!0,position:"bottom left",show:null,showSpeed:100,theme:"default"}})
var o={".chosen-select":{width:"100%",no_results_text:"Oops, nothing found!"},".chosen-select-deselect":{allow_single_deselect:!0},".chosen-select-no-single":{disable_search_threshold:10},".chosen-select-no-results":{no_results_text:"Oops, nothing found!"},".chosen-select-width":{width:"95%"}}
for(var n in o)e(n).length>0&&e(n).chosen(o[n])
e(".chosen-select").length>0&&e(".chosen-select").bind("load, change",function(t,o){var n=e(this)
o.selected&&"all"==o.selected?n.children("optgroup").not(":selected").each(function(){e(this).attr("disabled","disabled")}):o.deselected&&"all"==o.deselected&&n.children("optgroup").each(function(){e(this).removeAttr("disabled")}),e(".chosen-select").trigger("chosen:updated")})
var s
e("#background_image_button").click(function(t){if(t.preventDefault(),s)return void s.open()
s=wp.media.frames.file_frame=wp.media({title:"Choose Image"}),s.on("select",function(t){attachment=s.state().get("selection").first().toJSON(),e("#background_image_input").val(attachment.url),jQuery(".hb_composer").css("background","url("+attachment.url+")")}),s.open()})
var s
if(e("#background_video_button").click(function(t){if(t.preventDefault(),s)return void s.open()
s=wp.media.frames.file_frame=wp.media({title:"Choose Video"}),s.on("select",function(t){attachment=s.state().get("selection").first().toJSON(),e("#background_video_input").val(attachment.url),e(".hb_composer").css("background","#FFF")}),s.open()}),e("[data-toggle=tooltip]").length&&e('[data-toggle="tooltip"]').tooltip(),e(".select_material").length>0&&e(".select_material").material_select(),e("#csscodediv").length>0){var i=e("#csscode").hide(),a=ace.edit("csscodediv")
a.setTheme("ace/theme/eclipse"),a.getSession().setMode("ace/mode/css"),a.setHighlightActiveLine(!0),a.setOptions({minLines:20,maxLines:30,showLineNumbers:!0,showInvisibles:!0,fontSize:13}),a.getSession().setValue(i.val()),a.getSession().on("change",function(){i.val(a.getSession().getValue())})}if(e("#csseditordiv").length>0){var i=e("#csseditor").hide(),a=ace.edit("csseditordiv")
a.setTheme("ace/theme/eclipse"),a.getSession().setMode("ace/mode/css"),a.setHighlightActiveLine(!0),a.setOptions({minLines:20,maxLines:30,showLineNumbers:!0,showInvisibles:!0,fontSize:13}),a.getSession().setValue(i.val()),a.getSession().on("change",function(){i.val(a.getSession().getValue())})}if(e("#builder_form").length>0){var c=!1
e(".hayyabuild.hb_composer").on("DOMSubtreeModified",function(){c=!0}),e("#builder_form").on("change keyup paste",function(){c=!0}),e(".save_shanges").click(function(){c=!1}),window.onbeforeunload=t}})
