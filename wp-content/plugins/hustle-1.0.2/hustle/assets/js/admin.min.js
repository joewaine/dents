"use strict";var Optin=Optin||{};Optin.View={},Optin.Models={},Optin.Events={},"undefined"!=typeof Backbone&&_.extend(Optin.Events,Backbone.Events),function(e){Optin.COOKIE_PREFIX="inc_optin_long_hidden-",Optin.POPUP_COOKIE_PREFIX="inc_optin_popup_long_hidden-",Optin.SLIDE_IN_COOKIE_PREFIX="inc_optin_slide_in_long_hidden-",Optin.SLIDE_IN_COOKIE_HIDE_ALL="inc_optin_slide_in_hide_all",_.mixin({toBool:function(e){return _.isBoolean(e)?e:_.isString(e)&&["true","false","1"].indexOf(e.toLowerCase())!==-1?"true"===e.toLowerCase()||"1"===e.toLowerCase():_.isNumber(e)?!!e:!(_.isUndefined(e)||_.isNull(e)||_.isNaN(e))&&e},isTrue:function(e){return!(_.isUndefined(e)||_.isNull(e)||_.isNaN(e))&&(_.isNumber(e)?0!==e:(e=e.toString().toLowerCase(),["1","true"].indexOf(e)!==-1))},control_base:function(e,t,i){return i=_.isUndefined(i)?"checked":i,e=_.toBool(e),t=_.isBoolean(e)?_.isTrue(t):t,_.isEqual(e,t)?i+'="'+i+'"':""},checked:function(e,t){return _.control_base(e,t,"checked")},selected:function(e,t){return _.control_base(e,t,"selected")},disabled:function(e,t){return _.control_base(e,t,"disabled")}}),_.findKey||_.mixin({findKey:function(e,t,i){t=cb(t,i);for(var o,s=_.keys(e),n=0,a=s.length;n<a;n++)if(o=s[n],t(e[o],o,e))return o}}),Array.prototype.has=function(e){return this.indexOf(e)!==-1},String.prototype.toInt=function(){return parseInt(this,10)},String.prototype.isEmpty=function(){return 0===this.length||!this.trim()},Optin.template=_.memoize(function(t){var i,o={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g};return function(s){return(i=i||_.template(e("#"+t).html(),null,o))(s)}}),Optin.cookie={get:function(e){var t,i,o,s=document.cookie.split(";");for(o=e+"=",t=0;t<s.length;t+=1){for(i=s[t];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(o)){var n=i.substring(o.length,i.length);return n?JSON.parse(n):n}}return null},set:function(t,i,o){var s,n;i=e.isArray(i)||e.isPlainObject(i)?JSON.stringify(i):i,isNaN(o)?n="":(s=new Date,s.setTime(s.getTime()+24*o*60*60*1e3),n="; expires="+s.toGMTString()),document.cookie=t+"="+i+n+"; path=/"}},e(document).on("blur","input, textarea, select",function(){var t=e(this);t.is(":input[type=button], :input[type=submit], :input[type=reset]")||(""!==t.val().trim()?t.parent().addClass("wpoi-filled"):t.parent().removeClass("wpoi-filled"))}),Optin.Mixins={_mixins:{},_services_mixins:{},_desing_mixins:{},_display_mixins:{},add:function(e,t){this._mixins[e]=t},get_mixins:function(){return this._mixins},add_services_mixin:function(e,t){this._services_mixins[e]=t},get_services_mixins:function(){return this._services_mixins}},e(document).on("blur","input, textarea, select",function(){var t=e(this);t.is(":input[type=button], :input[type=submit], :input[type=reset]")||(""!==t.val().trim()?t.parent().addClass("wpoi-filled"):t.parent().removeClass("wpoi-filled"))})}(jQuery),function(e){Optin.View.Template_Mixin={events:{"change input[type=text]":"set_model_texts","keyup .wpoi_contenteditable":"set_model_contenteditables","change input[type=radio]":"set_model_radios","change select":"set_model_selects","change input[type=checkbox]":"set_model_checkboxes","blur input[type=text]":"set_model_selects","blur input[type=number]":"set_model_selects"},set_model_texts:function(t){var i=e(t.target),o=i.data("attribute");console.log(o,t.target.value),this.model.set(o,t.target.value)},set_model_contenteditables:function(t){var i=e(t.target),o=i.data("attribute");this.model.set(o,i.text())},set_model_radios:function(t){var i=e(t.target),o=i.data("attribute");this.model.set(o,t.target.value)},set_model_selects:function(t){var i=e(t.target),o=i.data("attribute");this.model.set(o,t.target.value)},set_model_checkboxes:function(t){var i=e(t.target),o=i.data("attribute");this.model.set(o,i.is(":checked"))}}}(jQuery),function(e){e(document).on("click",".inc_opt_preview_optin",function(t){t.preventDefault();var i=e(this),o=i.data("data"),s=i.data("design"),n=i.data("popup"),a=s.form_location.toInt();if(!_.isEmpty(o)&&!_.isEmpty(s)){_.each(wpmUi.popups(),function(e,t){e.hide()});var r,l,d=Optin.get_tpl(a),p=d(_.extend({},o,s,s.borders)),c=wpmUi.popup('<div><a href="#" class="inc-opt-close-popup" aria-label="Close" >&times;</a>'+p+"</div>"),h=e(window).width();e(window).height();switch(a){case 0:r=.5*h;break;case 1:r=.74*h;break;case 2:case 3:r=.6*h}c.size(r,l).modal(!1,!1).animate(n.animation_in,n.animation_out).set_class("inc_opt_preview_popup inc_opt_popup inc_optin inc_optin_"+o.id).onshow(function(){}).show(),e(document).on("submit",".wpoi-form-wrap",function(e){e.preventDefault()})}}),e(document).on("click",".inc-opt-close-popup",function(t){t.preventDefault();var i=e(t.target);i.closest(".inc_opt_popup");_.each(wpmUi.popups(),function(e,t){e.hide()})}),e(document).on("click",".can-open .box-title span.open i.dev-icon",function(){var t=e(this),i="dev-icon-caret_up",o="dev-icon-caret_down",s=t.hasClass(i)?i:o,n=s==i?o:i,a=t.closest("section");t.switchClass(s,n),a.toggleClass("closed",s==o),a.find(".box-content").toggle(n==o)});var t=function(t,i){"undefined"==typeof i&&(i=400);var o=t,s=o.data()||{},n=e('.wpoi-testmode-active-state[data-id="'+s.id+'"][data-type="'+s.type+'"]').closest(".test-mode");o.is(":checked")?n.fadeOut(i):n.fadeIn(i)};e(document).on("change",".optin-type-active-state",function(i){var o=e(this),s=o.data()||{};t(o),e('.optin-type-active-state[data-id="'+s.id+'"][data-type="'+s.type+'"]').not(this).prop("checked",!!o.is(":checked")),s.action="inc_opt_toggle_optin_type_state",s._ajax_nonce=s.nonce,o.prop("disabled",!0),e.post(ajaxurl,s,function(e){o.prop("disabled",!1)})}),e(".optin-type-active-state").each(function(){t(e(this),0)}),e(document).on("change",".wpoi-testmode-active-state",function(t){var i=e(this),o=i.data()||{};o.action="inc_opt_toggle_type_test_mode",o._ajax_nonce=o.nonce,e('.wpoi-testmode-active-state[data-id="'+o.id+'"][data-type="'+o.type+'"]').not(this).prop("checked",!!i.is(":checked")),i.prop("disabled",!0),e.post(ajaxurl,o,function(e){i.prop("disabled",!1)})}),e(document).on("click",".wpoi-listing-wrap header.can-open .toggle, .wpoi-listing-wrap header.can-open .toggle-label",function(e){e.stopPropagation()}),e(document).on("change",".optin-active-state",function(t){var i=e(this),o=i.data()||{},s=i.closest(".wpoi-listing-wrap").find(".wpoi-optin-disable-overlay");o.action="inc_opt_toggle_state",o._ajax_nonce=o.nonce,i.prop("disabled",!0),s.toggleClass("hidden"),e.post(ajaxurl,o,function(e){i.prop("disabled",!1)})}),e(".accordion header .optin-delete-optin, .accordion header .edit-optin, .wpoi-optin-details tr .button-edit").hide().css({transition:"none"}),e(document).on({mouseenter:function(){var t=e(this);t.find(".optin-delete-optin, .edit-optin").stop().fadeIn("fast")},mouseleave:function(){var t=e(this);t.find(".toggle-checkbox").removeProp("disabled"),t.find(".edit-optin").removeProp("disabled"),t.removeClass("disabled"),t.find(".optin-delete-optin, .edit-optin, .delete-optin-confirmation").stop().fadeOut("fast")}},".accordion header"),e(document).on({mouseenter:function(){var t=e(this);t.find(".button-edit").stop().fadeIn("fast")},mouseleave:function(){var t=e(this);t.find(".button-edit").stop().fadeOut("fast")}},".wpoi-optin-details tr"),e(document).on("click",".optin-delete-optin",function(t){t.stopPropagation(),t.preventDefault();var i=e(this);i.closest("header").addClass("disabled"),i.parent().find(".toggle-checkbox").prop("disabled",!0),i.parent().find(".edit-optin").prop("disabled",!0),i.fadeOut("fast",function(){i.parent().find(".delete-optin-confirmation").fadeIn("fast")})}),e(document).on("click",".optin-delete-optin-cancel",function(t){t.stopPropagation(),t.preventDefault();var i=e(this);i.closest("header").find(".toggle-checkbox").removeProp("disabled"),i.closest("header").find(".edit-optin").removeProp("disabled"),i.closest("header").removeClass("disabled"),i.parent().fadeOut("fast",function(){i.parent().parent().find(".optin-delete-optin").fadeIn("fast")})}),e(document).on("click",".optin-delete-optin-confirm",function(t){t.stopPropagation(),t.preventDefault();var i=e(this),o=i.data()||{};o.action="inc_opt_delete_optin",o._ajax_nonce=o.nonce,i.prop("disabled",!0),e.post(ajaxurl,o,function(t){i.prop("disabled",!1),t.success&&i.closest(".wpoi-listing-wrap").slideUp(300,function(){e(this).remove(),e(".wpoi-listing-wrap").length||location.reload()})})}),e(document).on("click",".wpoi-tabs-menu a",function(t){t.preventDefault();var i=e(this).attr("tab");Optin.router.navigate(i,!0)}),e(document).on("click",".edit-optin",function(t){t.stopPropagation(),t.preventDefault(),window.location.href=e(this).attr("href")}),e(document).on("click",".wpoi-type-edit-button",function(t){t.preventDefault();var i=e(this).data("id"),o=e(this).data("type");window.location.href="admin.php?page=inc_optin&optin="+i+"#display/"+o}),e(document).on("click","*[for]",function(t){var i=e(this),o=i.attr("for"),s=e("#"+o);!i.is("label")&&s.length&&(s.trigger("change"),s.trigger("click"))}),e("#wpoi-complete-message").fadeIn(),e(document).on("click","#wpoi-complete-message .next-button button",function(t){e("#wpoi-complete-message").fadeOut()}),e(document).on("click",".wpoi-listing-page .wpoi-listing-wrap header.can-open",function(t){e(this).find(".open").trigger("click")}),e(document).on("click",".wpoi-listing-page .wpoi-listing-wrap .can-open .open",function(t){t.stopPropagation();var i=e(this),o=i.closest(".wpoi-listing-wrap"),s=o.find("section"),n=e(".wpoi-listing-wrap").not(o),a=e(".wpoi-listing-wrap section").not(s);a.slideUp(300,function(){a.removeClass("open")}),n.find(".dev-icon").removeClass("dev-icon-caret_up").addClass("dev-icon-caret_down"),s.slideToggle(300,function(){o.toggleClass("open"),o.find(".dev-icon").toggleClass("dev-icon-caret_up dev-icon-caret_down")})}),e(document).on("click",".wpoi-condition-item header",function(t){var i=e(this),o=i.closest(".wpoi-condition-item"),s=o.find("section"),n=o.find(".dashicons-before");s.slideToggle(300,function(){n.toggleClass("wpoi-arrow-up wpoi-arrow-down")})})}(jQuery),Optin.M=Backbone.Model.extend({toJSON:function(){var e=_.clone(this.attributes);for(var t in e)(e[t]instanceof Backbone.Model||e[t]instanceof Backbone.Collection)&&(e[t]=e[t].toJSON());return e},set:function(e,t,i){if("string"==typeof e&&e.indexOf(".")!==-1){var o=e.split(".")[0],s=e.split(".")[1],n=this.get(o);n&&n instanceof Backbone.Model&&(n.set(s,t,i),this.trigger("change:"+e,e,t,i))}else Backbone.Model.prototype.set.call(this,e,t,i)},get:function(e){if("string"==typeof e&&e.indexOf(".")!==-1){var t=e.split(".")[0],i=e.split(".")[1];return this.get(t).get(i)}return Backbone.Model.prototype.get.call(this,e)}}),Optin.Model=Optin.M.extend({defaults:{optin_name:optin_vars.messages.model.defaults.optin_name,optin_title:optin_vars.messages.model.defaults.optin_title,optin_message:optin_vars.messages.model.defaults.optin_message,optin_provider:"",api_key:"",mail_list:"",active:1,test_mode:0},validate_first_step:function(e){var t=[];return e=e||this.attributes,e.optin_name&&!e.optin_name.isEmpty()||t.push({name:"name",message:optin_vars.messages.model.errors.name}),1!=e.test_mode&&(e.optin_provider&&!e.optin_provider.isEmpty()||t.push({name:"provider",message:optin_vars.messages.model.errors.provider}),e.api_key&&!e.api_key.isEmpty()||t.push({name:"api_key",message:optin_vars.messages.model.errors.api_key}),e.optin_mail_list&&!e.optin_mail_list.isEmpty()||t.push({name:"mail_list",message:optin_vars.messages.model.errors.mail_list})),_(t)}}),Optin.Models.Color_Palette=Optin.M.extend({defaults:{_id:"",label:"",main_background:"",form_background:"",button_background:"",button_label_color:"",title_color:"",content_color:"",fields_background:"",fields_color:""}}),Optin.Models.Color_Palette_Collection=Backbone.Collection.extend({model:Optin.Models.Color_Palette});var Palettes=new Optin.Models.Color_Palette_Collection;_.each(optin_vars.palettes,function(e,t){e._id=t.replace(new RegExp(" ","g"),"_").toLowerCase(),e.label=t;var i=new Optin.Models.Color_Palette(e);Palettes.add(i)}),Optin.Models.Colors_Model=Optin.M.extend({defaults:_.extend({customize:!1,palette:Palettes.at(0).get("_id"),main_background:"",form_background:"",button_background:"",button_label:"",title_color:"",content_color:"",fields_background:"",fields_color:""},Palettes.at(0).toJSON())}),Optin.Models.Borders_Model=Backbone.Model.extend({defaults:{rounded_corners:!0,corners_radius:0,fields_corners_radius:0,button_corners_radius:0,drop_shadow:!1,dropshadow_value:0,shadow_color:"#000",fields_style:"joined",rounded_form_fields:!0,rounded_form_button:!0}}),Optin.Models.Design_Model=Optin.M.extend({defaults:{success_message:optin_vars.messages.model.defaults.success_message,form_location:0,elements:["image"],image_location:"left",image_style:"cover",image_src:optin_vars.preview_image,colors:new Optin.Models.Colors_Model,borders:new Optin.Models.Borders_Model,opening_animation:"",closing_animation:"",css:"",input_icons:"animated_icon"},initialize:function(e){_.extend(this,e),this.get("colors")instanceof Backbone.Model||this.set("colors",new Optin.Models.Colors_Model(this.colors)),this.get("borders")instanceof Backbone.Model||this.set("borders",new Optin.Models.Borders_Model(this.borders))}}),Optin.Models.Settings_After_Content=Optin.M.extend({defaults:{enabled:!1,show_on_all_posts:!0,excluded_posts:[],selected_posts:[],show_on_all_pages:!0,excluded_pages:[],selected_pages:[],show_on_all_cats:!0,show_on_these_cats:[],show_on_all_tags:!0,show_on_these_tags:[],animate:!1,animation:""}}),Optin.Models.Settings_Popup_Model=Backbone.Model.extend({defaults:{enabled:!1,animation_in:"",animation_out:"",appear_after:"time",appear_after_scroll:"scrolled",appear_after_time_val:5,appear_after_time_unit:"seconds",appear_after_page_portion_val:20,appear_after_page_portion_unit:"%",appear_after_element_val:"",add_never_see_this_message:!1,close_button_acts_as_never_see_again:!1,never_see_expiry:2,show_on_all_posts:!0,excluded_posts:[],selected_posts:[],show_on_all_pages:!0,excluded_pages:[],selected_pages:[],show_on_all_cats:!0,show_on_these_cats:[],show_on_all_tags:!0,show_on_these_tags:[],conditions:{},trigger_on_time:"immediately",trigger_on_element_click:"",trigger_on_exit:!1,trigger_on_adblock:!1,trigger_on_adblock_timed:!1,trigger_on_adblock_timed_val:180,trigger_on_adblock_timed_unit:"seconds"}}),Optin.Models.Settings_Slide_In_Model=Backbone.Model.extend({defaults:{enabled:!1,appear_after:"time",appear_after_scroll:"scrolled",appear_after_time_val:5,appear_after_time_unit:"seconds",appear_after_page_portion_val:30,appear_after_page_portion_unit:"%",appear_after_element_val:"",hide_after:!0,hide_after_val:10,hide_after_unit:"seconds",position:"bottom_center",after_close:"keep_showing",show_on_all_posts:!0,excluded_posts:[],selected_posts:[],show_on_all_pages:!0,excluded_pages:[],selected_pages:[],show_on_all_cats:!0,show_on_these_cats:[],show_on_all_tags:!0,show_on_these_tags:[],conditions:{},trigger_on_time:"immediately",trigger_on_element_click:"",trigger_on_exit:!1,trigger_on_adblock:!1,trigger_on_adblock_timed:!1,trigger_on_adblock_timed_val:180,trigger_on_adblock_timed_unit:"seconds"}}),Optin.Models.Settings_Model=Optin.M.extend({defaults:{shortcode_id:"",after_content:new Optin.Models.Settings_After_Content,popup:new Optin.Models.Settings_Popup_Model,slide_in:new Optin.Models.Settings_Slide_In_Model},initialize:function(e){_.extend(this,e),this.get("after_content")instanceof Backbone.Model||this.set("after_content",new Optin.Models.Settings_After_Content(this.after_content)),this.get("popup")instanceof Backbone.Model||this.set("popup",new Optin.Models.Settings_Popup_Model(this.popup)),this.get("slide_in")instanceof Backbone.Model||this.set("slide_in",new Optin.Models.Settings_Slide_In_Model(this.slide_in))}}),function(e){Optin.get_tpl=function(e){var t=["optin-layout-one","optin-layout-two","optin-layout-three","optin-layout-four"];return Optin.template(t[e])},Optin.View.Alert=Backbone.View.extend({template:Optin.template("optin-alert-modal"),events:{"click .inc-opt-alert-modal-close":"close","click .inc-opt-alert-modal":"close","click .inc-opt-alert-modal-close-btn":"close","click .inc-opt-alert-modal-inner-container":"prevent_close"},initialize:function(e){return this.options=e,this.render()},render:function(){this.$el.html(this.template(_.extend({close_text:optin_vars.messages.ok},this.options))),this.$el.appendTo("body")},close:function(e){this.$el.hide(),this.remove()},prevent_close:function(e){e.preventDefault(),e.stopPropagation()}}),Optin.step=Optin.step||{},Optin.step.activate_step=function(t){e(".wpoi-tabs-menu li").removeClass("active"),e(".wpoi-tabs-menu li").removeClass("before"),e(".wpoi-tabs-menu li").eq(t).addClass("active"),e(".wpoi-tabs-menu li").slice(0,t).addClass("before"),e(".wpoi-tabs-wrap > div").hide(),e(".wpoi-tabs-wrap > div").eq(t).show(),Optin.step.current=t,window.onbeforeunload=function(){return optin_vars.messages.dont_navigate_away}},Optin.step.get_current_step=function(){return parseInt(Optin.step.current||0,10)},Optin.step.get_current=function(){return parseInt(Optin.step.current||0,10)},Optin.step.get_current_step=function(){switch(this.get_current){case 0:return Optin.step.services;case 1:return Optin.step.design;case 2:return Optin.step.display}}}(jQuery),function(e,t){Optin.Mixins.add_services_mixin("mailchimp",function(i){var o=i,s=o.$("#hustle_service_details_form"),n=t("#wpoi-mailchimp-prev-group-args"),a=!1,r=function(e){var i=t(e.target),o=t(".wpoi-list-groups"),a=t(".wpoi-list-group-interests-wrap"),r=_.reduce(s.serializeArray(),function(e,t){return e[t.name]=t.value,e},{});r.action="hustle_mailchimp_get_list_groups",r._ajax_nonce=i.data("nonce"),Optin.step.services.provider_args.clear({silent:!0}),a.empty(),n.empty(),t.get(ajaxurl,r).done(function(e){e&&e.success&&(o.html(e.data),o.find("select").each(function(){WDP.wpmuSelect(this)})),e&&!e.success&&o.empty()})},l=function(e){var i=t(".wpoi-list-group-interests-wrap"),o=t(e.target),n=_.reduce(s.serializeArray(),function(e,t){return e[t.name]=t.value,e},{});return["-1","0"].indexOf(e.target.value)!==-1?void i.empty():(n._ajax_nonce=o.data("nonce"),n.action="hustle_mailchimp_get_group_interests",void t.get(ajaxurl,n).done(function(e){if(e&&e.success&&(i.html(e.data.html),Optin.step.services.provider_args.set("group",e.data.group),i.find("select").each(function(){WDP.wpmuSelect(this)}),e.data.group&&e.data.group.groups&&_.isArray(e.data.group.groups))){Optin.step.services.provider_args.get("group")}e&&!e.success&&i.empty()}).fail(function(e){}))},d=function(e){var i,o=t(e.target);(o.is(":radio")||o.is("select"))&&(i=o.val()),o.is(":checkbox")&&(i=[],t("[name='"+e.target.name+"'").filter(":checked").each(function(){i.push(this.value)})),Optin.step.services.provider_args.set("group",_.extend({},Optin.step.services.provider_args.get("group"),{selected:i}))},p=function(e){if(a=e,!Optin.step.services.provider_args.isEmpty()&&"mailchimp"===Optin.step.services.model.get("optin_provider")){var t=Optin.template("optin-"+Optin.step.services.model.get("optin_provider")+"-args");e.find(".wpoi-provider-args").html(t(Optin.step.services.provider_args.toJSON()))}},c=function(e){e.preventDefault(),t("[name='mailchimp_groups_interests']").prop("checked",!1),Optin.step.services.provider_args.set("group",_.extend({},Optin.step.services.provider_args.get("group"),{selected:[]}))};return t(e).on("change","#optin_email_list.mailchimp_optin_email_list",r),t(e).on("change","#mailchimp_groups",l),t(e).on("change","[name='mailchimp_groups_interests'], [name='mailchimp_groups_interests[]']",d),t(e).on("click",".wpoi-leave-group-intrests-blank-radios",c),Optin.Events.on("design:preview:render:finish",p),{render_in_previewr:p}})}(document,jQuery),function(e,t){Optin.Mixins.add_services_mixin("sendy",function(e){var i=e,o=(i.$("#hustle_service_details_form"),t("#wpoi-mailchimp-prev-group-args"),function(){var e=[],i=t("[name='optin_sendy_installation_url']"),o=t("<span></span>");return""===t("#optin_sendy_installation_url").val().trim()&&(e.push({name:"installation_url",message:optin_vars.messages.sendy.enter_url}),o.attr("title",e[0].message),i.addClass("wpoi-error"),i.after(o),_.defer(function(){o.addClass("dashicons dashicons-warning dashicons-warning-url")})),_(e)}),s=function(){"sendy"===Optin.step.services.model.get("optin_provider")&&Optin.step.services.provider_args.set("installation_url",t.trim(t("#optin_sendy_installation_url").val()))},n=function(){"sendy"===Optin.step.services.model.previousAttributes().optin_provider&&"sendy"!==Optin.step.services.model.get("optin_provider")&&Optin.step.services.provider_args.clear({silent:!0})};return Optin.Events.on("services:validate:after",s),Optin.Events.on("design:preview:render:start",n),{render_in_previewr:new Function,validate:o}})}(document,jQuery),function(e){Optin.View.Conditions=Optin.View.Conditions||{};var t=Backbone.View.extend({condition_id:"",className:"wpoi-condition-item",_template:Optin.template("wpoi-wizard-popup-conditions-item"),template:!1,_defaults:{type_name:"",condition_name:""},events:{"change input":"change_input","change textarea":"change_input","change select":"change_input"},initialize:function(e){return this.type=e.type,this.id=this.type+"-"+this.condition_id,this.template=Optin.template("wpoi-condition-"+this.condition_id),this._defaults={type_name:optin_vars.messages.settings[this.type]?optin_vars.messages.settings[this.type]:this.type,condition_name:optin_vars.messages.conditions[this.condition_id]?optin_vars.messages.conditions[this.condition_id]:this.condition_id},this.data=_.extend({},this._defaults,this.defaults,this.model.get("conditions")[this.condition_id]),this.init&&"function"==typeof this.init&&this.init(arguments),this.render(),this.delegateEvents(),this},get_title:function(){return this.title.replace("{type_name}",this.data.type_name)},get_body:function(){return"function"==typeof this.body?this.body.apply(this,arguments):this.body.replace("{type_name}",this.data.type_name)},render:function(){var e=this._template(_.extend({},{title:this.get_title(),body:this.get_body()},this._defaults));return this.$el.html(e),this.rendered&&"function"==typeof this.rendered&&this.rendered(arguments),this},update_attribute:function(e,t){var i=this.model.get("conditions");i[this.condition_id]=_.isObject(i[this.condition_id])?i[this.condition_id]:{},i[this.condition_id][e]=t,this.data[e]=t,this.model.set("conditions",i)},get_attribute:function(e){var t=this.model.get("conditions");return!(!t[this.condition_id]||!t[this.condition_id][e])&&t[this.condition_id][e]},change_input:function(t){var i=t.target,o=i.getAttribute("data-attribute"),s=e(i),n=s.is(".js-wpoi-select")?s.val():t.target.value;return this.update_attribute(o,n)},get_configs:function(){return this.defaults||!0}});Optin.View.Conditions.visitor_logged_in=t.extend({condition_id:"visitor_logged_in",disable:["visitor_not_logged_in"],title:optin_vars.messages.conditions.visitor_logged_in,body:optin_vars.messages.conditions_body.visitor_logged_in}),Optin.View.Conditions.visitor_not_logged_in=t.extend({condition_id:"visitor_not_logged_in",disable:["visitor_logged_in"],title:optin_vars.messages.conditions.visitor_not_logged_in,body:optin_vars.messages.conditions_body.visitor_not_logged_in}),Optin.View.Conditions.shown_less_than=t.extend({condition_id:"shown_less_than",title:optin_vars.messages.conditions.shown_less_than,defaults:{less_than:1},body:function(){return this.template(this.data)}}),Optin.View.Conditions.only_on_mobile=t.extend({condition_id:"only_on_mobile",disable:["not_on_mobile"],title:optin_vars.messages.conditions.only_on_mobile,body:optin_vars.messages.conditions_body.only_on_mobile}),Optin.View.Conditions.not_on_mobile=t.extend({condition_id:"not_on_mobile",disable:["only_on_mobile"],title:optin_vars.messages.conditions.not_on_mobile,body:optin_vars.messages.conditions_body.not_on_mobile}),Optin.View.Conditions.from_specific_ref=t.extend({condition_id:"from_specific_ref",disable:["not_from_specific_ref"],title:optin_vars.messages.conditions.from_specific_ref,defaults:{refs:""},body:function(){return this.template(this.data)}}),Optin.View.Conditions.not_from_specific_ref=t.extend({condition_id:"not_from_specific_ref",disable:["from_specific_ref"],title:optin_vars.messages.conditions.not_from_specific_ref,defaults:{refs:""},body:function(){return this.template(this.data)}}),Optin.View.Conditions.not_from_internal_link=t.extend({condition_id:"not_from_internal_link",title:optin_vars.messages.conditions.not_from_internal_link,body:optin_vars.messages.conditions_body.not_from_internal_link}),Optin.View.Conditions.from_search_engine=t.extend({condition_id:"from_search_engine",title:optin_vars.messages.conditions.from_search_engine,body:optin_vars.messages.conditions_body.from_search_engine}),Optin.View.Conditions.on_specific_url=t.extend({condition_id:"on_specific_url",disable:["not_on_specific_url"],title:optin_vars.messages.conditions.on_specific_url,defaults:{urls:""},body:function(){return this.template(this.data)}}),Optin.View.Conditions.not_on_specific_url=t.extend({condition_id:"not_on_specific_url",disable:["on_specific_url"],title:optin_vars.messages.conditions.not_on_specific_url,defaults:{urls:""},body:function(){return this.template(this.data)}}),Optin.View.Conditions.visitor_has_commented=t.extend({condition_id:"visitor_has_commented",disable:["visitor_has_never_commented"],title:optin_vars.messages.conditions.visitor_has_commented,body:optin_vars.messages.conditions_body.visitor_has_commented}),Optin.View.Conditions.visitor_has_never_commented=t.extend({condition_id:"visitor_has_never_commented",disable:["visitor_has_commented"],title:optin_vars.messages.conditions.visitor_has_never_commented,body:optin_vars.messages.conditions_body.visitor_has_never_commented}),Optin.View.Conditions.in_a_country=t.extend({condition_id:"in_a_country",disable:["not_in_a_country"],title:optin_vars.messages.conditions.in_a_country,defaults:{countries:""},body:function(){return this.template(this.data)},rendered:function(){this.$(".js-wpoi-select").val(this.get_attribute("countries")).wpmuiSelect()}}),Optin.View.Conditions.not_in_a_country=t.extend({condition_id:"not_in_a_country",disable:["in_a_country"],title:optin_vars.messages.conditions.not_in_a_country,body:function(){return this.template(this.data)},rendered:function(){this.$(".js-wpoi-select").val(this.get_attribute("countries")).wpmuiSelect()}})}(jQuery),function(e){Optin.View.Conditions.View=Backbone.View.extend({template:Optin.template("wpoi-wizard-popup-conditions-handle"),events:{"click .wpoi-conditions-list-handles .wpoi-condition-item:not(.disabled)":"toggle_condition","click .wpoi-conditions-list-handles .wpoi-condition-item:not(.disabled) span":"toggle_condition"},initialize:function(e){this.type=e.type,this.active_conditions={},this.render()},render:function(){var e=this.model.get(this.type).get("conditions");_.each(Optin.View.Conditions,function(t,i){var o=this.template({label:this.get_label(i),id:i,cid:this.get_condition_cid(i),active_class:e[i]?"added":"",icon_class:e[i]?"wpoi-remove":"wpoi-add"});this.$(".wpoi-conditions-list-handles").append(o)},this),_.each(e,function(e,t){this.add_condition_panel(t)},this)},get_condition_cid:function(e){return this.type+"_"+e},get_label:function(e){var t=optin_vars.messages.settings[this.type]?optin_vars.messages.settings[this.type]:this.type;return optin_vars.messages.conditions[e]?optin_vars.messages.conditions[e].replace("{type_name}",t):e},take_care_of_connecte_conditions:function(e){e.disable&&e.disable.length&&_.each(e.disable,function(e,t){var i=this.$("#"+this.get_condition_cid(e));i.toggleClass("disabled")},this)},add_condition:function(e,t){var i=this.add_condition_panel(e);t.addClass("added"),t.find("span").addClass("wpoi-remove"),t.find("span").removeClass("wpoi-add");var o=this.model.get(this.type+".conditions")||{};return o[e]=i.get_configs(),this.model.get(this.type).set("conditions",o),o},remove_condition:function(e,t,i){this.take_care_of_connecte_conditions(t),t.remove(),delete this.active_conditions[e],i.removeClass("added"),i.find("span").removeClass("wpoi-remove"),i.find("span").addClass("wpoi-add");var o=this.model.get(this.type+".conditions")||{};delete o[e],this.model.get(this.type).set("conditions",o,{silent:!0})},add_condition_panel:function(e){var t=this.active_conditions[e]=new Optin.View.Conditions[e]({model:this.model.get(this.type),type:this.type});return this.take_care_of_connecte_conditions(t),this.$(".wpoi-condition-items").append(t.$el),t},toggle_condition:function(e){e.stopPropagation();var t=this.$(e.target.id).data("id")||this.$(e.target).closest(".wpoi-condition-item").data("id"),i=this.$("#"+this.get_condition_cid(t)),o=this.active_conditions[t];o?this.remove_condition(t,o,i):this.add_condition(t,i)}})}(jQuery),function(e){Optin.View.Email_Services_Tab=_.extend(Backbone.View.extend({template:Optin.template("wpoi-wizard-services_template"),el:"#wpoi-wizard-services",events:{"input input":"update_model","change #wpoi-test-mode-setup":"update_model","change select":"update_model","keyup input":"update_model","click .next-button a":"validate","change #optin_new_provider_name":"provider_change","click .optin_refresh_provider_details":"refresh_provider_details"},initialize:function(t){return this.render(),this.provider_args=t.provider_args,this.$details_placeholder=e("#optin_new_provider_account_details"),this.$options_placeholder=e("#optin_new_provider_account_options"),this.params=this.get_params(),"undefined"!=typeof this.params.code&&window.setTimeout(function(){e("#optin_new_provider_name").trigger("change")},750),_.each(Optin.Mixins.get_services_mixins(),function(e,t){e&&"function"==typeof e&&(this[t]=e(this))},this),this},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.fields={name:"#optin_new_name",provider:"#optin_new_provider_name",api_key:"#optin_api_key",mail_list:"#optin_email_list",test_mode:"#wpoi-test-mode-setup"},e("#wpoi-test-mode-setup").trigger("change"),this},update_model:function(t){t&&t.preventDefault();var i=(e(".optwiz-container"),this);Optin.step.model=Optin.step.model||new Optin.Model(optin_vars.current.data),Optin.step.model.set("optin_name",this.$(this.fields.name).val()),_.delay(function(){Optin.step.display.model.set("shortcode_id",i.get_shortcode_id())},50),Optin.step.model.set("optin_provider",this.$(this.fields.provider).val()),this.$(this.fields.api_key)&&Optin.step.model.set("api_key",this.$(this.fields.api_key).val()),this.$(this.fields.mail_list).length&&Optin.step.model.set("optin_mail_list",this.$(this.fields.mail_list).val()),Optin.step.model.set("test_mode",this.$(this.fields.test_mode).is(":checked")?1:0),this.$("#wpoi-service-details").toggleClass("disabled",this.$(this.fields.test_mode).is(":checked")),this.$("#wpoi-service-details-disabled-notice").toggleClass("disabled",!this.$(this.fields.test_mode).is(":checked")),this.$("#optin_new_provider_name").prop("disabled",this.$(this.fields.test_mode).is(":checked")),this.$(".optin_refresh_provider_details").prop("disabled",this.$(this.fields.test_mode).is(":checked")),this.$("#wpoi-service-details input, #wpoi-service-details button, #wpoi-service-details textarea").prop("disabled",this.$(this.fields.test_mode).is(":checked"))},get_shortcode_id:function(){return _.isEmpty(Optin.step.model.get("optin_name"))?"":Optin.step.model.get("optin_name").toString().toLowerCase().trim().replace(/\s+/g,"-")},validate:function(t){void 0!==t&&t.preventDefault(),Optin.Events.trigger("services:validate:before"),this.update_model();var i=Optin.step.model.validate_first_step(),o=this.$("#optin_new_provider_name").val();if(o&&this[o]&&"function"==typeof this[o].validate){var s=this[o].validate.call(this);i=_(i._wrapped.concat(s._wrapped))}if(!i.size()||this.$(this.fields.test_mode).is(":checked")&&!_.isEmpty(this.$(this.fields.name).val()))void 0!==t&&Optin.router.navigate("design",!0);else{
var n=this;this.$el.find("span.dashicons-warning").remove(),i.each(function(t,i){var o=e('<span class="dashicons dashicons-warning"></span>'),s=n.$(n.fields[t.name]);o.attr("title",t.message),s.hasClass("wdev-styled")?s.closest(".select-container").addClass("wpoi-error"):s.addClass("wpoi-error"),s.closest(".select-container").length?s.closest(".select-container").before(o):s.after(o)})}Optin.Events.trigger("services:validate:after")},get_params:function(){var e=location.search,t="&";return _.chain(e.slice(1).split(t)).map(function(e){if(e)return e.split("=")}).compact().object().value()},provider_change:function(t){if(t.target.value){var i=this;this.$details_placeholder.html(""),this.$options_placeholder.html(""),this.remove_prev_provider_args(),e.get(ajaxurl,{action:"render_provider_account_options",id:t.target.value,_ajax_nonce:e(t.target).data("nonce"),optin:i.model.attributes.optin_id},function(o){if(o.success===!0)i.$details_placeholder.html(o.data),"constantcontact"==t.target.value&&"undefined"!=typeof i.params.code&&(e("#optin_api_key").val(i.params.code),e(".optin_refresh_provider_details").trigger("click")),i.delegateEvents();else{var s="";o.data&&_.isArray(o.data)&&(s=o.data.join(", ")),i.$details_placeholder.html(s)}})}},refresh_provider_details:function(t){var i=this,o=this.$(t.target),s=o.closest("form"),n=this.$(".wpoi-box"),a=s.serialize(),r=o.closest("#wpoi-get-lists").find("input"),l=this.$("#optin_new_provider_account_options");return _.isEmpty(r.val())?t.preventDefault():(this.remove_prev_provider_args(),l.html(this.$("#wpoi_loading_indicator").html()),a+="&action=refresh_provider_account_details","undefined"!=typeof i.model.attributes.optin_id&&(a+="&optin="+i.model.attributes.optin_id),n.find("*").attr("disabled",!0),Optin.step.services.provider_args.clear({silent:!0}),void e.post(ajaxurl,a,function(e){n.find("*").attr("disabled",!1),e.success===!0?e.data.redirect_to?window.location.href=e.data.redirect_to:(l.html(e.data),s.find("select").each(function(){WDP.wpmuSelect(this)})):l.html(e.data)}).fail(function(e){l.html(optin_vars.messages.something_went_wrong)}))},remove_prev_provider_args:function(){var t=e("#wpoi-mailchimp-prev-group-args");t.empty()}}))}(jQuery),function(e){Optin.View.Design_Tab=Backbone.View.extend({template:Optin.template("wpoi-wizard-design_template"),el:"#wpoi-wizard-design",defaults:{optin_input_icons:""},layouts:[Optin.template("optin-layout-one"),Optin.template("optin-layout-two"),Optin.template("optin-layout-three"),Optin.template("optin-layout-four")],events:{"keyup #optin_title":"update_optin_title","click #wpoi-swap-image-button":"specify_image","click #wpoi-delete-image-button":"delete_image","click .wpoi-select-media .button-ghost":"specify_image","click .wpoi-media-options .button-white":"toggle_image_menu","click .wpoi-media-options-wrap-list .dev-icon-cross":"toggle_image_menu","change input[name='optin-image-location']":"update_image_location","change input[name='optin-image-style']":"update_image_style","change #optin_form_location input[type='radio']":"update_location","change input[name='optin_input_icons']":"update_input_icons","change #optin_optional_elements input":"update_optional_elements","change #optin_color_palettes":"update_color_palette","change #optin_customize_color_palette":"update_customize_color_palette","change [name='optin_fields_style']":"update_fields_style","change #optin_dropshadow_value":"update_dropshadow_value","change #optin_rounded_corners_radious":"update_optin_rounded_corners_radious","change #fields_rounded_corners_radious":"update_fields_rounded_corners_radious","change #button_rounded_corners_radious":"update_button_rounded_corners_radious","click .next-button .next":"go_to_display_settings","click .next-button .previous":"go_to_services","submit form.wpoi-form-wrap":"cancel_dummy_optin_submit","click #optin_apply_custom_css":"apply_custom_css","mouseenter .wpoi-stylable-element":"highlight_stylable_element","mouseleave .wpoi-stylable-element":"highlight_stylable_element","click .wpoi-stylable-element":"insert_stylable_element","click #wpoi-preview-optin-button":"preview_show_optin","change input.wysiwyg-tab":"preview_toggle","click #wpoi-preview-success-button":"preview_show_success","click .wpoi-subscribe-send":"preview_show_success"},stylables:{".wpoi-container ":"Opt-in Container",".wpoi-form-title ":"Title",".wpoi-form-message, .wpoi-form-message p ":"Content",".wpoi-form-fields ":"Form Container",".wpoi-form-fields .wpoi-subscribe-fname ":"First Name",".wpoi-form-fields .wpoi-subscribe-lname ":"Last Name",".wpoi-form-fields .wpoi-subscribe-email ":"Email",".wpoi-form-fields .wpoi-subscribe-send ":"Form Button"},preview_template:"",color_pickers_tpl:Optin.template("optin-color-pickers"),initialize:function(e){return this.optin=e.optin,this.listenTo(this.model,"change",function(){this.render_preview()},this),this.listenTo(this.optin,"change",function(){this.render_preview()},this),this.preview_template=this.layouts[this.model.get("form_location")],Optin.router.on("route",_.bind(this.render_preview,this)),this.preview_success_message=!1,this.preview_success_message=!1,this.render()},render:function(){this.$el.html(this.template(_.extend({},{palettes:Palettes.toJSON()},{stylables:this.stylables},this.optin.toJSON(),this.model.toJSON()))),e(".wpoi-image-preview").css("background-image","url("+this.model.attributes.image_src+")"),e(".wpoi-media-options-wrap-list").hide(),""==this.model.attributes.image_src?e(".wpoi-media-options").hide():e(".wpoi-select-media .button-ghost").hide(),this.$preview=this.$("#optin-preview-wrapper"),this.create_editors(),this.render_color_pickers(),this.render_preview(),e("input[id='optin-image-location-"+this.model.attributes.image_location+"']").prop("checked",!0),e("input[id='optin-image-style-"+this.model.attributes.image_style+"']").prop("checked",!0),window.setTimeout(function(){e(".wp-picker-input-wrap").each(function(){var t=e(this);t.add(t.next()).wrapAll('<div class="wp-picker-absolute"></div>')}),e("#optin_customize_color_palette").trigger("change")},400),window.setTimeout(function(){e("#optin_customize_color_palette").trigger("change")},1500),_.delay(_.bind(this.apply_custom_css,this),100),this.model.elements&&this.model.elements instanceof Array&&this.model.elements.has("first_name")&&e("#optin_fname").prop("checked",!0),this.model.elements&&this.model.elements instanceof Array&&this.model.elements.has("last_name")&&e("#optin_lname").prop("checked",!0),e("input[name=location]:checked").trigger("change")},cancel_dummy_optin_submit:function(e){e.preventDefault()},go_to_display_settings:function(e){e.preventDefault(),Optin.router.navigate("display",!0)},go_to_services:function(e){e.preventDefault(),Optin.router.navigate("services",!0)},update_color_palette:function(e){var t=Palettes.findWhere({_id:e.target.value});this.model.get("colors").toJSON();this.model.set("colors",new Optin.M(_.extend({},t.toJSON(),{palette:e.target.value}))),this.reset_color_pickers(),this.$("#optin_customize_color_palette").prop("checked",!1)},reset_color_pickers:function(){var t=this;this.$("#optwiz-custom_color .optin_color_picker").each(function(){var i=e(this),o=this.id,s=o.replace("optin_",""),n=t.model.get("colors");(i.data("wpColorPicker")||i.data("wpWpColorPicker"))&&i.wpColorPicker("color",n.get(s))})},render_color_pickers:function(){this.$("#optwiz-custom_color").html(this.color_pickers_tpl(this.model.toJSON())),_.delay(e.proxy(this._create_color_pickers,this),100)},render_preview:function(){Optin.Events.trigger("design:preview:render:start"),this.preview_template=this.layouts[this.model.get("form_location")],this.$preview.html(this.preview_template(_.extend({},this.model.toJSON(),this.model.get("borders").toJSON(),this.optin.toJSON(),{has_args:this._show_args()}))),this.update_styles(),this.update_borders_style(),"undefined"==typeof this.$preview_optin_button&&(this.$preview_optin_button=this.$("#wpoi-preview-optin-button"),this.$preview_success_button=this.$("#wpoi-preview-success-button")),this.preview_success_message?(this.$(".wpoi-success-message").addClass("wpoi-show-message"),this.$preview_success_button.addClass("active")):this.$preview_optin_button.addClass("active"),this.$(".wpoi-layout-three .wpoi-optin .wpoi-form").each(function(){e(this).height()>168?(e(this).addClass("wpoi-align"),e(this).find("form").addClass("wpoi-align-element")):(e(this).removeClass("wpoi-align"),e(this).find("form").removeClass("wpoi-align-element"))}),Optin.Events.trigger("design:preview:render:finish",this.$preview);var t=this;window.setTimeout(function(){t.apply_proper_preview_classes()},10),this._fix_layout_3_sizes()},_fix_layout_3_sizes:function(){e(".wpoi-layout-three .wpoi-optin:not(.wpoi-small) .nocontent:not(.noimage)").each(function(){var t=e(this),i=t.find(".wpoi-aside-x").prev(".wpoi-element"),o=t.find(".wpoi-aside-x").prev(".wpoi-element").find(".wpoi-container.wpoi-col");o.css("height",i.height())}),e(".wpoi-layout-three .wpoi-optin:not(.wpoi-small) > .wpoi-container.noimage:not(.nocontent)").each(function(){var t=e(this),i=t.find(".wpoi-aside-x"),o=t.find(".wpoi-image").next(".wpoi-element"),s=i.prev(".wpoi-element"),n=t.find(".wpoi-content"),a=s.find(".wpoi-col"),r=t.find("form");r.height()>n.height()&&(a.css("height",i.height()+"px"),o.addClass("wpoi-align"),n.addClass("wpoi-align-element")),r.height()<n.height()&&(i.css("height",s.height()+"px"),i.addClass("wpoi-align"),r.addClass("wpoi-align-element"))}),e(".wpoi-layout-three .wpoi-optin:not(.wpoi-small) > .wpoi-container:not(.noimage):not(.nocontent)").each(function(){var t=e(this),i=t.find(".wpoi-aside-x"),o=i.prev(".wpoi-element"),s=t.find("form");s.height()<o.height()&&(i.css("height",o.height()),i.addClass("wpoi-align"),s.addClass("wpoi-align-element"))})},preview_toggle:function(e){"wpoi-om"==e.target.id?this.preview_show_optin():this.preview_show_success(e)},preview_show_optin:function(){this.preview_success_message=!1,this.$preview_optin_button.addClass("active"),this.$preview_success_button.removeClass("active"),this.$(".wpoi-success-message").removeClass("wpoi-show-message")},preview_show_success:function(t){if(e(t.target).hasClass("wpoi-subscribe-send")){t.preventDefault(),this.$(".wpoi-success-message").addClass("wpoi-show-message");var i=this;window.setTimeout(function(){i.$(".wpoi-success-message").removeClass("wpoi-show-message")},1500)}else this.$preview_success_button.addClass("active"),this.$preview_optin_button.removeClass("active"),this.preview_success_message=!0,this.$(".wpoi-success-message").addClass("wpoi-show-message")},update_customize_color_palette:function(t){this.model.set("colors.customize",e(t.target).is(":checked")),e(t.target).is(":checked")?(this.$("#optin_color_palettes").closest(".select-container").find("select").prop("disabled",!0),this.$("#optin_color_palettes").closest(".select-container").css("opacity",.3),this.$("#optin_color_palettes").closest(".select-container").css("cursor","default"),this.$("#optwiz-custom_color").fadeIn()):(this.$("#optin_color_palettes").closest(".select-container").find("select").prop("disabled",!1),this.$("#optin_color_palettes").closest(".select-container").css("opacity",1),this.$("#optin_color_palettes").closest(".select-container").css("cursor","pointer"),this.$("#optwiz-custom_color").fadeOut())},update_optin_title:function(t,i){this.optin.set("optin_title",e(t.target).val())},update_main_background:function(e,t){this.model.set("colors.main_background",t.color.toCSS())},update_title_color:function(e,t){this.model.set("colors.title_color",t.color.toCSS())},update_link_color:function(e,t){this.model.set("colors.link_color",t.color.toCSS())},update_content_color:function(e,t){this.model.set("colors.content_color",t.color.toCSS())},update_link_hover_color:function(e,t){this.model.set("colors.link_hover_color",t.color.toCSS())},update_form_background:function(e,t){this.model.set("colors.form_background",t.color.toCSS())},update_fields_background:function(e,t){this.model.set("colors.fields_background",t.color.toCSS())},update_label_color:function(e,t){this.model.set("colors.label_color",t.color.toCSS())},update_button_background:function(e,t){this.model.set("colors.button_background",t.color.toCSS())},update_button_label:function(e,t){this.model.set("colors.button_label",t.color.toCSS())},update_fields_color:function(e,t){this.model.set("colors.fields_color",t.color.toCSS())},update_error_color:function(e,t){this.model.set("colors.error_color",t.color.toCSS())},update_button_hover_background:function(e,t){this.model.set("colors.button_hover_background",t.color.toCSS())},update_button_hover_label:function(e,t){this.model.set("colors.button_hover_label",t.color.toCSS())},update_checkmark_color:function(e,t){this.model.set("colors.checkmark_color",t.color.toCSS())},update_success_color:function(e,t){this.model.set("colors.success_color",t.color.toCSS())},update_close_color:function(e,t){this.model.set("colors.close_color",t.color.toCSS())},update_nsa_color:function(e,t){this.model.set("colors.nsa_color",t.color.toCSS())},update_overlay_background:function(e,t){this.model.set("colors.overlay_background",t.color.toCSS())},update_close_hover_color:function(e,t){this.model.set("colors.close_hover_color",t.color.toCSS())},update_nsa_hover_color:function(e,t){this.model.set("colors.nsa_hover_color",t.color.toCSS())},update_radio_background:function(e,t){this.model.set("colors.radio_background",t.color.toCSS())},update_radio_checked_background:function(e,t){this.model.set("colors.radio_checked_background",t.color.toCSS())},update_checkbox_background:function(e,t){this.model.set("colors.checkbox_background",t.color.toCSS())},update_checkbox_checked_color:function(e,t){this.model.set("colors.checkbox_checked_color",t.color.toCSS())},update_mcg_title_color:function(e,t){this.model.set("colors.mcg_title_color",t.color.toCSS())},update_mcg_label_color:function(e,t){this.model.set("colors.mcg_label_color",t.color.toCSS())},create_editors:function(){this._bind_to_message_editor(),this._create_css_editor()},update_fields_style:function(t){this.model.set("borders.fields_style",e(t.target).val()),"joined"===e(t.target).val()?(this.$("#fields_rounded_corners_radious").attr("disabled",!0),this.$("#button_rounded_corners_radious").attr("disabled",!0)):(this.$("#fields_rounded_corners_radious").attr("disabled",!1),this.$("#button_rounded_corners_radious").attr("disabled",!1)),this.render_preview()},highlight_stylable_element:function(t){var i=e(t.target),o=e(i.data("stylable"));o.toggleClass("optin_hovered_stylable_element")},insert_stylable_element:function(t){t.preventDefault();var i=e(t.target),o=i.data("stylable")+"{}";this.css_editor.navigateFileEnd(),this.css_editor.insert(o),this.css_editor.navigateLeft(1),this.css_editor.focus()},apply_proper_preview_classes:function(){e(".wpoi-hustle").each(function(){e(this).width()<=405?e(this).find(".wpoi-optin").addClass("wpoi-small"):e(this).find(".wpoi-optin").removeClass("wpoi-small"),e(this).width()<=585&&e(this).width()>405?e(this).find(".wpoi-optin").addClass("wpoi-medium"):e(this).find(".wpoi-optin").removeClass("wpoi-medium")}),e(".wpoi-layout-three .wpoi-optin:not(.wpoi-small) .wpoi-form").each(function(){e(this).height()>168?(e(this).addClass("wpoi-align"),e(this).next("form").addClass("wpoi-align-element")):(e(this).removeClass("wpoi-align"),e(this).next("form").removeClass("wpoi-align-element"))}),e(".wpoi-mcg-select").each(function(){e(this).parent(".wpoi-provider-args > .wpoi-container > .wpoi-element:nth-child(2) > .wpoi-container > .wpoi-element").css({padding:"0",background:"transparent"})}),e(".wpoi-layout-three .wpoi-optin:not(.wpoi-small) > .wpoi-container.noimage:not(.nocontent)").each(function(){var t=e(this),i=t.find(".wpoi-aside-x"),o=t.find(".wpoi-image").next(".wpoi-element"),s=i.prev(".wpoi-element"),n=t.find(".wpoi-content"),a=s.find(".wpoi-col"),r=t.find("form");r.height()>n.height()&&(a.css("height",i.height()+"px"),o.addClass("wpoi-align"),n.addClass("wpoi-align-element")),r.height()<n.height()&&(i.css("height",s.height()+"px"),i.addClass("wpoi-align"),r.addClass("wpoi-align-element"))}),e(".wpoi-layout-three .wpoi-optin:not(.wpoi-small) > .wpoi-container:not(.noimage):not(.nocontent)").each(function(){var t=e(this),i=t.find(".wpoi-aside-x"),o=i.prev(".wpoi-element"),s=t.find("form");s.height()<o.height()&&(i.css("height",o.height()),i.addClass("wpoi-align"),s.addClass("wpoi-align-element"))}),e(".wpoi-layout-four .wpoi-optin:not(.wpoi-small) > .wpoi-container.noimage:not(.nocontent)").each(function(){var t=e(this),i=t.find(".wpoi-aside-xl"),o=t.find(".wpoi-aside-xl > .wpoi-container"),s=i.find(".wpoi-form"),n=i.find("form"),a=i.next(".wpoi-element"),r=a.find(".wpoi-content");r.height()>n.height()&&(o.css("height",i.height()+"px"),s.addClass("wpoi-align"),n.addClass("wpoi-align-element")),r.height()<n.height()&&(a.css("height",o.height()+"px"),a.addClass("wpoi-align"),r.addClass("wpoi-align-element"))}),e(".wpoi-layout-four .wpoi-optin:not(.wpoi-small) > .wpoi-container:not(.noimage):not(.nocontent)").each(function(){var t=e(this),i=t.find(".wpoi-aside-xl"),o=t.find(".wpoi-aside-xl > .wpoi-container"),s=t.find(".wpoi-image"),n=i.find(".wpoi-form"),a=i.find("form"),r=i.next(".wpoi-element"),l=t.find(".wpoi-content");l.height()>o.height()&&(o.css("height",i.height()+"px"),n.css("height",o.height()-s.height()),n.addClass("wpoi-align"),a.addClass("wpoi-align-element")),l.height()<o.height()&&(r.css("height",i.height()+"px"),r.addClass("wpoi-align"),l.addClass("wpoi-align-element"))})},_bind_to_message_editor:function(){var e=this,t=setInterval(function(){"object"==typeof tinymce&&(clearInterval(t),tinymce.on("AddEditor",function(t){"optin_message"===t.editor.getParam("id")&&(e.message_editor=t.editor),"success_message"===t.editor.getParam("id")&&(e.success_editor=t.editor),t.editor.on("loadContent",function(e){this.dom.setStyle("tinymce","maxWidth","100%")}),Optin.Events.off("navigate",e.refresh_editor,e),Optin.Events.on("navigate",e.refresh_editor,e),t.editor.on("change AddUndo keyup",function(i){"optin_message"===t.editor.getParam("id")&&e.optin.set("optin_message",this.getContent()),"success_message"===t.editor.getParam("id")&&e.model.set("success_message",this.getContent()),e.apply_proper_preview_classes()}),e.apply_proper_preview_classes()}))},50)},refresh_editor:function(t,i){"design"===i&&_.isObject(this.message_editor)&&(this.message_editor.remove(),tinymce.init(this.message_editor.settings),e(this.message_editor.settings.selector+"_ifr").height(240),this.success_editor.remove(),tinymce.init(this.success_editor.settings),e(this.success_editor.settings.selector+"_ifr").height(240))},_create_css_editor:function(){this.css_editor=ace.edit("optin_custom_css"),this.css_editor.getSession().setMode("ace/mode/css"),this.css_editor.setTheme("ace/theme/solarized_light"),this.css_editor.getSession().setUseWrapMode(!0),this.css_editor.getSession().setUseWorker(!1),this.css_editor.setShowPrintMargin(!1),this.css_editor.renderer.setShowGutter(!0),this.css_editor.setHighlightActiveLine(!0),this.css_editor.on("blur",e.proxy(this.update_custom_css,this))},_create_color_pickers:function(){var e=this;this.$(".optin_color_picker").wpColorPicker({change:function(t,i){var o="update_"+this.id.replace("optin_","");"function"==typeof e[o]?(e[o](t,i),e.render_preview()):console.warn("Method ",o," not found")}}),this.$(".ui-draggable-handle").click(function(e){e.preventDefault()})},update_custom_css:function(){this.model.set("css",this.css_editor.getValue())},apply_custom_css:function(t){t&&(t.preventDefault(),e(t.target).prop("disabled",!0)),this.update_custom_css();var i=e("#optin-custom-styles").length?e("#optin-custom-styles"):e('<style id="optin-custom-styles">').appendTo("body"),o=this.css_editor.getValue();e.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"inc_opt_prepare_custom_css",css:o,_ajax_nonce:e("#optin_apply_custom_css").data("nonce"),optin_id:optin_vars.current.data.optin_id},success:function(o){o&&o.success&&i.html(o.data),t&&e(t.target).prop("disabled",!1)},error:function(){t&&e(t.target).prop("disabled",!1)},dataType:"json"})},get_layout_colors:function(){return _.isTrue(this.model.get("colors.customize"))?this.model.toJSON().colors:Palettes.findWhere({_id:this.model.get("colors.palette")}).toJSON()},get_stylable_elements:function(){return{main_background:".wpoi-hustle .wpoi-optin",title_color:".wpoi-hustle h2.wpoi-title",link_color:".wpoi-hustle .wpoi-message p a",content_color:".wpoi-hustle .wpoi-message, .wpoi-hustle .wpoi-message p",link_hover_color:".wpoi-hustle .wpoi-message p a:hover",form_background:".wpoi-hustle .wpoi-form",fields_background:".wpoi-hustle form .wpoi-element",label_color:".wpoi-hustle form label, .wpoi-hustle form label span, .wpoi-hustle form wpoi-icon",button_background:".wpoi-hustle form button",button_label:".wpoi-hustle form button",fields_color:".wpoi-hustle form > .wpoi-element input",error_color:".wpoi-hustle form .i-error, .wpoi-hustle form .i-error + span",button_hover_background:".wpoi-hustle form button:hover:not(:focus):not(:active), .wpoi-hustle form button:active, .wpoi-hustle form button:focus",button_hover_label:".wpoi-hustle form button:hover:not(:focus):not(:active)",checkmark_color:".wpoi-hustle .wpoi-success-message .wpoi-icon",success_color:".wpoi-hustle .wpoi-success-message .wpoi-content, .wpoi-hustle .wpoi-success-message .wpoi-content p",close_color:"a.inc-opt-close-popup",nsa_color:".wpoi-nsa > a, .wpoi-nsa > a.inc_opt_never_see_again",overlay_background:".wpoi-popup-overlay",close_hover_color:"a.inc-opt-close-popup:hover, a.inc-opt-close-popup:active, a.inc-opt-close-popup:focus",nsa_hover_color:".wpoi-nsa > a:hover, .wpoi-nsa > a.inc_opt_never_see_again:hover",radio_background:'.wpoi-hustle form .wpoi-mcg-option input[type="radio"] + label:before',radio_checked_background:'.wpoi-hustle form .wpoi-mcg-option input[type="radio"]:checked + label:after',checkbox_background:'.wpoi-hustle form .wpoi-mcg-option input[type="checkbox"] + label:before',checkbox_checked_color:'.wpoi-hustle form .wpoi-mcg-option input[type="checkbox"]:checked + label:before',mcg_title_color:".wpoi-hustle form .wpoi-mcg-list-name, .wpoi-hustle .wpoi-submit-failure",mcg_label_color:'.wpoi-hustle form .wpoi-mcg-option input[type="checkbox"] + label, .wpoi-hustle form .wpoi-mcg-option input[type="radio"] + label'}},update_styles:function(){var t=this.get_layout_colors(),i="",o=e("#optin-preview-styles").length?e("#optin-preview-styles"):e('<style id="optin-preview-styles">').appendTo("body");_.each(this.get_stylable_elements(),function(e,o){var s=o.indexOf("background")!==-1?"background":"color",n=t[o];i+=e+"{ "+s+": "+n+";} "}),o.html(i)},update_borders_style:function(){var t=this.model.toJSON().borders,i=this.get_stylable_elements(),o="",s=e("#optin-preview-styles-borders").length?e("#optin-preview-styles-borders"):e('<style id="optin-preview-styles-borders">').appendTo("body");o+=i.main_background+"{border-radius:"+t.corners_radius+"px;}","joined"===this.model.get("borders").get("fields_style")?(o+=i.fields_background+"{border-radius: 0px;}",o+=i.button_background+"{border-radius: 0px;}"):(o+=i.fields_background+"{border-radius:"+t.fields_corners_radius+"px;}",o+=i.button_background+"{border-radius:"+t.button_corners_radius+"px;}"),_.isTrue(t.drop_shadow)&&(o+=i.main_background+"{box-shadow: 0 0 "+t.dropshadow_value+"px "+t.shadow_color+"}"),s.html(o)},update_optin_rounded_corners_radious:function(t){this.model.set("borders.corners_radius",e(t.target).val()),this.render_preview()},update_fields_rounded_corners_radious:function(t){this.model.set("borders.fields_corners_radius",e(t.target).val()),this.render_preview()},update_button_rounded_corners_radious:function(t){this.model.set("borders.button_corners_radius",e(t.target).val()),this.render_preview()},toggle_image_menu:function(t){e(".wpoi-media-options-wrap-list").toggle()},delete_image:function(t){t.preventDefault(),this.model.set("image_src",""),e(".wpoi-image-preview").css("background-image","url()"),e(".wpoi-media-options").hide(),e(".wpoi-select-media .button-ghost").show(),e(".wpoi-media-options-wrap-list").hide()},specify_image:function(t){t.preventDefault();var i=this;wp.media.editor.send.attachment=function(t,o){i.model.set("image_src",o.url),e(".wpoi-image-preview").css("background-image","url("+o.url+")"),e(".wpoi-media-options").show(),e(".wpoi-select-media .button-ghost").hide(),e(".wpoi-media-options-wrap-list").hide()},wp.media.string.props=function(t,o){return i.model.set("image_src",t.url),e(".wpoi-image-preview").css("background-image","url("+t.url+")"),e(".wpoi-media-options").show(),e(".wpoi-select-media .button-ghost").hide(),e(".wpoi-media-options-wrap-list").hide(),t},wp.media.editor.open("optin_specify_image",{multiple:!1})},update_shadow_color:function(e,t){this.model.set("borders.shadow_color",t.color.toCSS()),this.model.trigger("change")},update_dropshadow:function(t){this.model.set("borders.drop_shadow",e(t.target).is(":checked")),this.render_preview()},update_dropshadow_value:function(t){""==e(t.target).val()||0==parseInt(e(t.target).val())?this.model.set("borders.drop_shadow",!1):this.model.set("borders.drop_shadow",!0),this.model.set("borders.dropshadow_value",e(t.target).val()),this.render_preview()},update_image_location:function(e){this.model.set("image_location",e.target.value)},update_image_style:function(e){this.model.set("image_style",e.target.value)},update_location:function(t){var i=parseInt(t.target.value,10);this.model.set("form_location",i),0!=i?(e("#optin-image-location-above, [for='optin-image-location-above']").addClass("wpoi-hidden").hide(),e("#optin-image-location-bellow, [for='optin-image-location-bellow']").addClass("wpoi-hidden").hide(),"left"!=this.model.attributes.image_location&&"right"!=this.model.attributes.image_location&&(this.model.set("image_location","left"),e("[name='optin-image-location'][value='left']").prop("checked",!0))):(e("#optin-image-location-above, [for='optin-image-location-above']").removeClass("wpoi-hidden").show(),e("#optin-image-location-bellow, [for='optin-image-location-bellow']").removeClass("wpoi-hidden").show())},update_input_icons:function(e){this.model.set("input_icons",e.target.value)},update_optional_elements:function(e){var t=this.model.get("elements");e.target.checked?(t.push(e.target.value),this.model.set("elements",t),this.model.trigger("change")):this.model.set("elements",_.without(t,e.target.name))},_show_args:function(){return"mailchimp"===Optin.step.services.model.get("optin_provider")&&!Optin.step.services.provider_args.isEmpty()&&"hidden"!==Optin.step.services.provider_args.get("group").form_field}})}(jQuery),function(e){Optin.View.Display_Triggers=Backbone.View.extend(e.extend(!0,{},Optin.View.Template_Mixin,{template:Optin.template("wpoi-wizard-settings-triggers-template"),events:{"click .wpoi-triggers-tabs label":"change_tab"},initialize:function(e){this.el=e.el,this.type=e.type,this.listenTo(this.model,"change:"+this.type+".trigger_on_adblock",this.hide_adblock_options_on_toggle),this.render()},render:function(){return this.$el.html(this.template(this.get_data())),this.hide_adblock_options_on_toggle(),this},get_data:function(){var e={};return e.type=this.type,e.shortcode_id=this.model.get("shortcode_id"),_.extend({},e,this.model.get(this.type).toJSON())},change_tab:function(e){e.preventDefault();var t=this.$(e.target),i=t.parent("li"),o=this.$(t.attr("href")),s=t.find("input[type='radio']");this.$(".wpoi-triggers-tabs li").removeClass("current"),this.$(".wpoi-triggers-tab-content").removeClass("current"),i.addClass("current"),o.addClass("current"),s.prop("checked",!0),this.model.set(this.type+".appear_after",s.val())},hide_adblock_options_on_toggle:function(){_.isTrue(this.model.get(this.type+".trigger_on_adblock"))?this.$(".wpoi-popup-trigger-on-adblock-option").show():this.$(".wpoi-popup-trigger-on-adblock-option").hide()}}))}(jQuery),function(e){Backbone.View.extend({template:Optin.template("wpoi-wizard-popup-conditions-handle"),events:{"click .wpoi-conditions-list-handles .wpoi-condition-item:not(.disabled)":"toggle_condition","click .wpoi-conditions-list-handles .wpoi-condition-item:not(.disabled) span":"toggle_condition"},initialize:function(e){this.type=e.type,this.active_conditions={},this.render()},render:function(){var e=this.model.get(this.type).get("conditions");_.each(Optin.View.Conditions,function(t,i){var o=this.template({label:this.get_label(i),id:i,cid:this.get_condition_cid(i),active_class:e[i]?"added":"",icon_class:e[i]?"wpoi-remove":"wpoi-add"});this.$(".wpoi-conditions-list-handles").append(o)},this),_.each(e,function(e,t){this.add_condition_panel(t)},this)},get_condition_cid:function(e){return this.type+"_"+e},get_label:function(e){var t=optin_vars.messages.settings[this.type]?optin_vars.messages.settings[this.type]:this.type;return optin_vars.messages.conditions[e]?optin_vars.messages.conditions[e].replace("{type_name}",t):e},take_care_of_connecte_conditions:function(e){e.disable&&e.disable.length&&_.each(e.disable,function(e,t){var i=this.$("#"+this.get_condition_cid(e));i.toggleClass("disabled")},this)},add_condition:function(e,t){var i=this.add_condition_panel(e);t.addClass("added"),t.find("span").addClass("wpoi-remove"),t.find("span").removeClass("wpoi-add");var o=this.model.get(this.type+".conditions")||{};return o[e]=i.get_configs(),this.model.get(this.type).set("conditions",o),o},remove_condition:function(e,t,i){this.take_care_of_connecte_conditions(t),t.remove(),delete this.active_conditions[e],i.removeClass("added"),i.find("span").removeClass("wpoi-remove"),i.find("span").addClass("wpoi-add");var o=this.model.get(this.type+".conditions")||{};delete o[e],this.model.get(this.type).set("conditions",o,{silent:!0})},add_condition_panel:function(e){var t=this.active_conditions[e]=new Optin.View.Conditions[e]({model:this.model.get(this.type),type:this.type});return this.take_care_of_connecte_conditions(t),this.$(".wpoi-condition-items").append(t.$el),t},toggle_condition:function(e){e.stopPropagation();var t=this.$(e.target.id).data("id")||this.$(e.target).closest(".wpoi-condition-item").data("id"),i=this.$("#"+this.get_condition_cid(t)),o=this.active_conditions[t];o?this.remove_condition(t,o,i):this.add_condition(t,i)}});Optin.View.Display_Tab=Backbone.View.extend(e.extend(!0,{},Optin.View.Template_Mixin,{template:Optin.template("wpoi-wizard-settings_template"),widget_message_tpl:Optin.template("wpoi-wizard-settings_widget_template"),el:"#wpoi-wizard-settings",events:{"click .next-button a.next":"submit_and_save","click .next-button a.previous":"go_to_design","click .can-open.display-settings-icon span.open i.dev-icon":"toggle_boxes","change #wpoi-after-content-state-toggle":"optin_type_toggle","change #wpoi-popup-state-toggle":"optin_type_toggle","change #wpoi-slide-in-state-toggle":"optin_type_toggle"},initialize:function(){return this.listenTo(this.model,"change:after_content.animate",this.toggle_after_content_animation_select),this.listenTo(this.model,"change:slide_in.position",this.update_slide_in_position_label),this.listenTo(this.model,"change:shortcode_id",_.bind(this.render_widget_message,this)),this.listenTo(this.model,"change:after_content.show_on_all_cats",this.move_selects_under_selected_radio),this.listenTo(this.model,"change:after_content.show_on_all_tags",this.move_selects_under_selected_radio),this.listenTo(this.model,"change:popup.show_on_all_cats",this.move_selects_under_selected_radio),this.listenTo(this.model,"change:popup.show_on_all_tags",this.move_selects_under_selected_radio),this.listenTo(this.model,"change:slide_in.show_on_all_cats",this.move_selects_under_selected_radio),this.listenTo(this.model,"change:slide_in.show_on_all_tags",this.move_selects_under_selected_radio),this.render()},move_selects_under_selected_radio:function(e,t,i){var o=this.model.get(e),s="."+e.replace(".","_")+"_block",n=s+"_select_wrap",a=this.$(s).eq(1),r=this.$(n);
a.length&&r.length&&(_.isTrue(o)?a.insertAfter(r):a.insertBefore(r))},render_widget_message:function(){var e=this.widget_message_tpl(this.model.toJSON());this.$("#wpoi-wizard-settings-widget-message").html(e)},render:function(){var t=this,i=function(t){var i=["all"];t.params&&t.params.data&&t.params.data.id&&"all"===t.params.data.id||(i=e(this).val(),-1!==i.indexOf("all")&&i.splice(i.indexOf("all"),1)),e(this).val(i).trigger("change")};this.model.set("slide_in.position_label",optin_vars.messages.positions[this.model.get("slide_in.position")],{silent:!0}),e.fn.wpmuiSelect.defaults.set("createTag",function(){return!1}),this.$el.html(this.template(this.model.toJSON())),this.render_widget_message(),new Optin.View.Conditions.View({model:this.model,el:"#wpoi-conditions-wrap-popup",type:"popup"}),new Optin.View.Conditions.View({model:this.model,el:"#wpoi-conditions-wrap-slide_in",type:"slide_in"}),new Optin.View.Display_Triggers({model:this.model,el:"#triggers-section-popup",type:"popup"}),new Optin.View.Display_Triggers({model:this.model,el:"#triggers-section-slide_in",type:"slide_in"}),this.$el.find(".can-open.display-settings-icon span.open i.dev-icon").trigger("click"),this.$("#after_content_selected_cats").wpmuiSelect({data:optin_vars.cats,tags:"true",width:"100%"}).on("change",function(){t.model.set("after_content.show_on_these_cats",e(this).val())}).val(this.model.get("after_content.show_on_these_cats")).trigger("change"),this.$("#after_content_selected_tags").wpmuiSelect({data:optin_vars.tags,tags:"true",width:"100%"}).on("change",function(){t.model.set("after_content.show_on_these_tags",e(this).val())}).val(this.model.get("after_content.show_on_these_tags")).trigger("change"),this.$("#after_content_selected_post_exceptions").wpmuiSelect({data:optin_vars.posts,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#after_content_selected_post").val(null).trigger("change"),t.model.set("after_content.excluded_posts",e(this).val())}).val(this.model.get("after_content.excluded_posts")).trigger("change"),this.$("#after_content_selected_post").wpmuiSelect({data:optin_vars.posts,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#after_content_selected_post_exceptions").val(null).trigger("change"),t.model.set("after_content.selected_posts",e(this).val())}).val(this.model.get("after_content.selected_posts")).trigger("change"),this.$("#after_content_selected_pages_exceptions").wpmuiSelect({data:optin_vars.pages,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#after_content_selected_pages").val(null).trigger("change"),t.model.set("after_content.excluded_pages",e(this).val())}).val(this.model.get("after_content.excluded_pages")).trigger("change"),this.$("#after_content_selected_pages").wpmuiSelect({data:optin_vars.pages,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#after_content_selected_pages_exceptions").val(null).trigger("change"),t.model.set("after_content.selected_pages",e(this).val())}).val(this.model.get("after_content.selected_pages")).trigger("change"),this.$("#popup_selected_cats").wpmuiSelect({data:optin_vars.cats,tags:"true",width:"100%"}).on("change",function(){t.model.set("popup.show_on_these_cats",e(this).val())}).val(this.model.get("popup.show_on_these_cats")).trigger("change"),this.$("#popup_selected_tags").wpmuiSelect({data:optin_vars.tags,tags:"true",width:"100%"}).on("change",function(){t.model.set("popup.show_on_these_tags",e(this).val())}).val(this.model.get("popup.show_on_these_tags")).trigger("change"),this.$("#popup_selected_post_exceptions").wpmuiSelect({data:optin_vars.posts,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#popup_selected_post").val(null).trigger("change"),t.model.set("popup.excluded_posts",e(this).val())}).val(this.model.get("popup.excluded_posts")).trigger("change"),this.$("#popup_selected_post").wpmuiSelect({data:optin_vars.posts,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#popup_selected_post_exceptions").val(null).trigger("change"),t.model.set("popup.selected_posts",e(this).val())}).val(this.model.get("popup.selected_posts")).trigger("change"),this.$("#popup_selected_pages_exceptions").wpmuiSelect({data:optin_vars.pages,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#popup_selected_pages").val(null).trigger("change"),t.model.set("popup.excluded_pages",e(this).val())}).val(this.model.get("popup.excluded_pages")).trigger("change"),this.$("#popup_selected_pages").wpmuiSelect({data:optin_vars.pages,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){var i=e(this).val();null!=i&&e("#popup_selected_pages_exceptions").val(null).trigger("change"),t.model.set("popup.selected_pages",i)}).val(this.model.get("popup.selected_pages")).trigger("change"),this.$("#slide_in_selected_cats").wpmuiSelect({data:optin_vars.cats,tags:"true",width:"100%"}).on("change",function(){t.model.set("slide_in.show_on_these_cats",e(this).val())}).val(this.model.get("slide_in.show_on_these_cats")).trigger("change"),this.$("#slide_in_selected_tags").wpmuiSelect({data:optin_vars.tags,tags:"true",width:"100%"}).on("change",function(){t.model.set("slide_in.show_on_these_tags",e(this).val())}).val(this.model.get("slide_in.show_on_these_tags")).trigger("change"),this.$("#slide_in_selected_post_exceptions").wpmuiSelect({data:optin_vars.posts,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#slide_in_selected_post").val(null).trigger("change"),t.model.set("slide_in.excluded_posts",e(this).val())}).val(this.model.get("slide_in.excluded_posts")).trigger("change"),this.$("#slide_in_selected_post").wpmuiSelect({data:optin_vars.posts,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#slide_in_selected_post_exceptions").val(null).trigger("change"),t.model.set("slide_in.selected_posts",e(this).val())}).val(this.model.get("slide_in.selected_posts")||["all"]).trigger("change"),this.$("#slide_in_selected_pages_exceptions").wpmuiSelect({data:optin_vars.pages,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#slide_in_selected_pages").val(null).trigger("change"),t.model.set("slide_in.excluded_pages",e(this).val())}).val(this.model.get("slide_in.excluded_pages")).trigger("change"),this.$("#slide_in_selected_pages").wpmuiSelect({data:optin_vars.pages,tags:"true",width:"100%"}).on("select2:select",i).on("change",function(){null!=e(this).val()&&e("#slide_in_selected_pages_exceptions").val(null).trigger("change"),t.model.set("slide_in.selected_pages",e(this).val())}).val(this.model.get("slide_in.selected_pages")).trigger("change"),e(".wpoi-toggle-block").each(function(){var t=e(this).find("p"),i=e(this).find(".toggle-checkbox");i.is(":checked")&&t.hide()})},optin_type_toggle:function(t){var i=e(t.target),o=i.closest(".wpoi-toggle-block"),s=o.find("p").first(),n=i.closest(".wpoi-listing-wrap").find("section");i.is(":checked")?(s.fadeOut(),o.removeClass("inactive")):(s.fadeIn(),o.addClass("inactive")),n.is(".closed")&&i.is(":checked")&&i.closest(".wpoi-toggle-mask").find("span.open i.dev-icon").trigger("click")},toggle_boxes:function(t){var i=e(t.target),o="dev-icon-caret_up",s="dev-icon-caret_down",n=i.hasClass(o)?o:s,a=n==o?s:o,r=i.closest(".wpoi-listing-wrap").find("section");i.switchClass(n,a),r.toggleClass("closed",n==s),r.toggle(a==s)},go_to_design:function(e){e.preventDefault(),Optin.router.navigate("design",!0)},submit_and_save:function(t){t.preventDefault();var i=e(t.target),o=i.data("nonce"),s=parseInt(i.data("id"))==-1;e.ajax({type:"POST",url:ajaxurl,dataType:"json",data:{action:"inc_opt_save_new",id:i.data("id"),_ajax_nonce:o,optin:Optin.step.services.model.toJSON(),design:Optin.step.design.model.toJSON(),settings:Optin.step.display.model.toJSON(),provider_args:Optin.step.services.provider_args.toJSON()},success:function(e){window.onbeforeunload=null;var t="?page=inc_optins";t+=s?"&optin="+e.data:"&optin_updated="+e.data,window.location.search=t}})},toggle_after_content_animation_select:function(){_.isTrue(this.model.get("after_content.animate"))?this.$("#optin-afterc-animation-block").show(function(){e(this).removeClass("hidden")}):this.$("#optin-afterc-animation-block").hide(function(){e(this).addClass("hidden")})},update_slide_in_position_label:function(e){this.$("#wpoi-slide_in-position-label").text(optin_vars.messages.positions[this.model.get("slide_in.position")])}}))}(jQuery);var Inc_Opt_Router=Backbone.Router.extend({routes:{"":"services",services:"services",design:"design","display(/:optin_type)":"display"},route:function(e,t,i){var o=this;i||(i=this[t]);var s=function(){Optin.step.model||(Optin.step.model=new Optin.Model(optin_vars.current.data)),Optin.step.services||(Optin.step.services=new Optin.View.Email_Services_Tab({model:Optin.step.model,provider_args:new Optin.M(optin_vars.current.provider_args)})),Optin.step.design||(Optin.step.design=new Optin.View.Design_Tab({model:new Optin.Models.Design_Model(optin_vars.current.design),optin:Optin.step.model})),Optin.step.display||(Optin.step.display=new Optin.View.Display_Tab({model:new Optin.Models.Settings_Model(optin_vars.current.settings)})),i.apply(o,arguments)};return Backbone.Router.prototype.route.call(this,e,t,s)},execute:function(e,t,i){var o=_.keys(this.routes).indexOf(i)-1;if(o==Optin.step.current)return Optin.router.navigate(_.keys(this.routes)[Optin.step.current+1],!1),!1;switch(Optin.step.current){case 0:var s=Optin.step.model.validate_first_step();if(s.size())return Optin.step.services.validate(),Optin.router.navigate(_.keys(this.routes)[Optin.step.current+1],!1),!1}Optin.Events.trigger("navigate",t,i),e&&e.apply(this,t)},services:function(){Optin.step.activate_step(0)},design:function(){Optin.step.activate_step(1)},display:function(e){Optin.step.activate_step(2),e=e||"",""!=e&&jQuery("#wpoi-listing-wrap-"+e).length&&jQuery("#wpoi-listing-wrap-"+e).find("i.dev-icon:not(.search-icon)").trigger("click")}});"hustle_page_inc_optin"==adminpage&&(Optin.router=new Inc_Opt_Router,Backbone.history.start());
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIiwiYWRtaW5fdXRpbHMuanMiLCJhZG1pbi1tYWluLmpzIiwibW9kZWxzLmpzIiwidmlld3MuanMiLCJtYWlsY2hpbXAuanMiLCJzZW5keS5qcyIsImNvbmRpdGlvbnMuanMiLCJjb25kaXRpb25zLXZpZXcuanMiLCJzZXJ2aWNlcy10YWIuanMiLCJkZXNpZ24tdGFiLmpzIiwiZGlzcGxheS10cmlnZ2Vycy5qcyIsImRpc3BsYXktdGFiLmpzIiwicm91dGVyLmpzIl0sIm5hbWVzIjpbIk9wdGluIiwiVmlldyIsIk1vZGVscyIsIkV2ZW50cyIsIkJhY2tib25lIiwiXyIsImV4dGVuZCIsIiQiLCJDT09LSUVfUFJFRklYIiwiUE9QVVBfQ09PS0lFX1BSRUZJWCIsIlNMSURFX0lOX0NPT0tJRV9QUkVGSVgiLCJTTElERV9JTl9DT09LSUVfSElERV9BTEwiLCJtaXhpbiIsInRvQm9vbCIsInZhbCIsImlzQm9vbGVhbiIsImlzU3RyaW5nIiwiaW5kZXhPZiIsInRvTG93ZXJDYXNlIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzTnVsbCIsImlzTmFOIiwiaXNUcnVlIiwidG9TdHJpbmciLCJjb250cm9sX2Jhc2UiLCJjaGVja2VkIiwiY3VycmVudCIsImF0dHJpYnV0ZSIsImlzRXF1YWwiLCJzZWxlY3RlZCIsImRpc2FibGVkIiwiZmluZEtleSIsIm9iaiIsInByZWRpY2F0ZSIsImNvbnRleHQiLCJjYiIsImtleSIsImtleXMiLCJpIiwibGVuZ3RoIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJoYXMiLCJlbGVtZW50IiwidGhpcyIsIlN0cmluZyIsInRvSW50IiwicGFyc2VJbnQiLCJpc0VtcHR5IiwidHJpbSIsInRlbXBsYXRlIiwibWVtb2l6ZSIsImlkIiwiY29tcGlsZWQiLCJvcHRpb25zIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsImVzY2FwZSIsImRhdGEiLCJodG1sIiwiY29va2llIiwiZ2V0IiwibmFtZSIsImMiLCJjb29raWVfbmFtZSIsImNhIiwiZG9jdW1lbnQiLCJzcGxpdCIsImNoYXJBdCIsInN1YnN0cmluZyIsIl92YWwiLCJKU09OIiwicGFyc2UiLCJzZXQiLCJ2YWx1ZSIsImRheXMiLCJkYXRlIiwiZXhwaXJlcyIsImlzQXJyYXkiLCJpc1BsYWluT2JqZWN0Iiwic3RyaW5naWZ5IiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwidG9HTVRTdHJpbmciLCJvbiIsIiR0aGlzIiwiaXMiLCJwYXJlbnQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiTWl4aW5zIiwiX21peGlucyIsIl9zZXJ2aWNlc19taXhpbnMiLCJfZGVzaW5nX21peGlucyIsIl9kaXNwbGF5X21peGlucyIsImFkZCIsImdldF9taXhpbnMiLCJhZGRfc2VydmljZXNfbWl4aW4iLCJnZXRfc2VydmljZXNfbWl4aW5zIiwialF1ZXJ5IiwiVGVtcGxhdGVfTWl4aW4iLCJldmVudHMiLCJjaGFuZ2UgaW5wdXRbdHlwZT10ZXh0XSIsImtleXVwIC53cG9pX2NvbnRlbnRlZGl0YWJsZSIsImNoYW5nZSBpbnB1dFt0eXBlPXJhZGlvXSIsImNoYW5nZSBzZWxlY3QiLCJjaGFuZ2UgaW5wdXRbdHlwZT1jaGVja2JveF0iLCJibHVyIGlucHV0W3R5cGU9dGV4dF0iLCJibHVyIGlucHV0W3R5cGU9bnVtYmVyXSIsInNldF9tb2RlbF90ZXh0cyIsImUiLCIkZWwiLCJ0YXJnZXQiLCJjb25zb2xlIiwibG9nIiwibW9kZWwiLCJzZXRfbW9kZWxfY29udGVudGVkaXRhYmxlcyIsInRleHQiLCJzZXRfbW9kZWxfcmFkaW9zIiwic2V0X21vZGVsX3NlbGVjdHMiLCJzZXRfbW9kZWxfY2hlY2tib3hlcyIsInByZXZlbnREZWZhdWx0IiwiZGVzaWduIiwicG9wdXBfc2V0dGluZ3MiLCJsYXlvdXQiLCJmb3JtX2xvY2F0aW9uIiwiZWFjaCIsIndwbVVpIiwicG9wdXBzIiwicG9wdXAiLCJpbmRleCIsImhpZGUiLCJ3aWR0aCIsImhlaWdodCIsInRwbCIsImdldF90cGwiLCJib3JkZXJzIiwid2luZG93X3dpZHRoIiwid2luZG93Iiwic2l6ZSIsIm1vZGFsIiwiYW5pbWF0ZSIsImFuaW1hdGlvbl9pbiIsImFuaW1hdGlvbl9vdXQiLCJzZXRfY2xhc3MiLCJvbnNob3ciLCJzaG93IiwiY2xvc2VzdCIsImNsYXNzT3BlbiIsImNsYXNzQ2xvc2VkIiwiY3VycmVudENsYXNzIiwiaGFzQ2xhc3MiLCJuZXdDbGFzcyIsIiRzZWN0aW9uIiwic3dpdGNoQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJ0b2dnbGUiLCJzZXRfdGVzdG1vZGVfdmlzaWJpbGl5IiwiYWN0aXZlX3RvZ2dsZSIsInNwZWVkIiwiJHRlc3RfbW9kZV90b2dnbGUiLCJ0eXBlIiwiZmFkZU91dCIsImZhZGVJbiIsIm5vdCIsInByb3AiLCJhY3Rpb24iLCJfYWpheF9ub25jZSIsIm5vbmNlIiwicG9zdCIsImFqYXh1cmwiLCJyZXNwb25zZSIsInN0b3BQcm9wYWdhdGlvbiIsIiRvdmVybGF5IiwiY3NzIiwidHJhbnNpdGlvbiIsIm1vdXNlZW50ZXIiLCJzdG9wIiwibW91c2VsZWF2ZSIsInJlbW92ZVByb3AiLCJzdWNjZXNzIiwic2xpZGVVcCIsInJlbW92ZSIsImxvY2F0aW9uIiwicmVsb2FkIiwiZXZlbnQiLCJ0YWIiLCJhdHRyIiwicm91dGVyIiwibmF2aWdhdGUiLCJocmVmIiwib3B0aW5faWQiLCJvcHRpbl90eXBlIiwiX2ZvciIsIiRmb3IiLCJ0cmlnZ2VyIiwiJHBhbmVsIiwiJG90aGVycyIsIiRvdGhlcl9zZWN0aW9ucyIsInNsaWRlVG9nZ2xlIiwiJGljb24iLCJNIiwiTW9kZWwiLCJ0b0pTT04iLCJqc29uIiwiY2xvbmUiLCJhdHRyaWJ1dGVzIiwiQ29sbGVjdGlvbiIsImNoaWxkIiwicGFyZW50X21vZGVsIiwiY2FsbCIsImRlZmF1bHRzIiwib3B0aW5fbmFtZSIsIm9wdGluX3ZhcnMiLCJtZXNzYWdlcyIsIm9wdGluX3RpdGxlIiwib3B0aW5fbWVzc2FnZSIsIm9wdGluX3Byb3ZpZGVyIiwiYXBpX2tleSIsIm1haWxfbGlzdCIsImFjdGl2ZSIsInRlc3RfbW9kZSIsInZhbGlkYXRlX2ZpcnN0X3N0ZXAiLCJhdHRycyIsImVycm9ycyIsInB1c2giLCJtZXNzYWdlIiwicHJvdmlkZXIiLCJvcHRpbl9tYWlsX2xpc3QiLCJDb2xvcl9QYWxldHRlIiwiX2lkIiwibGFiZWwiLCJtYWluX2JhY2tncm91bmQiLCJmb3JtX2JhY2tncm91bmQiLCJidXR0b25fYmFja2dyb3VuZCIsImJ1dHRvbl9sYWJlbF9jb2xvciIsInRpdGxlX2NvbG9yIiwiY29udGVudF9jb2xvciIsImZpZWxkc19iYWNrZ3JvdW5kIiwiZmllbGRzX2NvbG9yIiwiQ29sb3JfUGFsZXR0ZV9Db2xsZWN0aW9uIiwiUGFsZXR0ZXMiLCJwYWxldHRlcyIsIml0ZW0iLCJyZXBsYWNlIiwiUmVnRXhwIiwibSIsIkNvbG9yc19Nb2RlbCIsImN1c3RvbWl6ZSIsInBhbGV0dGUiLCJhdCIsImJ1dHRvbl9sYWJlbCIsIkJvcmRlcnNfTW9kZWwiLCJyb3VuZGVkX2Nvcm5lcnMiLCJjb3JuZXJzX3JhZGl1cyIsImZpZWxkc19jb3JuZXJzX3JhZGl1cyIsImJ1dHRvbl9jb3JuZXJzX3JhZGl1cyIsImRyb3Bfc2hhZG93IiwiZHJvcHNoYWRvd192YWx1ZSIsInNoYWRvd19jb2xvciIsImZpZWxkc19zdHlsZSIsInJvdW5kZWRfZm9ybV9maWVsZHMiLCJyb3VuZGVkX2Zvcm1fYnV0dG9uIiwiRGVzaWduX01vZGVsIiwic3VjY2Vzc19tZXNzYWdlIiwiZWxlbWVudHMiLCJpbWFnZV9sb2NhdGlvbiIsImltYWdlX3N0eWxlIiwiaW1hZ2Vfc3JjIiwicHJldmlld19pbWFnZSIsImNvbG9ycyIsIm9wZW5pbmdfYW5pbWF0aW9uIiwiY2xvc2luZ19hbmltYXRpb24iLCJpbnB1dF9pY29ucyIsImluaXRpYWxpemUiLCJTZXR0aW5nc19BZnRlcl9Db250ZW50IiwiZW5hYmxlZCIsInNob3dfb25fYWxsX3Bvc3RzIiwiZXhjbHVkZWRfcG9zdHMiLCJzZWxlY3RlZF9wb3N0cyIsInNob3dfb25fYWxsX3BhZ2VzIiwiZXhjbHVkZWRfcGFnZXMiLCJzZWxlY3RlZF9wYWdlcyIsInNob3dfb25fYWxsX2NhdHMiLCJzaG93X29uX3RoZXNlX2NhdHMiLCJzaG93X29uX2FsbF90YWdzIiwic2hvd19vbl90aGVzZV90YWdzIiwiYW5pbWF0aW9uIiwiU2V0dGluZ3NfUG9wdXBfTW9kZWwiLCJhcHBlYXJfYWZ0ZXIiLCJhcHBlYXJfYWZ0ZXJfc2Nyb2xsIiwiYXBwZWFyX2FmdGVyX3RpbWVfdmFsIiwiYXBwZWFyX2FmdGVyX3RpbWVfdW5pdCIsImFwcGVhcl9hZnRlcl9wYWdlX3BvcnRpb25fdmFsIiwiYXBwZWFyX2FmdGVyX3BhZ2VfcG9ydGlvbl91bml0IiwiYXBwZWFyX2FmdGVyX2VsZW1lbnRfdmFsIiwiYWRkX25ldmVyX3NlZV90aGlzX21lc3NhZ2UiLCJjbG9zZV9idXR0b25fYWN0c19hc19uZXZlcl9zZWVfYWdhaW4iLCJuZXZlcl9zZWVfZXhwaXJ5IiwiY29uZGl0aW9ucyIsInRyaWdnZXJfb25fdGltZSIsInRyaWdnZXJfb25fZWxlbWVudF9jbGljayIsInRyaWdnZXJfb25fZXhpdCIsInRyaWdnZXJfb25fYWRibG9jayIsInRyaWdnZXJfb25fYWRibG9ja190aW1lZCIsInRyaWdnZXJfb25fYWRibG9ja190aW1lZF92YWwiLCJ0cmlnZ2VyX29uX2FkYmxvY2tfdGltZWRfdW5pdCIsIlNldHRpbmdzX1NsaWRlX0luX01vZGVsIiwiaGlkZV9hZnRlciIsImhpZGVfYWZ0ZXJfdmFsIiwiaGlkZV9hZnRlcl91bml0IiwicG9zaXRpb24iLCJhZnRlcl9jbG9zZSIsIlNldHRpbmdzX01vZGVsIiwic2hvcnRjb2RlX2lkIiwiYWZ0ZXJfY29udGVudCIsInNsaWRlX2luIiwibGF5b3V0X2lkIiwidGVtcGxhdGVzIiwiQWxlcnQiLCJjbGljayAuaW5jLW9wdC1hbGVydC1tb2RhbC1jbG9zZSIsImNsaWNrIC5pbmMtb3B0LWFsZXJ0LW1vZGFsIiwiY2xpY2sgLmluYy1vcHQtYWxlcnQtbW9kYWwtY2xvc2UtYnRuIiwiY2xpY2sgLmluYy1vcHQtYWxlcnQtbW9kYWwtaW5uZXItY29udGFpbmVyIiwicmVuZGVyIiwiY2xvc2VfdGV4dCIsIm9rIiwiYXBwZW5kVG8iLCJjbG9zZSIsInByZXZlbnRfY2xvc2UiLCJzdGVwIiwiYWN0aXZhdGVfc3RlcCIsImVxIiwic2xpY2UiLCJvbmJlZm9yZXVubG9hZCIsImRvbnRfbmF2aWdhdGVfYXdheSIsImdldF9jdXJyZW50X3N0ZXAiLCJnZXRfY3VycmVudCIsInNlcnZpY2VzIiwiZGlzcGxheSIsImRvYyIsInNlcnZpY2VfdGFiX3ZpZXciLCIkZm9ybSIsIiRwcmV2X2FyZ3MiLCIkX3ByZXZpZXciLCJ1cGRhdGVfbGlzdF9ncm91cHMiLCIkd3JhcHBlciIsIiRpbnRlcmVzdHNfd3JhcHBlciIsInJlZHVjZSIsInNlcmlhbGl6ZUFycmF5IiwicHJvdmlkZXJfYXJncyIsImNsZWFyIiwic2lsZW50IiwiZW1wdHkiLCJkb25lIiwicmVzIiwiV0RQIiwid3BtdVNlbGVjdCIsInVwZGF0ZV9ncm91cF9pbnRlcmVzdHMiLCJncm91cCIsImdyb3VwcyIsImZhaWwiLCJ1cGRhdGVfc2VsZWN0ZWRfZ3JvdXBfaW50ZXJlc3RzIiwiZmlsdGVyIiwicmVuZGVyX2luX3ByZXZpZXciLCIkcHJldmlldyIsInByb3ZpZGVyX2FyZ3NfdGVtcGxhdGUiLCJ1bnNlbGVjdF9yYWRpb19pbnRlcmVzdCIsInJlbmRlcl9pbl9wcmV2aWV3ciIsInZhbGlkYXRlIiwiX2Vycm9ycyIsIiRmaWVsZCIsInNlbmR5IiwiZW50ZXJfdXJsIiwiYWZ0ZXIiLCJkZWZlciIsImFkZF9pbnN0YWxsYXRpb25fdXJsX3RvX2FyZ3MiLCJzZXRfcHJvdmlkZXJfYXJncyIsInByZXZpb3VzQXR0cmlidXRlcyIsIkZ1bmN0aW9uIiwiQ29uZGl0aW9ucyIsIkNvbmRpdGlvbl9CYXNlIiwiY29uZGl0aW9uX2lkIiwiY2xhc3NOYW1lIiwiX3RlbXBsYXRlIiwiX2RlZmF1bHRzIiwidHlwZV9uYW1lIiwiY29uZGl0aW9uX25hbWUiLCJjaGFuZ2UgaW5wdXQiLCJjaGFuZ2UgdGV4dGFyZWEiLCJvcHRzIiwic2V0dGluZ3MiLCJpbml0IiwiYXJndW1lbnRzIiwiZGVsZWdhdGVFdmVudHMiLCJnZXRfdGl0bGUiLCJ0aXRsZSIsImdldF9ib2R5IiwiYm9keSIsImFwcGx5IiwicmVuZGVyZWQiLCJ1cGRhdGVfYXR0cmlidXRlIiwiaXNPYmplY3QiLCJnZXRfYXR0cmlidXRlIiwiY2hhbmdlX2lucHV0IiwiZWwiLCJnZXRBdHRyaWJ1dGUiLCJnZXRfY29uZmlncyIsInZpc2l0b3JfbG9nZ2VkX2luIiwiZGlzYWJsZSIsImNvbmRpdGlvbnNfYm9keSIsInZpc2l0b3Jfbm90X2xvZ2dlZF9pbiIsInNob3duX2xlc3NfdGhhbiIsImxlc3NfdGhhbiIsIm9ubHlfb25fbW9iaWxlIiwibm90X29uX21vYmlsZSIsImZyb21fc3BlY2lmaWNfcmVmIiwicmVmcyIsIm5vdF9mcm9tX3NwZWNpZmljX3JlZiIsIm5vdF9mcm9tX2ludGVybmFsX2xpbmsiLCJmcm9tX3NlYXJjaF9lbmdpbmUiLCJvbl9zcGVjaWZpY191cmwiLCJ1cmxzIiwibm90X29uX3NwZWNpZmljX3VybCIsInZpc2l0b3JfaGFzX2NvbW1lbnRlZCIsInZpc2l0b3JfaGFzX25ldmVyX2NvbW1lbnRlZCIsImluX2FfY291bnRyeSIsImNvdW50cmllcyIsIndwbXVpU2VsZWN0Iiwibm90X2luX2FfY291bnRyeSIsImNsaWNrIC53cG9pLWNvbmRpdGlvbnMtbGlzdC1oYW5kbGVzIC53cG9pLWNvbmRpdGlvbi1pdGVtOm5vdCguZGlzYWJsZWQpIiwiY2xpY2sgLndwb2ktY29uZGl0aW9ucy1saXN0LWhhbmRsZXMgLndwb2ktY29uZGl0aW9uLWl0ZW06bm90KC5kaXNhYmxlZCkgc3BhbiIsImFjdGl2ZV9jb25kaXRpb25zIiwiY29uZGl0aW9uIiwiaGFuZGxlIiwiZ2V0X2xhYmVsIiwiY2lkIiwiZ2V0X2NvbmRpdGlvbl9jaWQiLCJhY3RpdmVfY2xhc3MiLCJpY29uX2NsYXNzIiwiYXBwZW5kIiwiYWRkX2NvbmRpdGlvbl9wYW5lbCIsInRha2VfY2FyZV9vZl9jb25uZWN0ZV9jb25kaXRpb25zIiwidGhpc19jb25kaXRpb24iLCJkaXNhYmxlX2lkIiwiJGRpc2FibGVfaGFuZGxlIiwiYWRkX2NvbmRpdGlvbiIsIiRoYW5kbGUiLCJyZW1vdmVfY29uZGl0aW9uIiwidG9nZ2xlX2NvbmRpdGlvbiIsIkVtYWlsX1NlcnZpY2VzX1RhYiIsImlucHV0IGlucHV0IiwiY2hhbmdlICN3cG9pLXRlc3QtbW9kZS1zZXR1cCIsImtleXVwIGlucHV0IiwiY2xpY2sgLm5leHQtYnV0dG9uIGEiLCJjaGFuZ2UgI29wdGluX25ld19wcm92aWRlcl9uYW1lIiwiY2xpY2sgLm9wdGluX3JlZnJlc2hfcHJvdmlkZXJfZGV0YWlscyIsIiRkZXRhaWxzX3BsYWNlaG9sZGVyIiwiJG9wdGlvbnNfcGxhY2Vob2xkZXIiLCJwYXJhbXMiLCJnZXRfcGFyYW1zIiwiY29kZSIsInNldFRpbWVvdXQiLCJtaXgiLCJmaWVsZHMiLCJ1cGRhdGVfbW9kZWwiLCJzZWxmIiwiZGVsYXkiLCJnZXRfc2hvcnRjb2RlX2lkIiwidW5kZWZpbmVkIiwidmFsaWRhdGlvbiIsInByb3ZpZGVyX25hbWUiLCJwcm92aWRlcl92YWxpZGF0aW9uIiwiX3dyYXBwZWQiLCJjb25jYXQiLCJfdGhpcyIsImVycm9yIiwiYmVmb3JlIiwidXJsIiwic2VhcmNoIiwiYW1wZXJzYW5kIiwiY2hhaW4iLCJtYXAiLCJjb21wYWN0Iiwib2JqZWN0IiwicHJvdmlkZXJfY2hhbmdlIiwicmVtb3ZlX3ByZXZfcHJvdmlkZXJfYXJncyIsIm9wdGluIiwiam9pbiIsInJlZnJlc2hfcHJvdmlkZXJfZGV0YWlscyIsIiRib3giLCJzZXJpYWxpemUiLCIkaW5wdXQiLCIkcGxhY2Vob2xkZXIiLCJyZWRpcmVjdF90byIsInNvbWV0aGluZ193ZW50X3dyb25nIiwiJHByZXZfcHJvdmlkZXJfYXJncyIsIkRlc2lnbl9UYWIiLCJvcHRpbl9pbnB1dF9pY29ucyIsImxheW91dHMiLCJrZXl1cCAjb3B0aW5fdGl0bGUiLCJjbGljayAjd3BvaS1zd2FwLWltYWdlLWJ1dHRvbiIsImNsaWNrICN3cG9pLWRlbGV0ZS1pbWFnZS1idXR0b24iLCJjbGljayAud3BvaS1zZWxlY3QtbWVkaWEgLmJ1dHRvbi1naG9zdCIsImNsaWNrIC53cG9pLW1lZGlhLW9wdGlvbnMgLmJ1dHRvbi13aGl0ZSIsImNsaWNrIC53cG9pLW1lZGlhLW9wdGlvbnMtd3JhcC1saXN0IC5kZXYtaWNvbi1jcm9zcyIsImNoYW5nZSBpbnB1dFtuYW1lPSdvcHRpbi1pbWFnZS1sb2NhdGlvbiddIiwiY2hhbmdlIGlucHV0W25hbWU9J29wdGluLWltYWdlLXN0eWxlJ10iLCJjaGFuZ2UgI29wdGluX2Zvcm1fbG9jYXRpb24gaW5wdXRbdHlwZT0ncmFkaW8nXSIsImNoYW5nZSBpbnB1dFtuYW1lPSdvcHRpbl9pbnB1dF9pY29ucyddIiwiY2hhbmdlICNvcHRpbl9vcHRpb25hbF9lbGVtZW50cyBpbnB1dCIsImNoYW5nZSAjb3B0aW5fY29sb3JfcGFsZXR0ZXMiLCJjaGFuZ2UgI29wdGluX2N1c3RvbWl6ZV9jb2xvcl9wYWxldHRlIiwiY2hhbmdlIFtuYW1lPSdvcHRpbl9maWVsZHNfc3R5bGUnXSIsImNoYW5nZSAjb3B0aW5fZHJvcHNoYWRvd192YWx1ZSIsImNoYW5nZSAjb3B0aW5fcm91bmRlZF9jb3JuZXJzX3JhZGlvdXMiLCJjaGFuZ2UgI2ZpZWxkc19yb3VuZGVkX2Nvcm5lcnNfcmFkaW91cyIsImNoYW5nZSAjYnV0dG9uX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzIiwiY2xpY2sgLm5leHQtYnV0dG9uIC5uZXh0IiwiY2xpY2sgLm5leHQtYnV0dG9uIC5wcmV2aW91cyIsInN1Ym1pdCBmb3JtLndwb2ktZm9ybS13cmFwIiwiY2xpY2sgI29wdGluX2FwcGx5X2N1c3RvbV9jc3MiLCJtb3VzZWVudGVyIC53cG9pLXN0eWxhYmxlLWVsZW1lbnQiLCJtb3VzZWxlYXZlIC53cG9pLXN0eWxhYmxlLWVsZW1lbnQiLCJjbGljayAud3BvaS1zdHlsYWJsZS1lbGVtZW50IiwiY2xpY2sgI3dwb2ktcHJldmlldy1vcHRpbi1idXR0b24iLCJjaGFuZ2UgaW5wdXQud3lzaXd5Zy10YWIiLCJjbGljayAjd3BvaS1wcmV2aWV3LXN1Y2Nlc3MtYnV0dG9uIiwiY2xpY2sgLndwb2ktc3Vic2NyaWJlLXNlbmQiLCJzdHlsYWJsZXMiLCIud3BvaS1jb250YWluZXIgIiwiLndwb2ktZm9ybS10aXRsZSAiLCIud3BvaS1mb3JtLW1lc3NhZ2UsIC53cG9pLWZvcm0tbWVzc2FnZSBwICIsIi53cG9pLWZvcm0tZmllbGRzICIsIi53cG9pLWZvcm0tZmllbGRzIC53cG9pLXN1YnNjcmliZS1mbmFtZSAiLCIud3BvaS1mb3JtLWZpZWxkcyAud3BvaS1zdWJzY3JpYmUtbG5hbWUgIiwiLndwb2ktZm9ybS1maWVsZHMgLndwb2ktc3Vic2NyaWJlLWVtYWlsICIsIi53cG9pLWZvcm0tZmllbGRzIC53cG9pLXN1YnNjcmliZS1zZW5kICIsInByZXZpZXdfdGVtcGxhdGUiLCJjb2xvcl9waWNrZXJzX3RwbCIsImxpc3RlblRvIiwicmVuZGVyX3ByZXZpZXciLCJiaW5kIiwicHJldmlld19zdWNjZXNzX21lc3NhZ2UiLCJjcmVhdGVfZWRpdG9ycyIsInJlbmRlcl9jb2xvcl9waWNrZXJzIiwibmV4dCIsIndyYXBBbGwiLCJhcHBseV9jdXN0b21fY3NzIiwiY2FuY2VsX2R1bW15X29wdGluX3N1Ym1pdCIsImdvX3RvX2Rpc3BsYXlfc2V0dGluZ3MiLCJnb190b19zZXJ2aWNlcyIsInVwZGF0ZV9jb2xvcl9wYWxldHRlIiwiZmluZFdoZXJlIiwicmVzZXRfY29sb3JfcGlja2VycyIsImZpZWxkX25hbWUiLCJ3cENvbG9yUGlja2VyIiwicHJveHkiLCJfY3JlYXRlX2NvbG9yX3BpY2tlcnMiLCJoYXNfYXJncyIsIl9zaG93X2FyZ3MiLCJ1cGRhdGVfc3R5bGVzIiwidXBkYXRlX2JvcmRlcnNfc3R5bGUiLCIkcHJldmlld19vcHRpbl9idXR0b24iLCIkcHJldmlld19zdWNjZXNzX2J1dHRvbiIsImFwcGx5X3Byb3Blcl9wcmV2aWV3X2NsYXNzZXMiLCJfZml4X2xheW91dF8zX3NpemVzIiwiJHBhcmVudCIsInByZXYiLCIkY2hpbGQiLCIkYXNpZGUiLCIkZGl2IiwiJGVsZW1lbnQiLCIkY29udGVudCIsIiRjb2wiLCIkc2lkZWJhciIsInByZXZpZXdfdG9nZ2xlIiwicHJldmlld19zaG93X29wdGluIiwicHJldmlld19zaG93X3N1Y2Nlc3MiLCJzY29wZSIsInVwZGF0ZV9jdXN0b21pemVfY29sb3JfcGFsZXR0ZSIsInVwZGF0ZV9vcHRpbl90aXRsZSIsInVpIiwidXBkYXRlX21haW5fYmFja2dyb3VuZCIsImNvbG9yIiwidG9DU1MiLCJ1cGRhdGVfdGl0bGVfY29sb3IiLCJ1cGRhdGVfbGlua19jb2xvciIsInVwZGF0ZV9jb250ZW50X2NvbG9yIiwidXBkYXRlX2xpbmtfaG92ZXJfY29sb3IiLCJ1cGRhdGVfZm9ybV9iYWNrZ3JvdW5kIiwidXBkYXRlX2ZpZWxkc19iYWNrZ3JvdW5kIiwidXBkYXRlX2xhYmVsX2NvbG9yIiwidXBkYXRlX2J1dHRvbl9iYWNrZ3JvdW5kIiwidXBkYXRlX2J1dHRvbl9sYWJlbCIsInVwZGF0ZV9maWVsZHNfY29sb3IiLCJ1cGRhdGVfZXJyb3JfY29sb3IiLCJ1cGRhdGVfYnV0dG9uX2hvdmVyX2JhY2tncm91bmQiLCJ1cGRhdGVfYnV0dG9uX2hvdmVyX2xhYmVsIiwidXBkYXRlX2NoZWNrbWFya19jb2xvciIsInVwZGF0ZV9zdWNjZXNzX2NvbG9yIiwidXBkYXRlX2Nsb3NlX2NvbG9yIiwidXBkYXRlX25zYV9jb2xvciIsInVwZGF0ZV9vdmVybGF5X2JhY2tncm91bmQiLCJ1cGRhdGVfY2xvc2VfaG92ZXJfY29sb3IiLCJ1cGRhdGVfbnNhX2hvdmVyX2NvbG9yIiwidXBkYXRlX3JhZGlvX2JhY2tncm91bmQiLCJ1cGRhdGVfcmFkaW9fY2hlY2tlZF9iYWNrZ3JvdW5kIiwidXBkYXRlX2NoZWNrYm94X2JhY2tncm91bmQiLCJ1cGRhdGVfY2hlY2tib3hfY2hlY2tlZF9jb2xvciIsInVwZGF0ZV9tY2dfdGl0bGVfY29sb3IiLCJ1cGRhdGVfbWNnX2xhYmVsX2NvbG9yIiwiX2JpbmRfdG9fbWVzc2FnZV9lZGl0b3IiLCJfY3JlYXRlX2Nzc19lZGl0b3IiLCJ1cGRhdGVfZmllbGRzX3N0eWxlIiwiaGlnaGxpZ2h0X3N0eWxhYmxlX2VsZW1lbnQiLCIkc3R5bGFibGUiLCJpbnNlcnRfc3R5bGFibGVfZWxlbWVudCIsInN0eWxhYmxlIiwiY3NzX2VkaXRvciIsIm5hdmlnYXRlRmlsZUVuZCIsImluc2VydCIsIm5hdmlnYXRlTGVmdCIsImZvY3VzIiwicGFkZGluZyIsImJhY2tncm91bmQiLCIkaW1hZ2UiLCJ3YWl0Rm9yVGlueU1DRSIsInNldEludGVydmFsIiwidGlueW1jZSIsImNsZWFySW50ZXJ2YWwiLCJhcmdzIiwiZWRpdG9yIiwiZ2V0UGFyYW0iLCJtZXNzYWdlX2VkaXRvciIsInN1Y2Nlc3NfZWRpdG9yIiwiZG9tIiwic2V0U3R5bGUiLCJvZmYiLCJyZWZyZXNoX2VkaXRvciIsImdldENvbnRlbnQiLCJzZWxlY3RvciIsImFjZSIsImVkaXQiLCJnZXRTZXNzaW9uIiwic2V0TW9kZSIsInNldFRoZW1lIiwic2V0VXNlV3JhcE1vZGUiLCJzZXRVc2VXb3JrZXIiLCJzZXRTaG93UHJpbnRNYXJnaW4iLCJyZW5kZXJlciIsInNldFNob3dHdXR0ZXIiLCJzZXRIaWdobGlnaHRBY3RpdmVMaW5lIiwidXBkYXRlX2N1c3RvbV9jc3MiLCJjaGFuZ2UiLCJtZXRob2RfbmFtZSIsIndhcm4iLCJjbGljayIsImdldFZhbHVlIiwiJHN0eWxlc19lbCIsImNzc19zdHJpbmciLCJhamF4IiwiZGF0YVR5cGUiLCJnZXRfbGF5b3V0X2NvbG9ycyIsImdldF9zdHlsYWJsZV9lbGVtZW50cyIsImxpbmtfY29sb3IiLCJsaW5rX2hvdmVyX2NvbG9yIiwibGFiZWxfY29sb3IiLCJlcnJvcl9jb2xvciIsImJ1dHRvbl9ob3Zlcl9iYWNrZ3JvdW5kIiwiYnV0dG9uX2hvdmVyX2xhYmVsIiwiY2hlY2ttYXJrX2NvbG9yIiwic3VjY2Vzc19jb2xvciIsImNsb3NlX2NvbG9yIiwibnNhX2NvbG9yIiwib3ZlcmxheV9iYWNrZ3JvdW5kIiwiY2xvc2VfaG92ZXJfY29sb3IiLCJuc2FfaG92ZXJfY29sb3IiLCJyYWRpb19iYWNrZ3JvdW5kIiwicmFkaW9fY2hlY2tlZF9iYWNrZ3JvdW5kIiwiY2hlY2tib3hfYmFja2dyb3VuZCIsImNoZWNrYm94X2NoZWNrZWRfY29sb3IiLCJtY2dfdGl0bGVfY29sb3IiLCJtY2dfbGFiZWxfY29sb3IiLCJzdHlsZXMiLCJjb2xvcl90eXBlIiwidXBkYXRlX29wdGluX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzIiwidXBkYXRlX2ZpZWxkc19yb3VuZGVkX2Nvcm5lcnNfcmFkaW91cyIsInVwZGF0ZV9idXR0b25fcm91bmRlZF9jb3JuZXJzX3JhZGlvdXMiLCJ0b2dnbGVfaW1hZ2VfbWVudSIsImRlbGV0ZV9pbWFnZSIsInNwZWNpZnlfaW1hZ2UiLCJ3cCIsIm1lZGlhIiwic2VuZCIsImF0dGFjaG1lbnQiLCJwcm9wcyIsInN0cmluZyIsIm9wZW4iLCJtdWx0aXBsZSIsInVwZGF0ZV9zaGFkb3dfY29sb3IiLCJ1cGRhdGVfZHJvcHNoYWRvdyIsInVwZGF0ZV9kcm9wc2hhZG93X3ZhbHVlIiwidXBkYXRlX2ltYWdlX2xvY2F0aW9uIiwidXBkYXRlX2ltYWdlX3N0eWxlIiwidXBkYXRlX2xvY2F0aW9uIiwidXBkYXRlX2lucHV0X2ljb25zIiwidXBkYXRlX29wdGlvbmFsX2VsZW1lbnRzIiwidmFscyIsIndpdGhvdXQiLCJmb3JtX2ZpZWxkIiwiRGlzcGxheV9UcmlnZ2VycyIsImNsaWNrIC53cG9pLXRyaWdnZXJzLXRhYnMgbGFiZWwiLCJoaWRlX2FkYmxvY2tfb3B0aW9uc19vbl90b2dnbGUiLCJnZXRfZGF0YSIsImNoYW5nZV90YWIiLCIkdGhpc190YWIiLCIkdGhpc19jb250ZW50IiwiJHJhZGlvIiwiRGlzcGxheV9UYWIiLCJ3aWRnZXRfbWVzc2FnZV90cGwiLCJjbGljayAubmV4dC1idXR0b24gYS5uZXh0IiwiY2xpY2sgLm5leHQtYnV0dG9uIGEucHJldmlvdXMiLCJjbGljayAuY2FuLW9wZW4uZGlzcGxheS1zZXR0aW5ncy1pY29uIHNwYW4ub3BlbiBpLmRldi1pY29uIiwiY2hhbmdlICN3cG9pLWFmdGVyLWNvbnRlbnQtc3RhdGUtdG9nZ2xlIiwiY2hhbmdlICN3cG9pLXBvcHVwLXN0YXRlLXRvZ2dsZSIsImNoYW5nZSAjd3BvaS1zbGlkZS1pbi1zdGF0ZS10b2dnbGUiLCJ0b2dnbGVfYWZ0ZXJfY29udGVudF9hbmltYXRpb25fc2VsZWN0IiwidXBkYXRlX3NsaWRlX2luX3Bvc2l0aW9uX2xhYmVsIiwicmVuZGVyX3dpZGdldF9tZXNzYWdlIiwibW92ZV9zZWxlY3RzX3VuZGVyX3NlbGVjdGVkX3JhZGlvIiwiYmxvY2tfY2xhc3MiLCJzZWxlY3Rfd3JhcCIsIiRzZWNvbmRfcmFkaW8iLCIkdGFnc19zZWxlY3QiLCJpbnNlcnRBZnRlciIsImluc2VydEJlZm9yZSIsImVpdGhlcl9hbGxfb3Jfb3RoZXJzIiwic3BsaWNlIiwicG9zaXRpb25zIiwiZm4iLCJjYXRzIiwidGFncyIsInBvc3RzIiwicGFnZXMiLCJwIiwiY2hlY2siLCJvcHRpbl90eXBlX3RvZ2dsZSIsIiRibG9jayIsIiRwIiwiZmlyc3QiLCJ0b2dnbGVfYm94ZXMiLCJnb190b19kZXNpZ24iLCJzdWJtaXRfYW5kX3NhdmUiLCJuZXdfb3B0aW4iLCJJbmNfT3B0X1JvdXRlciIsIlJvdXRlciIsInJvdXRlcyIsIiIsImRpc3BsYXkoLzpvcHRpbl90eXBlKSIsInJvdXRlIiwiY2FsbGJhY2siLCJmIiwiZXhlY3V0ZSIsInJvdXRlSW5kZXgiLCJhZG1pbnBhZ2UiLCJoaXN0b3J5Iiwic3RhcnQiXSwibWFwcGluZ3MiOiJBQUFBLFlBQ0EsSUFBQUEsT0FBQUEsU0FDQUEsT0FBQUMsUUFDQUQsTUFBQUUsVUFDQUYsTUFBQUcsVUFDQSxtQkFBQUMs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QUExVyxNQUFBclcsS0FBQTZrQixJQUdBclMsU0FBQSxXQUNBclYsTUFBQTZVLEtBQUFDLGNBQUEsSUFHQWxOLE9BQUEsV0FHQTVILE1BQUE2VSxLQUFBQyxjQUFBLElBR0FRLFFBQUEsU0FBQWxMLEdBRUFwSyxNQUFBNlUsS0FBQUMsY0FBQSxHQUdBMUssRUFBQUEsR0FBQSxHQUNBLElBQUFBLEdBQUEvRCxPQUFBLHNCQUFBK0QsR0FBQTVILFFBRUE2RCxPQUFBLHNCQUFBK0QsR0FBQU4sS0FBQSxnQ0FBQXdDLFFBQUEsV0FxQkEsMEJBQUEwakIsWUFDQWh3QixNQUFBK0wsT0FBQSxHQUFBdWpCLGdCQUNBbHZCLFNBQUE2dkIsUUFBQUMiLCJmaWxlIjoiYWRtaW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBPcHRpbiA9IE9wdGluIHx8IHt9O1xyXG5PcHRpbi5WaWV3ID0ge307XHJcbk9wdGluLk1vZGVscyA9IHt9O1xyXG5PcHRpbi5FdmVudHMgPSB7fTtcclxuaWYoIHR5cGVvZiBCYWNrYm9uZSAhPT0gXCJ1bmRlZmluZWRcIilcclxuICAgIF8uZXh0ZW5kKE9wdGluLkV2ZW50cywgQmFja2JvbmUuRXZlbnRzKTtcclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cclxuICAgIE9wdGluLkNPT0tJRV9QUkVGSVggPSBcImluY19vcHRpbl9sb25nX2hpZGRlbi1cIjtcclxuICAgIE9wdGluLlBPUFVQX0NPT0tJRV9QUkVGSVggPSBcImluY19vcHRpbl9wb3B1cF9sb25nX2hpZGRlbi1cIjtcclxuICAgIE9wdGluLlNMSURFX0lOX0NPT0tJRV9QUkVGSVggPSBcImluY19vcHRpbl9zbGlkZV9pbl9sb25nX2hpZGRlbi1cIjtcclxuICAgIE9wdGluLlNMSURFX0lOX0NPT0tJRV9ISURFX0FMTCA9IFwiaW5jX29wdGluX3NsaWRlX2luX2hpZGVfYWxsXCI7XHJcblxyXG4gICAgXy5taXhpbih7XHJcbiAgICAgICAgdG9Cb29sOiBmdW5jdGlvbih2YWwpe1xyXG4gICAgICAgICAgICBpZiggXy5pc0Jvb2xlYW4odmFsKSApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG5cclxuICAgICAgICAgICAgaWYoIF8uaXNTdHJpbmcoIHZhbCApICYmIFtcInRydWVcIiwgXCJmYWxzZVwiLCBcIjFcIl0uaW5kZXhPZiggdmFsLnRvTG93ZXJDYXNlKCkgKSAhPT0gLTEgKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWwudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIgfHwgdmFsLnRvTG93ZXJDYXNlKCkgPT09IFwiMVwiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiggXy5pc051bWJlciggdmFsICkgKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdmFsO1xyXG5cclxuICAgICAgICAgICAgaWYoXy5pc1VuZGVmaW5lZCggdmFsICkgfHwgXy5pc051bGwodmFsKSB8fCBfLmlzTmFOKCB2YWwgKSAgKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlzVHJ1ZTogZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgICAgIGlmKCBfLmlzVW5kZWZpbmVkKCB2YWwgKSB8fCBfLmlzTnVsbCggdmFsICkgfHwgXy5pc05hTiggdmFsICkgKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYoIF8uaXNOdW1iZXIoIHZhbCApIClcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWwgIT09IDA7XHJcblxyXG4gICAgICAgICAgICB2YWwgPSB2YWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gWycxJywgXCJ0cnVlXCJdLmluZGV4T2YoIHZhbCApICE9PSAtMTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbnRyb2xfYmFzZTogZnVuY3Rpb24oY2hlY2tlZCwgY3VycmVudCwgYXR0cmlidXRlKXtcclxuICAgICAgICAgICAgYXR0cmlidXRlID0gXy5pc1VuZGVmaW5lZCggYXR0cmlidXRlICkgPyBcImNoZWNrZWRcIiA6IGF0dHJpYnV0ZTtcclxuICAgICAgICAgICAgY2hlY2tlZCAgPSBfLnRvQm9vbChjaGVja2VkKTtcclxuICAgICAgICAgICAgY3VycmVudCA9IF8uaXNCb29sZWFuKCBjaGVja2VkICkgPyBfLmlzVHJ1ZSggY3VycmVudCApIDogY3VycmVudDtcclxuXHJcbiAgICAgICAgICAgIGlmKF8uaXNFcXVhbChjaGVja2VkLCBjdXJyZW50ICkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICBhdHRyaWJ1dGUgKyAnPVwiJyArIGF0dHJpYnV0ZSArJ1wiJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgY2hlY2tlZD1jaGVjayBpZiBjaGVja2VkIHZhcmlhYmxlIGlzIGVxdWFsIHRvIGN1cnJlbnQgc3RhdGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGNoZWNrZWQgY2hlY2tlZCBzdGF0ZVxyXG4gICAgICAgICAqIEBwYXJhbSBjdXJyZW50IGN1cnJlbnQgc3RhdGVcclxuICAgICAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBjaGVja2VkOiBmdW5jdGlvbihjaGVja2VkLCBjdXJyZW50KXtcclxuICAgICAgICAgICAgcmV0dXJuIF8uY29udHJvbF9iYXNlKCBjaGVja2VkLCBjdXJyZW50LCBcImNoZWNrZWRcIiApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uKHNlbGVjdGVkLCBjdXJyZW50KXtcclxuICAgICAgICAgICAgcmV0dXJuIF8uY29udHJvbF9iYXNlKCBzZWxlY3RlZCwgY3VycmVudCwgXCJzZWxlY3RlZFwiICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkaXNhYmxlZDogZnVuY3Rpb24oIGRpc2FibGVkLCBjdXJyZW50ICl7XHJcbiAgICAgICAgICAgIHJldHVybiBfLmNvbnRyb2xfYmFzZSggZGlzYWJsZWQsIGN1cnJlbnQsIFwiZGlzYWJsZWRcIiApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmKCAhXy5maW5kS2V5ICkge1xyXG4gICAgICAgIF8ubWl4aW4oe1xyXG4gICAgICAgICAgICBmaW5kS2V5OiBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaiksIGtleTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJlZGljYXRlKG9ialtrZXldLCBrZXksIG9iaikpIHJldHVybiBrZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVjdXJzaXZlIHRvSlNPTlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICovXHJcbiAgICAgICAgLy9CYWNrYm9uZS5Nb2RlbC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgdmFyIGpzb24gPSBfLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7XHJcbiAgICAgICAgLy8gICAgZm9yKHZhciBhdHRyIGluIGpzb24pIHtcclxuICAgICAgICAvLyAgICAgICAgaWYoKGpzb25bYXR0cl0gaW5zdGFuY2VvZiBCYWNrYm9uZS5Nb2RlbCkgfHwgKGpzb25bYXR0cl0gaW5zdGFuY2VvZiBCYWNrYm9uZS5Db2xsZWN0aW9uKSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAganNvblthdHRyXSA9IGpzb25bYXR0cl0udG9KU09OKCk7XHJcbiAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy8gICAgcmV0dXJuIGpzb247XHJcbiAgICAgICAgLy99O1xyXG5cclxuXHJcbiAgICBBcnJheS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihlbGVtZW50KSAhPT0gLTE7XHJcbiAgICB9O1xyXG5cclxuICAgIFN0cmluZy5wcm90b3R5cGUudG9JbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLCAxMCk7XHJcbiAgICB9O1xyXG4gICAgU3RyaW5nLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmxlbmd0aCA9PT0gMCB8fCAhdGhpcy50cmltKCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBPcHRpbi50ZW1wbGF0ZSA9IF8ubWVtb2l6ZShmdW5jdGlvbiAoIGlkICkge1xyXG4gICAgICAgIHZhciBjb21waWxlZCxcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBldmFsdWF0ZTogICAgLzwjKFtcXHNcXFNdKz8pIz4vZyxcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlOiAvXFx7XFx7XFx7KFtcXHNcXFNdKz8pXFx9XFx9XFx9L2csXHJcbiAgICAgICAgICAgICAgICBlc2NhcGU6ICAgICAgL1xce1xceyhbXlxcfV0rPylcXH1cXH0oPyFcXH0pL2dcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICggZGF0YSApIHtcclxuICAgICAgICAgICAgY29tcGlsZWQgPSBjb21waWxlZCB8fCBfLnRlbXBsYXRlKCAkKCAnIycgKyBpZCApLmh0bWwoKSwgbnVsbCwgb3B0aW9ucyApO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcGlsZWQoIGRhdGEgKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgT3B0aW4uY29va2llID0ge1xyXG4gICAgICAgIC8vIEdldCBhIGNvb2tpZSB2YWx1ZS5cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBpLCBjLCBjb29raWVfbmFtZSwgdmFsdWUsXHJcbiAgICAgICAgICAgICAgICBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGNvb2tpZV9uYW1lID0gbmFtZSArIFwiPVwiO1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gY2FbaV07XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT09ICcgJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGMgPSBjLnN1YnN0cmluZygxLCBjLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYy5pbmRleE9mKGNvb2tpZV9uYW1lKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdmFsID0gYy5zdWJzdHJpbmcoY29va2llX25hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFfdmFsID8gX3ZhbCA6IEpTT04ucGFyc2UoX3ZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gU2F2ZXMgdGhlIHZhbHVlIGludG8gYSBjb29raWUuXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGRheXMpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGUsIGV4cGlyZXM7XHJcblxyXG4gICAgICAgICAgICB2YWx1ZSA9ICQuaXNBcnJheSh2YWx1ZSkgfHwgJC5pc1BsYWluT2JqZWN0KHZhbHVlKSA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpc05hTihkYXlzKSkge1xyXG4gICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoIGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwICkpO1xyXG4gICAgICAgICAgICAgICAgZXhwaXJlcyA9IFwiOyBleHBpcmVzPVwiICsgZGF0ZS50b0dNVFN0cmluZygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXhwaXJlcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIHZhbHVlICsgZXhwaXJlcyArIFwiOyBwYXRoPS9cIjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKCdibHVyJywgJ2lucHV0LCB0ZXh0YXJlYSwgc2VsZWN0JywgZnVuY3Rpb24oKXtcclxuXHQgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuXHQgICAgaWYoJHRoaXMuaXMoJzppbnB1dFt0eXBlPWJ1dHRvbl0sIDppbnB1dFt0eXBlPXN1Ym1pdF0sIDppbnB1dFt0eXBlPXJlc2V0XScpKSByZXR1cm47XHJcblx0ICAgIGlmKCAkdGhpcy52YWwoKS50cmltKCkgIT09ICcnICkge1xyXG5cdFx0ICAgICR0aGlzLnBhcmVudCgpLmFkZENsYXNzKCd3cG9pLWZpbGxlZCcpO1xyXG5cdFx0fSBlbHNle1xyXG4gICAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5yZW1vdmVDbGFzcygnd3BvaS1maWxsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBPcHRpbi5NaXhpbnMgPSB7XHJcbiAgICAgICAgX21peGluczoge30sXHJcbiAgICAgICAgX3NlcnZpY2VzX21peGluczoge30sXHJcbiAgICAgICAgX2Rlc2luZ19taXhpbnM6IHt9LFxyXG4gICAgICAgIF9kaXNwbGF5X21peGluczoge30sXHJcbiAgICAgICAgYWRkOiBmdW5jdGlvbihpZCwgb2JqKXtcclxuICAgICAgICAgICAgdGhpcy5fbWl4aW5zW2lkXSA9IG9iajtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldF9taXhpbnM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9taXhpbnM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGRfc2VydmljZXNfbWl4aW46IGZ1bmN0aW9uKCBpZCwgb2JqICl7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2VzX21peGluc1tpZF0gPSBvYmo7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRfc2VydmljZXNfbWl4aW5zOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VydmljZXNfbWl4aW5zO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oJ2JsdXInLCAnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnLCBmdW5jdGlvbigpe1xyXG5cdCAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG5cdCAgICBpZigkdGhpcy5pcygnOmlucHV0W3R5cGU9YnV0dG9uXSwgOmlucHV0W3R5cGU9c3VibWl0XSwgOmlucHV0W3R5cGU9cmVzZXRdJykpIHJldHVybjtcclxuXHQgICAgaWYoICR0aGlzLnZhbCgpLnRyaW0oKSAhPT0gJycgKSB7XHJcblx0XHQgICAgJHRoaXMucGFyZW50KCkuYWRkQ2xhc3MoJ3dwb2ktZmlsbGVkJyk7XHJcblx0XHR9IGVsc2V7XHJcbiAgICAgICAgICAgICR0aGlzLnBhcmVudCgpLnJlbW92ZUNsYXNzKCd3cG9pLWZpbGxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG4iLCIoZnVuY3Rpb24oICQgKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIE9wdGluLlZpZXcuVGVtcGxhdGVfTWl4aW4gPSB7XHJcbiAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgIFwiY2hhbmdlIGlucHV0W3R5cGU9dGV4dF1cIjogXCJzZXRfbW9kZWxfdGV4dHNcIixcclxuICAgICAgICAgICAgXCJrZXl1cCAud3BvaV9jb250ZW50ZWRpdGFibGVcIjogXCJzZXRfbW9kZWxfY29udGVudGVkaXRhYmxlc1wiLFxyXG4gICAgICAgICAgICBcImNoYW5nZSBpbnB1dFt0eXBlPXJhZGlvXVwiOiBcInNldF9tb2RlbF9yYWRpb3NcIixcclxuICAgICAgICAgICAgXCJjaGFuZ2Ugc2VsZWN0XCI6IFwic2V0X21vZGVsX3NlbGVjdHNcIixcclxuICAgICAgICAgICAgXCJjaGFuZ2UgaW5wdXRbdHlwZT1jaGVja2JveF1cIjogXCJzZXRfbW9kZWxfY2hlY2tib3hlc1wiLFxyXG4gICAgICAgICAgICBcImJsdXIgaW5wdXRbdHlwZT10ZXh0XVwiOiBcInNldF9tb2RlbF9zZWxlY3RzXCIsXHJcbiAgICAgICAgICAgIFwiYmx1ciBpbnB1dFt0eXBlPW51bWJlcl1cIjogXCJzZXRfbW9kZWxfc2VsZWN0c1wiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRfbW9kZWxfdGV4dHM6ZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIHZhciAkZWwgPSAkKGUudGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA9ICRlbC5kYXRhKCdhdHRyaWJ1dGUnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coIGF0dHJpYnV0ZSwgICBlLnRhcmdldC52YWx1ZSApO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChhdHRyaWJ1dGUsIGUudGFyZ2V0LnZhbHVlICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRfbW9kZWxfY29udGVudGVkaXRhYmxlczpmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdmFyICRlbCA9ICQoZS50YXJnZXQpLFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlID0gJGVsLmRhdGEoJ2F0dHJpYnV0ZScpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChhdHRyaWJ1dGUsICRlbC50ZXh0KCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldF9tb2RlbF9yYWRpb3M6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgJGVsID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgPSAkZWwuZGF0YSgnYXR0cmlidXRlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KGF0dHJpYnV0ZSwgZS50YXJnZXQudmFsdWUgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldF9tb2RlbF9zZWxlY3RzOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdmFyICRlbCA9ICQoZS50YXJnZXQpLFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlID0gJGVsLmRhdGEoJ2F0dHJpYnV0ZScpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChhdHRyaWJ1dGUsICBlLnRhcmdldC52YWx1ZSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0X21vZGVsX2NoZWNrYm94ZXM6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgJGVsID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUgPSAkZWwuZGF0YSgnYXR0cmlidXRlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KGF0dHJpYnV0ZSwgICRlbC5pcyhcIjpjaGVja2VkXCIpICk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufShqUXVlcnkpKTsiLCIoZnVuY3Rpb24oICQgKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmV2aWV3IHBvcHVwIGluIHRoZSBsaXN0aW5nIHBhZ2VcclxuICAgICAqL1xyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5pbmNfb3B0X3ByZXZpZXdfb3B0aW5cIiwgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKFwiZGF0YVwiKSxcclxuICAgICAgICAgICAgZGVzaWduID0gJHRoaXMuZGF0YShcImRlc2lnblwiKSxcclxuICAgICAgICAgICAgcG9wdXBfc2V0dGluZ3MgPSAkdGhpcy5kYXRhKFwicG9wdXBcIiksXHJcbiAgICAgICAgICAgIGxheW91dCA9IGRlc2lnbi5mb3JtX2xvY2F0aW9uLnRvSW50KCk7XHJcblxyXG4gICAgICAgIGlmKCBfLmlzRW1wdHkoIGRhdGEgKSB8fCBfLmlzRW1wdHkoIGRlc2lnbiApICkgcmV0dXJuO1xyXG5cclxuXHJcbiAgICAgICAgLy8gY2xvc2UgYWxsIHBvcHVwc1xyXG4gICAgICAgIF8uZWFjaCggd3BtVWkucG9wdXBzKCksIGZ1bmN0aW9uKHBvcHVwLCBpbmRleCl7XHJcbiAgICAgICAgICAgIHBvcHVwLmhpZGUoKTtcclxuICAgICAgICB9ICk7XHJcblxyXG5cclxuICAgICAgICB2YXIgdHBsID0gT3B0aW4uZ2V0X3RwbCggbGF5b3V0ICksXHJcbiAgICAgICAgICAgIGh0bWwgPSB0cGwoXy5leHRlbmQoe30sIGRhdGEsIGRlc2lnbiwgZGVzaWduLmJvcmRlcnMpICk7XHJcblxyXG4gICAgICAgIHZhciBwb3B1cCA9IHdwbVVpLnBvcHVwKCAnPGRpdj48YSBocmVmPVwiI1wiIGNsYXNzPVwiaW5jLW9wdC1jbG9zZS1wb3B1cFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiID4mdGltZXM7PC9hPicgKyBodG1sICsnPC9kaXY+JyksXHJcbiAgICAgICAgICAgIHdpbmRvd193aWR0aCA9ICQod2luZG93KS53aWR0aCgpLFxyXG4gICAgICAgICAgICB3aW5kb3dfaGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpLFxyXG4gICAgICAgICAgICB3aWR0aCwgaGVpZ2h0O1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGxheW91dCl7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gd2luZG93X3dpZHRoICogMC41O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gd2luZG93X3dpZHRoICogMC43NDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gd2luZG93X3dpZHRoICogMC42O1xyXG4gICAgICAgICAgICAgICAgLy9oZWlnaHQgPSAzNjA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBvcHVwLnNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICAgICAgLm1vZGFsKCBmYWxzZSwgZmFsc2UgKVxyXG4gICAgICAgICAgICAuYW5pbWF0ZSggcG9wdXBfc2V0dGluZ3MuYW5pbWF0aW9uX2luICwgcG9wdXBfc2V0dGluZ3MuYW5pbWF0aW9uX291dClcclxuICAgICAgICAgICAgLnNldF9jbGFzcyhcImluY19vcHRfcHJldmlld19wb3B1cCBpbmNfb3B0X3BvcHVwIGluY19vcHRpbiBpbmNfb3B0aW5fXCIgKyBkYXRhLmlkKVxyXG4gICAgICAgICAgICAub25zaG93KGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2hvdygpO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbihcInN1Ym1pdFwiLCBcIi53cG9pLWZvcm0td3JhcFwiLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vcG9wdXAuJCgpLmRhdGEoXCJwb3B1cFwiLCBwb3B1cCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmluYy1vcHQtY2xvc2UtcG9wdXAnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyICR0aGlzID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICRwb3B1cCA9ICR0aGlzLmNsb3Nlc3QoICcuaW5jX29wdF9wb3B1cCcpO1xyXG5cclxuICAgICAgICBfLmVhY2goIHdwbVVpLnBvcHVwcygpLCBmdW5jdGlvbihwb3B1cCwgaW5kZXgpe1xyXG4gICAgICAgICAgICBwb3B1cC5oaWRlKCk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIEJveGVzIG9uIGRlc2lnbiB0YWJcclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuY2FuLW9wZW4gLmJveC10aXRsZSBzcGFuLm9wZW4gaS5kZXYtaWNvblwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIGNsYXNzT3BlbiA9IFwiZGV2LWljb24tY2FyZXRfdXBcIjtcclxuICAgICAgICB2YXIgY2xhc3NDbG9zZWQgPSBcImRldi1pY29uLWNhcmV0X2Rvd25cIjtcclxuICAgICAgICB2YXIgY3VycmVudENsYXNzID0gJHRoaXMuaGFzQ2xhc3MoY2xhc3NPcGVuKSA/IGNsYXNzT3BlbiA6IGNsYXNzQ2xvc2VkO1xyXG4gICAgICAgIHZhciBuZXdDbGFzcyA9IGN1cnJlbnRDbGFzcyA9PSBjbGFzc09wZW4gPyBjbGFzc0Nsb3NlZCA6IGNsYXNzT3BlbjtcclxuICAgICAgICB2YXIgJHNlY3Rpb24gPSAkdGhpcy5jbG9zZXN0KFwic2VjdGlvblwiKTtcclxuICAgICAgICAkdGhpcy5zd2l0Y2hDbGFzcyhjdXJyZW50Q2xhc3MsIG5ld0NsYXNzKTtcclxuICAgICAgICAkc2VjdGlvbi50b2dnbGVDbGFzcyhcImNsb3NlZFwiLCBjdXJyZW50Q2xhc3MgPT0gY2xhc3NDbG9zZWQpO1xyXG4gICAgICAgICRzZWN0aW9uLmZpbmQoXCIuYm94LWNvbnRlbnRcIikudG9nZ2xlKG5ld0NsYXNzID09IGNsYXNzQ2xvc2VkKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgc2V0X3Rlc3Rtb2RlX3Zpc2liaWxpeSA9IGZ1bmN0aW9uKCBhY3RpdmVfdG9nZ2xlLCBzcGVlZCApIHtcclxuICAgICAgICBpZiggdHlwZW9mIHNwZWVkID09PSAndW5kZWZpbmVkJyApIHNwZWVkID0gNDAwO1xyXG4gICAgICAgIHZhciAkdGhpcyA9IGFjdGl2ZV90b2dnbGUsXHJcbiAgICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCkgfHwge307XHJcblxyXG4gICAgICAgIHZhciAkdGVzdF9tb2RlX3RvZ2dsZSA9ICQoJy53cG9pLXRlc3Rtb2RlLWFjdGl2ZS1zdGF0ZVtkYXRhLWlkPVwiJyArIGRhdGEuaWQgKyAnXCJdW2RhdGEtdHlwZT1cIicgKyBkYXRhLnR5cGUgKyAnXCJdJykuY2xvc2VzdChcIi50ZXN0LW1vZGVcIik7XHJcbiAgICAgICAgaWYoICR0aGlzLmlzKCBcIjpjaGVja2VkXCIgKSApe1xyXG4gICAgICAgICAgICAkdGVzdF9tb2RlX3RvZ2dsZS5mYWRlT3V0KCBzcGVlZCApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICR0ZXN0X21vZGVfdG9nZ2xlLmZhZGVJbiggc3BlZWQgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNoYW5nZVwiLCAnLm9wdGluLXR5cGUtYWN0aXZlLXN0YXRlJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoKSB8fCB7fTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHZpc2liaWxpdHkgZm9yIHRlc3QgbW9kZSB0b2dnbGVzIHdoZW4gdGhlIGFjdGl2ZSB0b2dnbGUgY2hhbmdlcywgYXMgc3BlY2lmaWVkIGluIGluZGVzaWduXHJcbiAgICAgICAgc2V0X3Rlc3Rtb2RlX3Zpc2liaWxpeSggJHRoaXMgKTtcclxuXHJcbiAgICAgICAgJCgnLm9wdGluLXR5cGUtYWN0aXZlLXN0YXRlW2RhdGEtaWQ9XCInICsgZGF0YS5pZCArICdcIl1bZGF0YS10eXBlPVwiJyArIGRhdGEudHlwZSArICdcIl0nKS5ub3QodGhpcykucHJvcChcImNoZWNrZWRcIiwgJHRoaXMuaXMoXCI6Y2hlY2tlZFwiKSA/IHRydWUgOiBmYWxzZSk7XHJcblxyXG4gICAgICAgIGRhdGEuYWN0aW9uID0gXCJpbmNfb3B0X3RvZ2dsZV9vcHRpbl90eXBlX3N0YXRlXCI7XHJcbiAgICAgICAgZGF0YS5fYWpheF9ub25jZSA9IGRhdGEubm9uY2U7XHJcblxyXG4gICAgICAgICR0aGlzLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAkLnBvc3QoYWpheHVybCwgZGF0YSxmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICR0aGlzLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTZXQgdmlzaWJpbGl0eSBmb3IgdGVzdCBtb2RlIHRvZ2dsZXMgYXQgdmlldyBsb2FkLCB3aXRoIG5vIGFuaW1hdGlvblxyXG4gICAgJCgnLm9wdGluLXR5cGUtYWN0aXZlLXN0YXRlJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgIHNldF90ZXN0bW9kZV92aXNpYmlsaXkoICQodGhpcyksIDAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2hhbmdlXCIsICcud3BvaS10ZXN0bW9kZS1hY3RpdmUtc3RhdGUnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgpIHx8IHt9O1xyXG4gICAgICAgIGRhdGEuYWN0aW9uID0gXCJpbmNfb3B0X3RvZ2dsZV90eXBlX3Rlc3RfbW9kZVwiO1xyXG4gICAgICAgIGRhdGEuX2FqYXhfbm9uY2UgPSBkYXRhLm5vbmNlO1xyXG5cclxuICAgICAgICAkKCcud3BvaS10ZXN0bW9kZS1hY3RpdmUtc3RhdGVbZGF0YS1pZD1cIicgKyBkYXRhLmlkICsgJ1wiXVtkYXRhLXR5cGU9XCInICsgZGF0YS50eXBlICsgJ1wiXScpLm5vdCh0aGlzKS5wcm9wKFwiY2hlY2tlZFwiLCAkdGhpcy5pcyhcIjpjaGVja2VkXCIpID8gdHJ1ZSA6IGZhbHNlKTtcclxuXHJcbiAgICAgICAgJHRoaXMucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICQucG9zdChhamF4dXJsLCBkYXRhLGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgJHRoaXMucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy53cG9pLWxpc3Rpbmctd3JhcCBoZWFkZXIuY2FuLW9wZW4gLnRvZ2dsZSwgLndwb2ktbGlzdGluZy13cmFwIGhlYWRlci5jYW4tb3BlbiAudG9nZ2xlLWxhYmVsJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2hhbmdlXCIsICcub3B0aW4tYWN0aXZlLXN0YXRlJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoKSB8fCB7fSxcclxuICAgICAgICAgICAgJG92ZXJsYXkgPSAkdGhpcy5jbG9zZXN0KFwiLndwb2ktbGlzdGluZy13cmFwXCIpLmZpbmQoXCIud3BvaS1vcHRpbi1kaXNhYmxlLW92ZXJsYXlcIik7XHJcbiAgICAgICAgZGF0YS5hY3Rpb24gPSBcImluY19vcHRfdG9nZ2xlX3N0YXRlXCI7XHJcbiAgICAgICAgZGF0YS5fYWpheF9ub25jZSA9IGRhdGEubm9uY2U7XHJcblxyXG4gICAgICAgICR0aGlzLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAkb3ZlcmxheS50b2dnbGVDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICAkLnBvc3QoYWpheHVybCwgZGF0YSxmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICR0aGlzLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmFjY29yZGlvbiBoZWFkZXIgLm9wdGluLWRlbGV0ZS1vcHRpbiwgLmFjY29yZGlvbiBoZWFkZXIgLmVkaXQtb3B0aW4sIC53cG9pLW9wdGluLWRldGFpbHMgdHIgLmJ1dHRvbi1lZGl0XCIpLmhpZGUoKS5jc3Moe1xyXG4gICAgICAgIHRyYW5zaXRpb24gOiAnbm9uZSdcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKHtcclxuICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICR0aGlzLmZpbmQoXCIub3B0aW4tZGVsZXRlLW9wdGluLCAuZWRpdC1vcHRpblwiKS5zdG9wKCkuZmFkZUluKFwiZmFzdFwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vdXNlbGVhdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgJHRoaXMuZmluZChcIi50b2dnbGUtY2hlY2tib3hcIikucmVtb3ZlUHJvcChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAkdGhpcy5maW5kKFwiLmVkaXQtb3B0aW5cIikucmVtb3ZlUHJvcChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAkdGhpcy5maW5kKFwiLm9wdGluLWRlbGV0ZS1vcHRpbiwgLmVkaXQtb3B0aW4sIC5kZWxldGUtb3B0aW4tY29uZmlybWF0aW9uXCIpLnN0b3AoKS5mYWRlT3V0KFwiZmFzdFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBcIi5hY2NvcmRpb24gaGVhZGVyXCIpO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKHtcclxuICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICR0aGlzLmZpbmQoXCIuYnV0dG9uLWVkaXRcIikuc3RvcCgpLmZhZGVJbihcImZhc3RcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3VzZWxlYXZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICR0aGlzLmZpbmQoXCIuYnV0dG9uLWVkaXRcIikuc3RvcCgpLmZhZGVPdXQoXCJmYXN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFwiLndwb2ktb3B0aW4tZGV0YWlscyB0clwiKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcub3B0aW4tZGVsZXRlLW9wdGluJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAkdGhpcy5jbG9zZXN0KFwiaGVhZGVyXCIpLmFkZENsYXNzKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgJHRoaXMucGFyZW50KCkuZmluZChcIi50b2dnbGUtY2hlY2tib3hcIikucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICR0aGlzLnBhcmVudCgpLmZpbmQoXCIuZWRpdC1vcHRpblwiKS5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgJHRoaXMuZmFkZU91dChcImZhc3RcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJHRoaXMucGFyZW50KCkuZmluZChcIi5kZWxldGUtb3B0aW4tY29uZmlybWF0aW9uXCIpLmZhZGVJbihcImZhc3RcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcub3B0aW4tZGVsZXRlLW9wdGluLWNhbmNlbCcsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgJHRoaXMuY2xvc2VzdChcImhlYWRlclwiKS5maW5kKFwiLnRvZ2dsZS1jaGVja2JveFwiKS5yZW1vdmVQcm9wKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgJHRoaXMuY2xvc2VzdChcImhlYWRlclwiKS5maW5kKFwiLmVkaXQtb3B0aW5cIikucmVtb3ZlUHJvcChcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICR0aGlzLmNsb3Nlc3QoXCJoZWFkZXJcIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAkdGhpcy5wYXJlbnQoKS5mYWRlT3V0KFwiZmFzdFwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkdGhpcy5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKFwiLm9wdGluLWRlbGV0ZS1vcHRpblwiKS5mYWRlSW4oXCJmYXN0XCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLm9wdGluLWRlbGV0ZS1vcHRpbi1jb25maXJtJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoKSB8fCB7fTtcclxuXHJcbiAgICAgICAgZGF0YS5hY3Rpb24gPSBcImluY19vcHRfZGVsZXRlX29wdGluXCI7XHJcbiAgICAgICAgZGF0YS5fYWpheF9ub25jZSA9IGRhdGEubm9uY2U7XHJcbiAgICAgICAgJHRoaXMucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgICAgICQucG9zdChhamF4dXJsLCBkYXRhLGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgJHRoaXMucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCByZXNwb25zZS5zdWNjZXNzIClcclxuICAgICAgICAgICAgICAgICR0aGlzLmNsb3Nlc3QoXCIud3BvaS1saXN0aW5nLXdyYXBcIikuc2xpZGVVcCgzMDAsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiggISQoXCIud3BvaS1saXN0aW5nLXdyYXBcIikubGVuZ3RoICkgLy8gaWYgdGhlIGRlbGV0ZWQgb3B0aW4gd2FzIHRoZSBsYXN0IG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsgLy8gcmVsb2FkIHRoZSBwYWdlIHNvIHRoYXQgcHJvcGVyIHBhZ2UgaXMgc2hvd25cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIud3BvaS10YWJzLW1lbnUgYVwiLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgdGFiID0gJCh0aGlzKS5hdHRyKFwidGFiXCIpO1xyXG4gICAgICAgIE9wdGluLnJvdXRlci5uYXZpZ2F0ZSh0YWIsIHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8kKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmJ1dHRvbi1lZGl0XCIsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIC8vICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyAgICB2YXIgb3B0aW5faWQgPSAkKHRoaXMpLmRhdGEoXCJpZFwiKTtcclxuICAgIC8vICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCJhZG1pbi5waHA/cGFnZT1pbmNfb3B0aW4mb3B0aW49XCIgKyBvcHRpbl9pZCA7XHJcbiAgICAvL30pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuZWRpdC1vcHRpblwiLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLndwb2ktdHlwZS1lZGl0LWJ1dHRvblwiLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgb3B0aW5faWQgPSAkKHRoaXMpLmRhdGEoXCJpZFwiKTtcclxuICAgICAgICB2YXIgb3B0aW5fdHlwZSA9ICQodGhpcykuZGF0YShcInR5cGVcIik7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImFkbWluLnBocD9wYWdlPWluY19vcHRpbiZvcHRpbj1cIiArIG9wdGluX2lkICsgXCIjZGlzcGxheS9cIiArIG9wdGluX3R5cGU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ha2UgXCJmb3JcIiBhdHRyaWJ1dGUgd29yayBvbiB0YWdzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBcImZvclwiIGJ5IGRlZmF1bHRcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJypbZm9yXScsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgIF9mb3IgPSAkdGhpcy5hdHRyKCAnZm9yJyksXHJcbiAgICAgICAgICAgICRmb3IgPSAkKFwiI1wiICsgX2Zvcik7XHJcblxyXG4gICAgICAgIGlmKCAkdGhpcy5pcyhcImxhYmVsXCIpIHx8ICEkZm9yLmxlbmd0aCApIHJldHVybjtcclxuXHJcbiAgICAgICAgJGZvci50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgICRmb3IudHJpZ2dlcihcImNsaWNrXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiN3cG9pLWNvbXBsZXRlLW1lc3NhZ2VcIikuZmFkZUluKCk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnI3dwb2ktY29tcGxldGUtbWVzc2FnZSAubmV4dC1idXR0b24gYnV0dG9uJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgJChcIiN3cG9pLWNvbXBsZXRlLW1lc3NhZ2VcIikuZmFkZU91dCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi53cG9pLWxpc3RpbmctcGFnZSAud3BvaS1saXN0aW5nLXdyYXAgaGVhZGVyLmNhbi1vcGVuXCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICQodGhpcykuZmluZChcIi5vcGVuXCIpLnRyaWdnZXIoXCJjbGlja1wiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT24gY2xpY2sgb2YgYXJyb3cgb2YgYW55IG9wdGluIGluIHRoZSBsaXN0aW5nIHBhZ2VcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIud3BvaS1saXN0aW5nLXBhZ2UgLndwb2ktbGlzdGluZy13cmFwIC5jYW4tb3BlbiAub3BlblwiLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICRwYW5lbCA9ICR0aGlzLmNsb3Nlc3QoXCIud3BvaS1saXN0aW5nLXdyYXBcIiksXHJcbiAgICAgICAgICAgICRzZWN0aW9uID0gJHBhbmVsLmZpbmQoXCJzZWN0aW9uXCIpLFxyXG4gICAgICAgICAgICAkb3RoZXJzID0gJChcIi53cG9pLWxpc3Rpbmctd3JhcFwiKS5ub3QoICRwYW5lbCApLFxyXG4gICAgICAgICAgICAkb3RoZXJfc2VjdGlvbnMgPSAkKFwiLndwb2ktbGlzdGluZy13cmFwIHNlY3Rpb25cIikubm90KCAkc2VjdGlvbiApO1xyXG5cclxuICAgICAgICAkb3RoZXJfc2VjdGlvbnMuc2xpZGVVcCgzMDAsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgICAgICAgICAkb3RoZXJfc2VjdGlvbnMucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRvdGhlcnMuZmluZChcIi5kZXYtaWNvblwiKS5yZW1vdmVDbGFzcyhcImRldi1pY29uLWNhcmV0X3VwXCIpLmFkZENsYXNzKFwiZGV2LWljb24tY2FyZXRfZG93blwiKTtcclxuXHJcbiAgICAgICAgJHNlY3Rpb24uc2xpZGVUb2dnbGUoMzAwLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkcGFuZWwudG9nZ2xlQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICAgICAgICAgICAkcGFuZWwuZmluZChcIi5kZXYtaWNvblwiKS50b2dnbGVDbGFzcyggXCJkZXYtaWNvbi1jYXJldF91cCBkZXYtaWNvbi1jYXJldF9kb3duXCIgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTbGlkZSB0b2dnbGUgY29uZGl0aW9uIHNlY3Rpb24gYW5kIGNoYW5nZSBhcnJvdyB1cCBvciBkb3duXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLndwb2ktY29uZGl0aW9uLWl0ZW0gaGVhZGVyXCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICRwYW5lbCA9ICR0aGlzLmNsb3Nlc3QoXCIud3BvaS1jb25kaXRpb24taXRlbVwiKSxcclxuICAgICAgICAgICAgJHNlY3Rpb24gPSAkcGFuZWwuZmluZCggXCJzZWN0aW9uXCIpLFxyXG4gICAgICAgICAgICAkaWNvbiA9ICRwYW5lbC5maW5kKFwiLmRhc2hpY29ucy1iZWZvcmVcIik7XHJcblxyXG4gICAgICAgICRzZWN0aW9uLnNsaWRlVG9nZ2xlKDMwMCwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgJGljb24udG9nZ2xlQ2xhc3MoXCJ3cG9pLWFycm93LXVwIHdwb2ktYXJyb3ctZG93blwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbn0oIGpRdWVyeSApKTtcclxuIiwiT3B0aW4uTSA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XHJcbiAgICB0b0pTT046IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgIHZhciBqc29uID0gXy5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpO1xyXG4gICAgICAgIGZvcih2YXIgYXR0ciBpbiBqc29uKSB7XHJcbiAgICAgICAgICAgIGlmKChqc29uW2F0dHJdIGluc3RhbmNlb2YgQmFja2JvbmUuTW9kZWwpIHx8IChqc29uW2F0dHJdIGluc3RhbmNlb2YgQmFja2JvbmUuQ29sbGVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIGpzb25bYXR0cl0gPSBqc29uW2F0dHJdLnRvSlNPTigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgfSxcclxuICAgIHNldDogZnVuY3Rpb24oa2V5LCB2YWwsIG9wdGlvbnMpe1xyXG5cclxuICAgICAgICBpZiggdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiAmJiAga2V5LmluZGV4T2YoXCIuXCIpICE9PSAtMSApe1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0ga2V5LnNwbGl0KFwiLlwiKVswXSxcclxuICAgICAgICAgICAgICAgIGNoaWxkID0ga2V5LnNwbGl0KFwiLlwiKVsxXSxcclxuICAgICAgICAgICAgICAgIHBhcmVudF9tb2RlbCA9IHRoaXMuZ2V0KHBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICBpZiggcGFyZW50X21vZGVsICYmIHBhcmVudF9tb2RlbCBpbnN0YW5jZW9mIEJhY2tib25lLk1vZGVsICl7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRfbW9kZWwuc2V0KGNoaWxkLCB2YWwsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiY2hhbmdlOlwiICsga2V5LCBrZXksIHZhbCwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIEJhY2tib25lLk1vZGVsLnByb3RvdHlwZS5zZXQuY2FsbCh0aGlzLCBrZXksIHZhbCwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGdldDogZnVuY3Rpb24oa2V5KXtcclxuICAgICAgICBpZiggdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiAmJiAga2V5LmluZGV4T2YoXCIuXCIpICE9PSAtMSApe1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0ga2V5LnNwbGl0KFwiLlwiKVswXSxcclxuICAgICAgICAgICAgICAgIGNoaWxkID0ga2V5LnNwbGl0KFwiLlwiKVsxXTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHBhcmVudCkuZ2V0KGNoaWxkKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIEJhY2tib25lLk1vZGVsLnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG5PcHRpbi5Nb2RlbCAgPSBPcHRpbi5NLmV4dGVuZCh7XHJcbiAgICBkZWZhdWx0czoge1xyXG4gICAgICAgIG9wdGluX25hbWU6IG9wdGluX3ZhcnMubWVzc2FnZXMubW9kZWwuZGVmYXVsdHMub3B0aW5fbmFtZSxcclxuICAgICAgICBvcHRpbl90aXRsZTogb3B0aW5fdmFycy5tZXNzYWdlcy5tb2RlbC5kZWZhdWx0cy5vcHRpbl90aXRsZSxcclxuICAgICAgICBvcHRpbl9tZXNzYWdlOiBvcHRpbl92YXJzLm1lc3NhZ2VzLm1vZGVsLmRlZmF1bHRzLm9wdGluX21lc3NhZ2UsXHJcbiAgICAgICAgb3B0aW5fcHJvdmlkZXI6IFwiXCIsXHJcbiAgICAgICAgYXBpX2tleTogXCJcIixcclxuICAgICAgICBtYWlsX2xpc3Q6IFwiXCIsXHJcbiAgICAgICAgYWN0aXZlOiAxLFxyXG4gICAgICAgIHRlc3RfbW9kZTogMFxyXG4gICAgfSxcclxuXHJcbiAgICB2YWxpZGF0ZV9maXJzdF9zdGVwOiBmdW5jdGlvbiAoYXR0cnMpIHtcclxuICAgICAgICB2YXIgZXJyb3JzID0gW107XHJcblxyXG4gICAgICAgIGF0dHJzID0gYXR0cnMgfHwgdGhpcy5hdHRyaWJ1dGVzO1xyXG5cclxuICAgICAgICBpZiAoICFhdHRycy5vcHRpbl9uYW1lIHx8IGF0dHJzLm9wdGluX25hbWUuaXNFbXB0eSgpICkge1xyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7bmFtZTogJ25hbWUnLCBtZXNzYWdlOiBvcHRpbl92YXJzLm1lc3NhZ2VzLm1vZGVsLmVycm9ycy5uYW1lIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBhdHRycy50ZXN0X21vZGUgIT0gMSApIHtcclxuICAgICAgICAgICAgaWYgKCAhYXR0cnMub3B0aW5fcHJvdmlkZXIgfHwgYXR0cnMub3B0aW5fcHJvdmlkZXIuaXNFbXB0eSgpICkge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe25hbWU6ICdwcm92aWRlcicsIG1lc3NhZ2U6IG9wdGluX3ZhcnMubWVzc2FnZXMubW9kZWwuZXJyb3JzLnByb3ZpZGVyIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoICFhdHRycy5hcGlfa2V5IHx8IGF0dHJzLmFwaV9rZXkuaXNFbXB0eSgpICkge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe25hbWU6ICdhcGlfa2V5JywgbWVzc2FnZTogb3B0aW5fdmFycy5tZXNzYWdlcy5tb2RlbC5lcnJvcnMuYXBpX2tleSAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICggIWF0dHJzLm9wdGluX21haWxfbGlzdCB8fCBhdHRycy5vcHRpbl9tYWlsX2xpc3QuaXNFbXB0eSgpICkge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goe25hbWU6ICdtYWlsX2xpc3QnLCBtZXNzYWdlOiBvcHRpbl92YXJzLm1lc3NhZ2VzLm1vZGVsLmVycm9ycy5tYWlsX2xpc3QgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXyggZXJyb3JzICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuT3B0aW4uTW9kZWxzLkNvbG9yX1BhbGV0dGUgPSBPcHRpbi5NLmV4dGVuZCh7XHJcbiAgICBkZWZhdWx0czp7XHJcbiAgICAgICAgX2lkOiAnJyxcclxuICAgICAgICBsYWJlbDogJycsXHJcbiAgICAgICAgbWFpbl9iYWNrZ3JvdW5kOiAnJyxcclxuICAgICAgICBmb3JtX2JhY2tncm91bmQ6ICcnLFxyXG4gICAgICAgIGJ1dHRvbl9iYWNrZ3JvdW5kOiAnJyxcclxuICAgICAgICBidXR0b25fbGFiZWxfY29sb3I6ICcnLFxyXG4gICAgICAgIHRpdGxlX2NvbG9yOiAnJyxcclxuICAgICAgICBjb250ZW50X2NvbG9yOiAnJyxcclxuICAgICAgICBmaWVsZHNfYmFja2dyb3VuZDogJycsXHJcbiAgICAgICAgZmllbGRzX2NvbG9yOiAnJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcbk9wdGluLk1vZGVscy5Db2xvcl9QYWxldHRlX0NvbGxlY3Rpb24gPSBCYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7XHJcbiAgICBtb2RlbDogT3B0aW4uTW9kZWxzLkNvbG9yX1BhbGV0dGVcclxufSk7XHJcblxyXG52YXIgUGFsZXR0ZXMgPSBuZXcgT3B0aW4uTW9kZWxzLkNvbG9yX1BhbGV0dGVfQ29sbGVjdGlvbigpO1xyXG5cclxuXy5lYWNoKG9wdGluX3ZhcnMucGFsZXR0ZXMsIGZ1bmN0aW9uKGl0ZW0sIGluZGV4KXtcclxuICAgIGl0ZW0uX2lkID0gaW5kZXgucmVwbGFjZShuZXcgUmVnRXhwKFwiIFwiLCAnZycpLCBcIl9cIikudG9Mb3dlckNhc2UoKTtcclxuICAgIGl0ZW0ubGFiZWwgPSBpbmRleDtcclxuICAgIHZhciBtID0gbmV3IE9wdGluLk1vZGVscy5Db2xvcl9QYWxldHRlKGl0ZW0pO1xyXG4gICAgUGFsZXR0ZXMuYWRkKG0pO1xyXG59KTtcclxuXHJcbk9wdGluLk1vZGVscy5Db2xvcnNfTW9kZWwgPSBPcHRpbi5NLmV4dGVuZCh7XHJcbiAgICBkZWZhdWx0czogXy5leHRlbmQoe1xyXG4gICAgICAgIGN1c3RvbWl6ZTogZmFsc2UsXHJcbiAgICAgICAgcGFsZXR0ZTogUGFsZXR0ZXMuYXQoMCkuZ2V0KFwiX2lkXCIpLFxyXG4gICAgICAgIG1haW5fYmFja2dyb3VuZDogJycsXHJcbiAgICAgICAgZm9ybV9iYWNrZ3JvdW5kOiAnJyxcclxuICAgICAgICBidXR0b25fYmFja2dyb3VuZDogJycsXHJcbiAgICAgICAgYnV0dG9uX2xhYmVsOiAnJyxcclxuICAgICAgICB0aXRsZV9jb2xvcjogJycsXHJcbiAgICAgICAgY29udGVudF9jb2xvcjogJycsXHJcbiAgICAgICAgZmllbGRzX2JhY2tncm91bmQ6ICcnLFxyXG4gICAgICAgIGZpZWxkc19jb2xvcjogJydcclxuICAgIH0sIFBhbGV0dGVzLmF0KDApLnRvSlNPTigpKVxyXG59KTtcclxuXHJcblxyXG5cclxuT3B0aW4uTW9kZWxzLkJvcmRlcnNfTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xyXG4gICAgZGVmYXVsdHM6e1xyXG4gICAgICAgIHJvdW5kZWRfY29ybmVyczogdHJ1ZSxcclxuICAgICAgICBjb3JuZXJzX3JhZGl1czogMCxcclxuICAgICAgICBmaWVsZHNfY29ybmVyc19yYWRpdXM6IDAsXHJcbiAgICAgICAgYnV0dG9uX2Nvcm5lcnNfcmFkaXVzOiAwLFxyXG4gICAgICAgIGRyb3Bfc2hhZG93OiBmYWxzZSxcclxuICAgICAgICBkcm9wc2hhZG93X3ZhbHVlOiAwLFxyXG4gICAgICAgIHNoYWRvd19jb2xvcjogJyMwMDAnLFxyXG4gICAgICAgIGZpZWxkc19zdHlsZTogJ2pvaW5lZCcsIC8vIGFsdGVybmF0aXZlIGNhbiBiZSBzZXBhcmF0ZWRcclxuICAgICAgICByb3VuZGVkX2Zvcm1fZmllbGRzOiB0cnVlLFxyXG4gICAgICAgIHJvdW5kZWRfZm9ybV9idXR0b246IHRydWVcclxuICAgIH1cclxufSk7XHJcblxyXG5PcHRpbi5Nb2RlbHMuRGVzaWduX01vZGVsID0gT3B0aW4uTS5leHRlbmQoe1xyXG5cclxuICAgIGRlZmF1bHRzOntcclxuICAgICAgICBzdWNjZXNzX21lc3NhZ2U6IG9wdGluX3ZhcnMubWVzc2FnZXMubW9kZWwuZGVmYXVsdHMuc3VjY2Vzc19tZXNzYWdlLFxyXG4gICAgICAgIGZvcm1fbG9jYXRpb246IDAsXHJcbiAgICAgICAgZWxlbWVudHM6IFsnaW1hZ2UnXSxcclxuICAgICAgICBpbWFnZV9sb2NhdGlvbjogXCJsZWZ0XCIsXHJcbiAgICAgICAgaW1hZ2Vfc3R5bGU6IFwiY292ZXJcIixcclxuICAgICAgICBpbWFnZV9zcmM6IG9wdGluX3ZhcnMucHJldmlld19pbWFnZSxcclxuICAgICAgICBjb2xvcnM6IG5ldyBPcHRpbi5Nb2RlbHMuQ29sb3JzX01vZGVsKCksXHJcbiAgICAgICAgYm9yZGVyczogbmV3IE9wdGluLk1vZGVscy5Cb3JkZXJzX01vZGVsKCksXHJcbiAgICAgICAgb3BlbmluZ19hbmltYXRpb246IFwiXCIsXHJcbiAgICAgICAgY2xvc2luZ19hbmltYXRpb246IFwiXCIsXHJcbiAgICAgICAgY3NzOiBcIlwiLFxyXG4gICAgICAgIGlucHV0X2ljb25zOiBcImFuaW1hdGVkX2ljb25cIiAvLyBwb3NzaWJsZSB2YWx1ZXMgbm9faWNvbnxub25lX2FuaW1hdGVkX2ljb258YW5pbWF0ZWRfaWNvblxyXG4gICAgfSxcclxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIF8uZXh0ZW5kKCB0aGlzLCBkYXRhICk7XHJcbiAgICAgICAgaWYoICEgKCB0aGlzLmdldCgnY29sb3JzJykgaW5zdGFuY2VvZiBCYWNrYm9uZS5Nb2RlbCApICl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KCAnY29sb3JzJywgbmV3IE9wdGluLk1vZGVscy5Db2xvcnNfTW9kZWwoIHRoaXMuY29sb3JzICkgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCAhICggdGhpcy5nZXQoJ2JvcmRlcnMnKSBpbnN0YW5jZW9mIEJhY2tib25lLk1vZGVsICkgKXtcclxuICAgICAgICAgICAgdGhpcy5zZXQoICdib3JkZXJzJywgbmV3IE9wdGluLk1vZGVscy5Cb3JkZXJzX01vZGVsKCB0aGlzLmJvcmRlcnMgKSApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuT3B0aW4uTW9kZWxzLlNldHRpbmdzX0FmdGVyX0NvbnRlbnQgPSBPcHRpbi5NLmV4dGVuZCh7XHJcbiAgICBkZWZhdWx0czp7XHJcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcblxyXG4gICAgICAgIHNob3dfb25fYWxsX3Bvc3RzOiB0cnVlLFxyXG4gICAgICAgIGV4Y2x1ZGVkX3Bvc3RzOiBbXSxcclxuICAgICAgICBzZWxlY3RlZF9wb3N0czogW10sXHJcbiAgICAgICAgc2hvd19vbl9hbGxfcGFnZXM6IHRydWUsXHJcbiAgICAgICAgZXhjbHVkZWRfcGFnZXM6IFtdLFxyXG4gICAgICAgIHNlbGVjdGVkX3BhZ2VzOiBbXSxcclxuXHJcbiAgICAgICAgc2hvd19vbl9hbGxfY2F0czogdHJ1ZSxcclxuICAgICAgICBzaG93X29uX3RoZXNlX2NhdHM6IFtdLFxyXG4gICAgICAgIHNob3dfb25fYWxsX3RhZ3M6IHRydWUsXHJcbiAgICAgICAgc2hvd19vbl90aGVzZV90YWdzOiBbXSxcclxuXHJcbiAgICAgICAgYW5pbWF0ZTogZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0aW9uOiBcIlwiXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbk9wdGluLk1vZGVscy5TZXR0aW5nc19Qb3B1cF9Nb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XHJcbiAgICBkZWZhdWx0czp7XHJcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0aW9uX2luOiBcIlwiLFxyXG4gICAgICAgIGFuaW1hdGlvbl9vdXQ6IFwiXCIsXHJcbiAgICAgICAgYXBwZWFyX2FmdGVyOiBcInRpbWVcIiwgLy8gc2Nyb2xsZWQgfCB0aW1lIHwgY2xpY2sgfCBleGl0X2ludGVudCB8IGFkYmxvY2tcclxuICAgICAgICBhcHBlYXJfYWZ0ZXJfc2Nyb2xsOiBcInNjcm9sbGVkXCIsIC8vIHNjcm9sbGVkIHwgc2VsZWN0b3JcclxuICAgICAgICBhcHBlYXJfYWZ0ZXJfdGltZV92YWw6IDUsXHJcbiAgICAgICAgYXBwZWFyX2FmdGVyX3RpbWVfdW5pdDogXCJzZWNvbmRzXCIsXHJcbiAgICAgICAgYXBwZWFyX2FmdGVyX3BhZ2VfcG9ydGlvbl92YWw6IDIwLFxyXG4gICAgICAgIGFwcGVhcl9hZnRlcl9wYWdlX3BvcnRpb25fdW5pdDogXCIlXCIsXHJcbiAgICAgICAgYXBwZWFyX2FmdGVyX2VsZW1lbnRfdmFsOlwiXCIsXHJcbiAgICAgICAgYWRkX25ldmVyX3NlZV90aGlzX21lc3NhZ2U6IGZhbHNlLFxyXG4gICAgICAgIGNsb3NlX2J1dHRvbl9hY3RzX2FzX25ldmVyX3NlZV9hZ2FpbjogZmFsc2UsXHJcbiAgICAgICAgbmV2ZXJfc2VlX2V4cGlyeTogMixcclxuXHJcbiAgICAgICAgc2hvd19vbl9hbGxfcG9zdHM6IHRydWUsXHJcbiAgICAgICAgZXhjbHVkZWRfcG9zdHM6IFtdLFxyXG4gICAgICAgIHNlbGVjdGVkX3Bvc3RzOiBbXSxcclxuICAgICAgICBzaG93X29uX2FsbF9wYWdlczogdHJ1ZSxcclxuICAgICAgICBleGNsdWRlZF9wYWdlczogW10sXHJcbiAgICAgICAgc2VsZWN0ZWRfcGFnZXM6IFtdLFxyXG5cclxuICAgICAgICBzaG93X29uX2FsbF9jYXRzOiB0cnVlLFxyXG4gICAgICAgIHNob3dfb25fdGhlc2VfY2F0czogW10sXHJcbiAgICAgICAgc2hvd19vbl9hbGxfdGFnczogdHJ1ZSxcclxuICAgICAgICBzaG93X29uX3RoZXNlX3RhZ3M6IFtdLFxyXG5cclxuICAgICAgICBjb25kaXRpb25zOiB7fSxcclxuXHJcbiAgICAgICAgdHJpZ2dlcl9vbl90aW1lOiBcImltbWVkaWF0ZWx5XCIsIC8vIGltbWVkaWF0ZWx5fHRpbWVcclxuICAgICAgICB0cmlnZ2VyX29uX2VsZW1lbnRfY2xpY2s6XCJcIixcclxuICAgICAgICB0cmlnZ2VyX29uX2V4aXQ6IGZhbHNlLFxyXG4gICAgICAgIHRyaWdnZXJfb25fYWRibG9jazogZmFsc2UsXHJcbiAgICAgICAgdHJpZ2dlcl9vbl9hZGJsb2NrX3RpbWVkOiBmYWxzZSxcclxuICAgICAgICB0cmlnZ2VyX29uX2FkYmxvY2tfdGltZWRfdmFsOiAxODAsXHJcbiAgICAgICAgdHJpZ2dlcl9vbl9hZGJsb2NrX3RpbWVkX3VuaXQ6IFwic2Vjb25kc1wiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuT3B0aW4uTW9kZWxzLlNldHRpbmdzX1NsaWRlX0luX01vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHtcclxuICAgIGRlZmF1bHRzOntcclxuICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICBhcHBlYXJfYWZ0ZXI6IFwidGltZVwiLCAvLyBzY3JvbGxlZCB8IHRpbWUgfCBjbGljayB8IGV4aXRfaW50ZW50IHwgYWRibG9ja1xyXG4gICAgICAgIGFwcGVhcl9hZnRlcl9zY3JvbGw6IFwic2Nyb2xsZWRcIiwgLy8gc2Nyb2xsZWQgfCBzZWxlY3RvclxyXG4gICAgICAgIGFwcGVhcl9hZnRlcl90aW1lX3ZhbDogNSxcclxuICAgICAgICBhcHBlYXJfYWZ0ZXJfdGltZV91bml0OiBcInNlY29uZHNcIixcclxuICAgICAgICBhcHBlYXJfYWZ0ZXJfcGFnZV9wb3J0aW9uX3ZhbDogMzAsXHJcbiAgICAgICAgYXBwZWFyX2FmdGVyX3BhZ2VfcG9ydGlvbl91bml0OiBcIiVcIixcclxuICAgICAgICBhcHBlYXJfYWZ0ZXJfZWxlbWVudF92YWw6XCJcIixcclxuICAgICAgICBoaWRlX2FmdGVyOiB0cnVlLFxyXG4gICAgICAgIGhpZGVfYWZ0ZXJfdmFsOiAxMCxcclxuICAgICAgICBoaWRlX2FmdGVyX3VuaXQ6IFwic2Vjb25kc1wiLFxyXG4gICAgICAgIHBvc2l0aW9uOiBcImJvdHRvbV9jZW50ZXJcIixcclxuICAgICAgICBhZnRlcl9jbG9zZTogXCJrZWVwX3Nob3dpbmdcIixcclxuXHJcbiAgICAgICAgc2hvd19vbl9hbGxfcG9zdHM6IHRydWUsXHJcbiAgICAgICAgZXhjbHVkZWRfcG9zdHM6IFtdLFxyXG4gICAgICAgIHNlbGVjdGVkX3Bvc3RzOiBbXSxcclxuICAgICAgICBzaG93X29uX2FsbF9wYWdlczogdHJ1ZSxcclxuICAgICAgICBleGNsdWRlZF9wYWdlczogW10sXHJcbiAgICAgICAgc2VsZWN0ZWRfcGFnZXM6IFtdLFxyXG5cclxuICAgICAgICBzaG93X29uX2FsbF9jYXRzOiB0cnVlLFxyXG4gICAgICAgIHNob3dfb25fdGhlc2VfY2F0czogW10sXHJcbiAgICAgICAgc2hvd19vbl9hbGxfdGFnczogdHJ1ZSxcclxuICAgICAgICBzaG93X29uX3RoZXNlX3RhZ3M6IFtdLFxyXG5cclxuICAgICAgICBjb25kaXRpb25zOiB7fSxcclxuXHJcbiAgICAgICAgdHJpZ2dlcl9vbl90aW1lOiBcImltbWVkaWF0ZWx5XCIsIC8vIGltbWVkaWF0ZWx5fHRpbWVcclxuICAgICAgICB0cmlnZ2VyX29uX2VsZW1lbnRfY2xpY2s6XCJcIixcclxuICAgICAgICB0cmlnZ2VyX29uX2V4aXQ6IGZhbHNlLFxyXG4gICAgICAgIHRyaWdnZXJfb25fYWRibG9jazogZmFsc2UsXHJcbiAgICAgICAgdHJpZ2dlcl9vbl9hZGJsb2NrX3RpbWVkOiBmYWxzZSxcclxuICAgICAgICB0cmlnZ2VyX29uX2FkYmxvY2tfdGltZWRfdmFsOiAxODAsXHJcbiAgICAgICAgdHJpZ2dlcl9vbl9hZGJsb2NrX3RpbWVkX3VuaXQ6IFwic2Vjb25kc1wiXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbk9wdGluLk1vZGVscy5TZXR0aW5nc19Nb2RlbCA9IE9wdGluLk0uZXh0ZW5kKHtcclxuICAgIGRlZmF1bHRzOntcclxuICAgICAgICBzaG9ydGNvZGVfaWQ6IFwiXCIsXHJcblxyXG4gICAgICAgIC8vIFRoaXMgd2lsbCBubyBsb25nZXIgbmVlZGVkIGFzIGFsbCBpbmRpdmlkdWFsIG9wdGluIHR5cGVzIHdpbGwgaGF2ZSBpdHMgb3duIGRpc3BsYXkgc2V0dGluZ3NcclxuICAgICAgICAvL3Nob3dfb25fYWxsX2NhdHM6IHRydWUsXHJcbiAgICAgICAgLy9zaG93X29uX3RoZXNlX2NhdHM6IFtdLFxyXG4gICAgICAgIC8vc2hvd19vbl9hbGxfdGFnczogdHJ1ZSxcclxuICAgICAgICAvL3Nob3dfb25fdGhlc2VfdGFnczogW10sXHJcblxyXG4gICAgICAgIGFmdGVyX2NvbnRlbnQ6IG5ldyBPcHRpbi5Nb2RlbHMuU2V0dGluZ3NfQWZ0ZXJfQ29udGVudCgpLFxyXG4gICAgICAgIHBvcHVwOiBuZXcgT3B0aW4uTW9kZWxzLlNldHRpbmdzX1BvcHVwX01vZGVsKCksXHJcbiAgICAgICAgc2xpZGVfaW46IG5ldyBPcHRpbi5Nb2RlbHMuU2V0dGluZ3NfU2xpZGVfSW5fTW9kZWwoKVxyXG4gICAgfSxcclxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCBkYXRhICl7XHJcbiAgICAgICAgXy5leHRlbmQoIHRoaXMsIGRhdGEgKTtcclxuICAgICAgICBpZiggISAoIHRoaXMuZ2V0KCdhZnRlcl9jb250ZW50JykgaW5zdGFuY2VvZiBCYWNrYm9uZS5Nb2RlbCApICl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KCAnYWZ0ZXJfY29udGVudCcsIG5ldyBPcHRpbi5Nb2RlbHMuU2V0dGluZ3NfQWZ0ZXJfQ29udGVudCggdGhpcy5hZnRlcl9jb250ZW50ICkgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCAhICggdGhpcy5nZXQoJ3BvcHVwJykgaW5zdGFuY2VvZiBCYWNrYm9uZS5Nb2RlbCApICl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KCAncG9wdXAnLCBuZXcgT3B0aW4uTW9kZWxzLlNldHRpbmdzX1BvcHVwX01vZGVsKCB0aGlzLnBvcHVwICkgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCAhICggdGhpcy5nZXQoJ3NsaWRlX2luJykgaW5zdGFuY2VvZiBCYWNrYm9uZS5Nb2RlbCApICl7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KCAnc2xpZGVfaW4nLCBuZXcgT3B0aW4uTW9kZWxzLlNldHRpbmdzX1NsaWRlX0luX01vZGVsKCB0aGlzLnNsaWRlX2luICkgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuIiwiKGZ1bmN0aW9uKCAkICkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICAvKipcclxuICAgICAqIFNldCBvcHRpbiBpZCBmcm9tIHRoZSBodG1sIHRlbXBsYXRlXHJcbiAgICAgKi9cclxuXHJcbiAgICBPcHRpbi5nZXRfdHBsID0gZnVuY3Rpb24oIGxheW91dF9pZCApe1xyXG4gICAgICAgIHZhciB0ZW1wbGF0ZXMgPSBbXCJvcHRpbi1sYXlvdXQtb25lXCIsIFwib3B0aW4tbGF5b3V0LXR3b1wiLCBcIm9wdGluLWxheW91dC10aHJlZVwiLCBcIm9wdGluLWxheW91dC1mb3VyXCJdO1xyXG5cclxuICAgICAgICByZXR1cm4gT3B0aW4udGVtcGxhdGUoIHRlbXBsYXRlc1sgbGF5b3V0X2lkIF0gKTtcclxuICAgIH07XHJcblxyXG4gICAgT3B0aW4uVmlldy5BbGVydCA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcclxuICAgICAgICB0ZW1wbGF0ZTogT3B0aW4udGVtcGxhdGUoXCJvcHRpbi1hbGVydC1tb2RhbFwiKSxcclxuICAgICAgICAvL2VsOiBcIi5pbmMtb3B0LWFsZXJ0LW1vZGFsXCIsXHJcbiAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgIFwiY2xpY2sgLmluYy1vcHQtYWxlcnQtbW9kYWwtY2xvc2VcIjogXCJjbG9zZVwiLFxyXG4gICAgICAgICAgICBcImNsaWNrIC5pbmMtb3B0LWFsZXJ0LW1vZGFsXCI6IFwiY2xvc2VcIixcclxuICAgICAgICAgICAgXCJjbGljayAuaW5jLW9wdC1hbGVydC1tb2RhbC1jbG9zZS1idG5cIjogXCJjbG9zZVwiLFxyXG4gICAgICAgICAgICBcImNsaWNrIC5pbmMtb3B0LWFsZXJ0LW1vZGFsLWlubmVyLWNvbnRhaW5lclwiOiBcInByZXZlbnRfY2xvc2VcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucyl7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKCB0aGlzLnRlbXBsYXRlKF8uZXh0ZW5kKHtcclxuICAgICAgICAgICAgICAgIGNsb3NlX3RleHQ6IG9wdGluX3ZhcnMubWVzc2FnZXMub2tcclxuICAgICAgICAgICAgfSwgdGhpcy5vcHRpb25zKSApICk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmFwcGVuZFRvKFwiYm9keVwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdGhpcy4kZWwuaGlkZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJldmVudF9jbG9zZTogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFB1cmUgb2JqZWN0IHRvIHN0b3JlIGVhY2ggc3RlcCdzIHRlbXBsYXRlXHJcbiAgICAgKiBAdHlwZSB7e318Kn1cclxuICAgICAqL1xyXG4gICAgT3B0aW4uc3RlcCA9IE9wdGluLnN0ZXAgfHwge307XHJcblxyXG4gICAgT3B0aW4uc3RlcC5hY3RpdmF0ZV9zdGVwID0gZnVuY3Rpb24oc3RlcCl7XHJcblxyXG4gICAgICAgICQoXCIud3BvaS10YWJzLW1lbnUgbGlcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgJChcIi53cG9pLXRhYnMtbWVudSBsaVwiKS5yZW1vdmVDbGFzcyhcImJlZm9yZVwiKTtcclxuICAgICAgICAkKFwiLndwb2ktdGFicy1tZW51IGxpXCIpLmVxKHN0ZXApLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICQoXCIud3BvaS10YWJzLW1lbnUgbGlcIikuc2xpY2UoMCwgc3RlcCkuYWRkQ2xhc3MoIFwiYmVmb3JlXCIgKTtcclxuICAgICAgICAvLyQoXCIud3BvaS1mbGV4Ym94IGxpXCIpLmVxKHN0ZXApLmZpbmQoXCJidXR0b25cIikuYWRkQ2xhc3MoXCJ3cG9pLWN1cnJlbnQtc3RlcFwiKTtcclxuXHJcbiAgICAgICAgJChcIi53cG9pLXRhYnMtd3JhcCA+IGRpdlwiKS5oaWRlKCk7XHJcbiAgICAgICAgJChcIi53cG9pLXRhYnMtd3JhcCA+IGRpdlwiKS5lcShzdGVwKS5zaG93KCk7XHJcblxyXG4gICAgICAgIE9wdGluLnN0ZXAuY3VycmVudCA9IHN0ZXA7XHJcblxyXG4gICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW5fdmFycy5tZXNzYWdlcy5kb250X25hdmlnYXRlX2F3YXk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgT3B0aW4uc3RlcC5nZXRfY3VycmVudF9zdGVwID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoIE9wdGluLnN0ZXAuY3VycmVudCB8fCAwLCAxMCApO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgT3B0aW4uc3RlcC5nZXRfY3VycmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KCBPcHRpbi5zdGVwLmN1cnJlbnQgfHwgMCwgMTAgKTtcclxuICAgIH07XHJcblxyXG4gICAgT3B0aW4uc3RlcC5nZXRfY3VycmVudF9zdGVwID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBzd2l0Y2ggKCB0aGlzLmdldF9jdXJyZW50ICl7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPcHRpbi5zdGVwLnNlcnZpY2VzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBPcHRpbi5zdGVwLmRlc2lnbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT3B0aW4uc3RlcC5kaXNwbGF5O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG59KSggalF1ZXJ5ICk7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbihmdW5jdGlvbihkb2MsICQpe1xyXG5cclxuICAgIE9wdGluLk1peGlucy5hZGRfc2VydmljZXNfbWl4aW4oXCJtYWlsY2hpbXBcIiwgZnVuY3Rpb24oIHNlcnZpY2VfdGFiX3ZpZXcgKXtcclxuICAgICAgICB2YXIgdGFiID0gc2VydmljZV90YWJfdmlldyxcclxuICAgICAgICAgICAgJGZvcm0gPSB0YWIuJChcIiNodXN0bGVfc2VydmljZV9kZXRhaWxzX2Zvcm1cIiksXHJcbiAgICAgICAgICAgICRwcmV2X2FyZ3MgPSAkKFwiI3dwb2ktbWFpbGNoaW1wLXByZXYtZ3JvdXAtYXJnc1wiKSxcclxuICAgICAgICAgICAgJF9wcmV2aWV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgbGlzdCBncm91cHMgb24gbGlzdCBjaGFuZ2VcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciB1cGRhdGVfbGlzdF9ncm91cHMgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICAkd3JhcHBlciA9ICQoJy53cG9pLWxpc3QtZ3JvdXBzJyksXHJcbiAgICAgICAgICAgICAgICAkaW50ZXJlc3RzX3dyYXBwZXIgPSAkKFwiLndwb2ktbGlzdC1ncm91cC1pbnRlcmVzdHMtd3JhcFwiKSxcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBfLnJlZHVjZSggJGZvcm0uc2VyaWFsaXplQXJyYXkoKSwgZnVuY3Rpb24ob2JqLCBpdGVtKXtcclxuICAgICAgICAgICAgICAgICAgICBvYmpbIGl0ZW1bJ25hbWUnXSBdID0gaXRlbVsndmFsdWUnXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICAgICAgfSwge30pO1xyXG5cclxuICAgICAgICAgICAgZGF0YS5hY3Rpb24gPSAnaHVzdGxlX21haWxjaGltcF9nZXRfbGlzdF9ncm91cHMnO1xyXG5cclxuICAgICAgICAgICAgZGF0YS5fYWpheF9ub25jZSA9ICR0aGlzLmRhdGEoXCJub25jZVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vY2xlYXIgcHJvdmlkZXIgbW9kZWxcclxuICAgICAgICAgICAgT3B0aW4uc3RlcC5zZXJ2aWNlcy5wcm92aWRlcl9hcmdzLmNsZWFyKHtzaWxlbnQ6IHRydWV9KTtcclxuICAgICAgICAgICAgJGludGVyZXN0c193cmFwcGVyLmVtcHR5KCk7XHJcbiAgICAgICAgICAgICRwcmV2X2FyZ3MuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgICAgICQuZ2V0KCBhamF4dXJsLCBkYXRhKVxyXG4gICAgICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiggcmVzICYmIHJlcy5zdWNjZXNzICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3cmFwcGVyLmh0bWwoIHJlcy5kYXRhICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkd3JhcHBlci5maW5kKFwic2VsZWN0XCIpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdEUC53cG11U2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCByZXMgJiYgIXJlcy5zdWNjZXNzIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdyYXBwZXIuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZXMgZ3JvdXAgaW50ZXJlc3RzIG9uIGdyb3VwIGNoYW5nZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHVwZGF0ZV9ncm91cF9pbnRlcmVzdHMgPSBmdW5jdGlvbihlKXtcclxuXHJcbiAgICAgICAgICAgIHZhciAkd3JhcHBlciA9ICQoXCIud3BvaS1saXN0LWdyb3VwLWludGVyZXN0cy13cmFwXCIpLFxyXG4gICAgICAgICAgICAgICAgJHRoaXMgPSAkKGUudGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBfLnJlZHVjZSggJGZvcm0uc2VyaWFsaXplQXJyYXkoKSwgZnVuY3Rpb24ob2JqLCBpdGVtKXtcclxuICAgICAgICAgICAgICAgICAgICBvYmpbIGl0ZW1bJ25hbWUnXSBdID0gaXRlbVsndmFsdWUnXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICAgICAgfSwge30pO1xyXG5cclxuICAgICAgICAgICAgaWYoIFtcIi0xXCIsIFwiMFwiXS5pbmRleE9mKGUudGFyZ2V0LnZhbHVlKSAhPT0gLTEgKXsgLy8gcmV0dXJuIGlmIHNlbGVjdGlvbiBpcyBub3QgbWVhbmluZ2Z1bFxyXG4gICAgICAgICAgICAgICAgJHdyYXBwZXIuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0YS5fYWpheF9ub25jZSA9ICR0aGlzLmRhdGEoXCJub25jZVwiKTtcclxuICAgICAgICAgICAgZGF0YS5hY3Rpb24gPSAnaHVzdGxlX21haWxjaGltcF9nZXRfZ3JvdXBfaW50ZXJlc3RzJztcclxuXHJcbiAgICAgICAgICAgICQuZ2V0KCBhamF4dXJsLCBkYXRhIClcclxuICAgICAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIHJlcyAmJiByZXMuc3VjY2VzcyApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdyYXBwZXIuaHRtbCggcmVzLmRhdGEuaHRtbCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW4uc3RlcC5zZXJ2aWNlcy5wcm92aWRlcl9hcmdzLnNldCggXCJncm91cFwiLCByZXMuZGF0YS5ncm91cCApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHdyYXBwZXIuZmluZChcInNlbGVjdFwiKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXRFAud3BtdVNlbGVjdCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICogU2VsZWN0IGFsbCBpbnRlcmVzdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggcmVzLmRhdGEuZ3JvdXAgJiYgcmVzLmRhdGEuZ3JvdXAuZ3JvdXBzICYmIF8uaXNBcnJheSggcmVzLmRhdGEuZ3JvdXAuZ3JvdXBzICkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXAgPSBPcHRpbi5zdGVwLnNlcnZpY2VzLnByb3ZpZGVyX2FyZ3MuZ2V0KFwiZ3JvdXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggcmVzICYmICFyZXMuc3VjY2VzcyApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR3cmFwcGVyLmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24ocmVzKXtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgdXBkYXRlX3NlbGVjdGVkX2dyb3VwX2ludGVyZXN0cyA9IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKGUudGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgIHZhbDtcclxuXHJcbiAgICAgICAgICAgIGlmKCAkdGhpcy5pcyhcIjpyYWRpb1wiKSB8fCAkdGhpcy5pcyhcInNlbGVjdFwiKSApXHJcbiAgICAgICAgICAgICAgICB2YWwgPSAkdGhpcy52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCAkdGhpcy5pcyhcIjpjaGVja2JveFwiKSApe1xyXG4gICAgICAgICAgICAgICAgdmFsID0gW107XHJcbiAgICAgICAgICAgICAgICAkKCBcIltuYW1lPSdcIiArIGUudGFyZ2V0Lm5hbWUgKyBcIidcIiApLmZpbHRlciggXCI6Y2hlY2tlZFwiICkuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICB2YWwucHVzaCggdGhpcy52YWx1ZSApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBPcHRpbi5zdGVwLnNlcnZpY2VzLnByb3ZpZGVyX2FyZ3Muc2V0KCBcImdyb3VwXCIsIF8uZXh0ZW5kKCB7fSwgT3B0aW4uc3RlcC5zZXJ2aWNlcy5wcm92aWRlcl9hcmdzLmdldChcImdyb3VwXCIpLCB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogdmFsXHJcbiAgICAgICAgICAgIH0pICk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciByZW5kZXJfaW5fcHJldmlldyA9IGZ1bmN0aW9uKCRwcmV2aWV3KXtcclxuICAgICAgICAgICAgJF9wcmV2aWV3ID0gJHByZXZpZXc7XHJcbiAgICAgICAgICAgIGlmKCAhT3B0aW4uc3RlcC5zZXJ2aWNlcy5wcm92aWRlcl9hcmdzLmlzRW1wdHkoKSAmJiBcIm1haWxjaGltcFwiID09PSBPcHRpbi5zdGVwLnNlcnZpY2VzLm1vZGVsLmdldChcIm9wdGluX3Byb3ZpZGVyXCIpICl7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJfYXJnc190ZW1wbGF0ZSA9IE9wdGluLnRlbXBsYXRlKCBcIm9wdGluLVwiICsgT3B0aW4uc3RlcC5zZXJ2aWNlcy5tb2RlbC5nZXQoXCJvcHRpbl9wcm92aWRlclwiKSArIFwiLWFyZ3NcIiAgKTtcclxuICAgICAgICAgICAgICAgICRwcmV2aWV3LmZpbmQoXCIud3BvaS1wcm92aWRlci1hcmdzXCIpLmh0bWwoIHByb3ZpZGVyX2FyZ3NfdGVtcGxhdGUoIE9wdGluLnN0ZXAuc2VydmljZXMucHJvdmlkZXJfYXJncy50b0pTT04oKSApICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgdW5zZWxlY3RfcmFkaW9faW50ZXJlc3QgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKFwiW25hbWU9J21haWxjaGltcF9ncm91cHNfaW50ZXJlc3RzJ11cIikucHJvcChcImNoZWNrZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBPcHRpbi5zdGVwLnNlcnZpY2VzLnByb3ZpZGVyX2FyZ3Muc2V0KCBcImdyb3VwXCIsIF8uZXh0ZW5kKCB7fSwgT3B0aW4uc3RlcC5zZXJ2aWNlcy5wcm92aWRlcl9hcmdzLmdldChcImdyb3VwXCIpLCB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogW11cclxuICAgICAgICAgICAgfSkgKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCaW5kIHRvIGV2ZW50c1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgICQoZG9jKS5vbihcImNoYW5nZVwiLCBcIiNvcHRpbl9lbWFpbF9saXN0Lm1haWxjaGltcF9vcHRpbl9lbWFpbF9saXN0XCIsIHVwZGF0ZV9saXN0X2dyb3VwcyApO1xyXG4gICAgICAgICQoZG9jKS5vbihcImNoYW5nZVwiLCBcIiNtYWlsY2hpbXBfZ3JvdXBzXCIsIHVwZGF0ZV9ncm91cF9pbnRlcmVzdHMgKTtcclxuICAgICAgICAkKGRvYykub24oXCJjaGFuZ2VcIiwgXCJbbmFtZT0nbWFpbGNoaW1wX2dyb3Vwc19pbnRlcmVzdHMnXSwgW25hbWU9J21haWxjaGltcF9ncm91cHNfaW50ZXJlc3RzW10nXVwiLCB1cGRhdGVfc2VsZWN0ZWRfZ3JvdXBfaW50ZXJlc3RzICk7XHJcbiAgICAgICAgJChkb2MpLm9uKFwiY2xpY2tcIiwgXCIud3BvaS1sZWF2ZS1ncm91cC1pbnRyZXN0cy1ibGFuay1yYWRpb3NcIiwgdW5zZWxlY3RfcmFkaW9faW50ZXJlc3QpO1xyXG4gICAgICAgIE9wdGluLkV2ZW50cy5vbihcImRlc2lnbjpwcmV2aWV3OnJlbmRlcjpmaW5pc2hcIiwgcmVuZGVyX2luX3ByZXZpZXcgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVuZGVyX2luX3ByZXZpZXdyOiByZW5kZXJfaW5fcHJldmlld1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbn0oZG9jdW1lbnQsIGpRdWVyeSkpOyIsIlwidXNlIHN0cmljdFwiO1xyXG4oZnVuY3Rpb24oZG9jLCAkKXtcclxuXHJcbiAgICBPcHRpbi5NaXhpbnMuYWRkX3NlcnZpY2VzX21peGluKFwic2VuZHlcIiwgZnVuY3Rpb24oIHNlcnZpY2VfdGFiX3ZpZXcgKXtcclxuICAgICAgICB2YXIgdGFiID0gc2VydmljZV90YWJfdmlldyxcclxuICAgICAgICAgICAgJGZvcm0gPSB0YWIuJChcIiNodXN0bGVfc2VydmljZV9kZXRhaWxzX2Zvcm1cIiksXHJcbiAgICAgICAgICAgICRwcmV2X2FyZ3MgPSAkKFwiI3dwb2ktbWFpbGNoaW1wLXByZXYtZ3JvdXAtYXJnc1wiKSxcclxuICAgICAgICAgICAgJF9wcmV2aWV3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJpbmQgdG8gZXZlbnRzXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIHZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBfZXJyb3JzID0gW10sXHJcbiAgICAgICAgICAgICAgICAkZmllbGQgPSAkKFwiW25hbWU9J29wdGluX3NlbmR5X2luc3RhbGxhdGlvbl91cmwnXVwiKSxcclxuICAgICAgICAgICAgICAgICRpY29uID0gJCgnPHNwYW4+PC9zcGFuPicpO1xyXG5cclxuICAgICAgICAgICAgaWYoICQoXCIjb3B0aW5fc2VuZHlfaW5zdGFsbGF0aW9uX3VybFwiKS52YWwoKS50cmltKCkgPT09IFwiXCIgKXtcclxuICAgICAgICAgICAgICAgIF9lcnJvcnMucHVzaCh7bmFtZTogJ2luc3RhbGxhdGlvbl91cmwnLCBtZXNzYWdlOiBvcHRpbl92YXJzLm1lc3NhZ2VzLnNlbmR5LmVudGVyX3VybCB9KTtcclxuICAgICAgICAgICAgICAgICRpY29uLmF0dHIoXCJ0aXRsZVwiLCBfZXJyb3JzWzBdLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgJGZpZWxkLmFkZENsYXNzKCBcIndwb2ktZXJyb3JcIiApO1xyXG4gICAgICAgICAgICAgICAgJGZpZWxkLmFmdGVyKCAkaWNvbiApO1xyXG4gICAgICAgICAgICAgICAgXy5kZWZlciggZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAkaWNvbi5hZGRDbGFzcyggXCJkYXNoaWNvbnMgZGFzaGljb25zLXdhcm5pbmcgZGFzaGljb25zLXdhcm5pbmctdXJsXCIgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIF8oIF9lcnJvcnMgKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWdpc3RlciBpbnN0YWxsYXRpb25fdXJsIHRvIHRoZSBwcm92aWRlcl9hcmdzIG1vZGVsXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAb24gc2VydmljZXM6dmFsaWRhdGU6YWZ0ZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgYWRkX2luc3RhbGxhdGlvbl91cmxfdG9fYXJncyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKCBcInNlbmR5XCIgIT09IE9wdGluLnN0ZXAuc2VydmljZXMubW9kZWwuZ2V0KFwib3B0aW5fcHJvdmlkZXJcIikgKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBPcHRpbi5zdGVwLnNlcnZpY2VzLnByb3ZpZGVyX2FyZ3Muc2V0KCBcImluc3RhbGxhdGlvbl91cmxcIiwgICQudHJpbSggJChcIiNvcHRpbl9zZW5keV9pbnN0YWxsYXRpb25fdXJsXCIpLnZhbCgpICkgKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDbGVhciBwcm92aWRlcl9hcmdzIGlmIHByZXZpb3VzIHByb3ZpZGVyIHdhcyBTZW5keSBidXQgdGhlbiB1c2VyIGNoYW5nZXMgdG8gYW5vdGhlciBwcm92aWRlclxyXG4gICAgICAgICAqIEBvbiBkZXNpZ246cHJldmlldzpyZW5kZXI6c3RhcnRcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgc2V0X3Byb3ZpZGVyX2FyZ3MgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiggT3B0aW4uc3RlcC5zZXJ2aWNlcy5tb2RlbC5wcmV2aW91c0F0dHJpYnV0ZXMoKS5vcHRpbl9wcm92aWRlciA9PT0gXCJzZW5keVwiICYmIE9wdGluLnN0ZXAuc2VydmljZXMubW9kZWwuZ2V0KFwib3B0aW5fcHJvdmlkZXJcIikgIT09IFwic2VuZHlcIiApXHJcbiAgICAgICAgICAgICAgICBPcHRpbi5zdGVwLnNlcnZpY2VzLnByb3ZpZGVyX2FyZ3MuY2xlYXIoIHtzaWxlbnQ6IHRydWV9ICk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgT3B0aW4uRXZlbnRzLm9uKFwic2VydmljZXM6dmFsaWRhdGU6YWZ0ZXJcIiwgYWRkX2luc3RhbGxhdGlvbl91cmxfdG9fYXJncyApO1xyXG4gICAgICAgIE9wdGluLkV2ZW50cy5vbihcImRlc2lnbjpwcmV2aWV3OnJlbmRlcjpzdGFydFwiLCBzZXRfcHJvdmlkZXJfYXJncyApO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVuZGVyX2luX3ByZXZpZXdyOiBuZXcgRnVuY3Rpb24oKSxcclxuICAgICAgICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxufShkb2N1bWVudCwgalF1ZXJ5KSk7IiwiKGZ1bmN0aW9uKCAkICkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBPcHRpbi5WaWV3LkNvbmRpdGlvbnMgPSBPcHRpbi5WaWV3LkNvbmRpdGlvbnMgfHwge307XHJcblxyXG4gICAgdmFyIENvbmRpdGlvbl9CYXNlID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xyXG4gICAgICAgIGNvbmRpdGlvbl9pZDogXCJcIixcclxuICAgICAgICBjbGFzc05hbWU6IFwid3BvaS1jb25kaXRpb24taXRlbVwiLFxyXG4gICAgICAgIF90ZW1wbGF0ZTogT3B0aW4udGVtcGxhdGUoJ3dwb2ktd2l6YXJkLXBvcHVwLWNvbmRpdGlvbnMtaXRlbScpLFxyXG4gICAgICAgIHRlbXBsYXRlOiBmYWxzZSxcclxuICAgICAgICBfZGVmYXVsdHM6IHtcclxuICAgICAgICAgICAgdHlwZV9uYW1lOiBcIlwiLFxyXG4gICAgICAgICAgICBjb25kaXRpb25fbmFtZTogXCJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXZlbnRzOntcclxuICAgICAgICAgICAgJ2NoYW5nZSBpbnB1dCc6ICdjaGFuZ2VfaW5wdXQnLFxyXG4gICAgICAgICAgICAnY2hhbmdlIHRleHRhcmVhJzogJ2NoYW5nZV9pbnB1dCcsXHJcbiAgICAgICAgICAgICdjaGFuZ2Ugc2VsZWN0JzogJ2NoYW5nZV9pbnB1dCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCBvcHRzICl7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IG9wdHMudHlwZTtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMudHlwZSArIFwiLVwiICsgdGhpcy5jb25kaXRpb25faWQ7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSAgT3B0aW4udGVtcGxhdGUoJ3dwb2ktY29uZGl0aW9uLScgKyB0aGlzLmNvbmRpdGlvbl9pZCApO1xyXG5cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRGVmaW5lcyB0eXBlX25hbWUgYW5kIGNvbmRpdGlvbl9uYW1lIGJhc2VkIG9uIHR5cGUgYW5kIGlkIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgaW4gdGhlIHRlbXBsYXRlIGxhdGVyIG9uXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGVfbmFtZTogICBvcHRpbl92YXJzLm1lc3NhZ2VzLnNldHRpbmdzWyB0aGlzLnR5cGUgXSA/IG9wdGluX3ZhcnMubWVzc2FnZXMuc2V0dGluZ3NbIHRoaXMudHlwZSBdIDogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uX25hbWU6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9uc1sgdGhpcy5jb25kaXRpb25faWQgXSA/IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9uc1sgdGhpcy5jb25kaXRpb25faWQgXSA6IHRoaXMuY29uZGl0aW9uX2lkXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBfLmV4dGVuZCgge30sIHRoaXMuX2RlZmF1bHRzLCB0aGlzLmRlZmF1bHRzLCB0aGlzLm1vZGVsLmdldCggXCJjb25kaXRpb25zXCIgKVt0aGlzLmNvbmRpdGlvbl9pZF0gKTtcclxuICAgICAgICAgICAgaWYoIHRoaXMuaW5pdCAmJiB0eXBlb2YgdGhpcy5pbml0ID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXQoYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZUV2ZW50cygpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldF90aXRsZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGl0bGUucmVwbGFjZShcInt0eXBlX25hbWV9XCIsIHRoaXMuZGF0YS50eXBlX25hbWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0X2JvZHk6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5ib2R5ID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmJvZHkuYXBwbHkodGhpcywgYXJndW1lbnRzICkgOiB0aGlzLmJvZHkucmVwbGFjZShcInt0eXBlX25hbWV9XCIsIHRoaXMuZGF0YS50eXBlX25hbWUgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLl90ZW1wbGF0ZShfLmV4dGVuZCh7fSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLmdldF90aXRsZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHRoaXMuZ2V0X2JvZHkoKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWZhdWx0c1xyXG4gICAgICAgICAgICAgICAgKSApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kZWwuaHRtbCggaHRtbCApO1xyXG5cclxuICAgICAgICAgICAgaWYoIHRoaXMucmVuZGVyZWQgJiYgdHlwZW9mIHRoaXMucmVuZGVyZWQgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWQoYXJndW1lbnRzKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXBkYXRlcyBhdHRyaWJ1dGUgdmFsdWUgaW50byB0aGUgY29uZGl0aW9uIGhhc2hcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVcclxuICAgICAgICAgKiBAcGFyYW0gdmFsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdXBkYXRlX2F0dHJpYnV0ZTogZnVuY3Rpb24oYXR0cmlidXRlLCB2YWwpe1xyXG4gICAgICAgICAgICB2YXIgY29uZGl0aW9ucyA9IHRoaXMubW9kZWwuZ2V0KFwiY29uZGl0aW9uc1wiKTtcclxuICAgICAgICAgICAgY29uZGl0aW9uc1sgdGhpcy5jb25kaXRpb25faWQgXSA9IF8uaXNPYmplY3QoIGNvbmRpdGlvbnNbIHRoaXMuY29uZGl0aW9uX2lkIF0gKSA/IGNvbmRpdGlvbnNbIHRoaXMuY29uZGl0aW9uX2lkIF0gOiB7fTtcclxuICAgICAgICAgICAgY29uZGl0aW9uc1sgdGhpcy5jb25kaXRpb25faWQgXVsgYXR0cmlidXRlIF0gPSB2YWw7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVsgYXR0cmlidXRlIF0gPSB2YWw7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiY29uZGl0aW9uc1wiLCBjb25kaXRpb25zKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldF9hdHRyaWJ1dGU6IGZ1bmN0aW9uKGF0dHJpYnV0ZSl7XHJcbiAgICAgICAgICAgIHZhciBjb25kaXRpb25zID0gdGhpcy5tb2RlbC5nZXQoXCJjb25kaXRpb25zXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZGl0aW9uc1sgdGhpcy5jb25kaXRpb25faWQgXSAmJiBjb25kaXRpb25zWyB0aGlzLmNvbmRpdGlvbl9pZCBdWyBhdHRyaWJ1dGUgXSA/IGNvbmRpdGlvbnNbIHRoaXMuY29uZGl0aW9uX2lkIF1bIGF0dHJpYnV0ZSBdIDogZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUcmlnZ2VyZWQgb24gaW5wdXQgY2hhbmdlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNoYW5nZV9pbnB1dDogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IGUudGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlID0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdHRyaWJ1dGVcIiksXHJcbiAgICAgICAgICAgICAgICAkZWwgPSAkKGVsKSxcclxuICAgICAgICAgICAgICAgIHZhbCA9ICRlbC5pcyhcIi5qcy13cG9pLXNlbGVjdFwiKSA/ICRlbC52YWwoKSA6IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlX2F0dHJpYnV0ZSggYXR0cmlidXRlLCB2YWwgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgY29uZmlncyBvZiBjb25kaXRpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIGJvb2wgdHJ1ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldF9jb25maWdzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0cyB8fCB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIE9wdGluLlZpZXcuQ29uZGl0aW9ucy52aXNpdG9yX2xvZ2dlZF9pbiA9IENvbmRpdGlvbl9CYXNlLmV4dGVuZCh7XHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBcInZpc2l0b3JfbG9nZ2VkX2luXCIsXHJcbiAgICAgICAgZGlzYWJsZTogWyd2aXNpdG9yX25vdF9sb2dnZWRfaW4nXSxcclxuICAgICAgICB0aXRsZTogb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zLnZpc2l0b3JfbG9nZ2VkX2luLFxyXG4gICAgICAgIGJvZHk6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9uc19ib2R5LnZpc2l0b3JfbG9nZ2VkX2luXHJcbiAgICB9KTtcclxuXHJcbiAgICBPcHRpbi5WaWV3LkNvbmRpdGlvbnMudmlzaXRvcl9ub3RfbG9nZ2VkX2luID0gQ29uZGl0aW9uX0Jhc2UuZXh0ZW5kKHtcclxuICAgICAgICBjb25kaXRpb25faWQ6IFwidmlzaXRvcl9ub3RfbG9nZ2VkX2luXCIsXHJcbiAgICAgICAgZGlzYWJsZTogWyd2aXNpdG9yX2xvZ2dlZF9pbiddLFxyXG4gICAgICAgIHRpdGxlOiBvcHRpbl92YXJzLm1lc3NhZ2VzLmNvbmRpdGlvbnMudmlzaXRvcl9ub3RfbG9nZ2VkX2luLFxyXG4gICAgICAgIGJvZHk6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9uc19ib2R5LnZpc2l0b3Jfbm90X2xvZ2dlZF9pblxyXG4gICAgfSk7XHJcblxyXG4gICAgT3B0aW4uVmlldy5Db25kaXRpb25zLnNob3duX2xlc3NfdGhhbiA9IENvbmRpdGlvbl9CYXNlLmV4dGVuZCh7XHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBcInNob3duX2xlc3NfdGhhblwiLFxyXG4gICAgICAgIHRpdGxlOiBvcHRpbl92YXJzLm1lc3NhZ2VzLmNvbmRpdGlvbnMuc2hvd25fbGVzc190aGFuLFxyXG4gICAgICAgIGRlZmF1bHRzOiB7XHJcbiAgICAgICAgICAgIGxlc3NfdGhhbjogMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGUoIHRoaXMuZGF0YSApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIE9wdGluLlZpZXcuQ29uZGl0aW9ucy5vbmx5X29uX21vYmlsZSA9IENvbmRpdGlvbl9CYXNlLmV4dGVuZCh7XHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBcIm9ubHlfb25fbW9iaWxlXCIsXHJcbiAgICAgICAgZGlzYWJsZTogWydub3Rfb25fbW9iaWxlJ10sXHJcbiAgICAgICAgdGl0bGU6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9ucy5vbmx5X29uX21vYmlsZSxcclxuICAgICAgICBib2R5OiBvcHRpbl92YXJzLm1lc3NhZ2VzLmNvbmRpdGlvbnNfYm9keS5vbmx5X29uX21vYmlsZVxyXG4gICAgfSk7XHJcblxyXG4gICAgT3B0aW4uVmlldy5Db25kaXRpb25zLm5vdF9vbl9tb2JpbGUgPSBDb25kaXRpb25fQmFzZS5leHRlbmQoe1xyXG4gICAgICAgIGNvbmRpdGlvbl9pZDogXCJub3Rfb25fbW9iaWxlXCIsXHJcbiAgICAgICAgZGlzYWJsZTogWydvbmx5X29uX21vYmlsZSddLFxyXG4gICAgICAgIHRpdGxlOiBvcHRpbl92YXJzLm1lc3NhZ2VzLmNvbmRpdGlvbnMubm90X29uX21vYmlsZSxcclxuICAgICAgICBib2R5OiBvcHRpbl92YXJzLm1lc3NhZ2VzLmNvbmRpdGlvbnNfYm9keS5ub3Rfb25fbW9iaWxlXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZyb20gYSBzcGVjaWZpYyByZWZlcnJlclxyXG4gICAgICovXHJcbiAgICBPcHRpbi5WaWV3LkNvbmRpdGlvbnMuZnJvbV9zcGVjaWZpY19yZWYgPSBDb25kaXRpb25fQmFzZS5leHRlbmQoe1xyXG4gICAgICAgIGNvbmRpdGlvbl9pZDogXCJmcm9tX3NwZWNpZmljX3JlZlwiLFxyXG4gICAgICAgIGRpc2FibGU6IFsnbm90X2Zyb21fc3BlY2lmaWNfcmVmJ10sXHJcbiAgICAgICAgdGl0bGU6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9ucy5mcm9tX3NwZWNpZmljX3JlZixcclxuICAgICAgICBkZWZhdWx0czoge1xyXG4gICAgICAgICAgICByZWZzOiBcIlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZSggdGhpcy5kYXRhICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3QgZnJvbSBhIHNwZWNpZmljIHJlZmVycmVyXHJcbiAgICAgKi9cclxuICAgIE9wdGluLlZpZXcuQ29uZGl0aW9ucy5ub3RfZnJvbV9zcGVjaWZpY19yZWYgPSBDb25kaXRpb25fQmFzZS5leHRlbmQoe1xyXG4gICAgICAgIGNvbmRpdGlvbl9pZDogXCJub3RfZnJvbV9zcGVjaWZpY19yZWZcIixcclxuICAgICAgICBkaXNhYmxlOiBbJ2Zyb21fc3BlY2lmaWNfcmVmJ10sXHJcbiAgICAgICAgdGl0bGU6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9ucy5ub3RfZnJvbV9zcGVjaWZpY19yZWYsXHJcbiAgICAgICAgZGVmYXVsdHM6IHtcclxuICAgICAgICAgICAgcmVmczogXCJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGUoIHRoaXMuZGF0YSApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTm90IGZyb20gYW4gaW50ZXJuYWwgbGlua1xyXG4gICAgICovXHJcbiAgICBPcHRpbi5WaWV3LkNvbmRpdGlvbnMubm90X2Zyb21faW50ZXJuYWxfbGluayA9IENvbmRpdGlvbl9CYXNlLmV4dGVuZCh7XHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBcIm5vdF9mcm9tX2ludGVybmFsX2xpbmtcIixcclxuICAgICAgICB0aXRsZTogb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zLm5vdF9mcm9tX2ludGVybmFsX2xpbmssXHJcbiAgICAgICAgYm9keTogb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zX2JvZHkubm90X2Zyb21faW50ZXJuYWxfbGlua1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGcm9tIGEgc2VhcmNoIGVuZ2luZVxyXG4gICAgICovXHJcbiAgICBPcHRpbi5WaWV3LkNvbmRpdGlvbnMuZnJvbV9zZWFyY2hfZW5naW5lID0gQ29uZGl0aW9uX0Jhc2UuZXh0ZW5kKHtcclxuICAgICAgICBjb25kaXRpb25faWQ6IFwiZnJvbV9zZWFyY2hfZW5naW5lXCIsXHJcbiAgICAgICAgdGl0bGU6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9ucy5mcm9tX3NlYXJjaF9lbmdpbmUsXHJcbiAgICAgICAgYm9keTogb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zX2JvZHkuZnJvbV9zZWFyY2hfZW5naW5lXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNpdGUgaXMgbm90IGEgUHJvIFNpdGVcclxuICAgICAqL1xyXG4gICAgLy9PcHRpbi5WaWV3LkNvbmRpdGlvbnMubm90X2FfcHJvX3NpdGUgPSBDb25kaXRpb25fQmFzZS5leHRlbmQoe1xyXG4gICAgLy8gICAgY29uZGl0aW9uX2lkOiBcIm5vdF9hX3Byb19zaXRlXCIsXHJcbiAgICAvLyAgICB0aXRsZTogXCJTaXRlIGlzIG5vdCBhIFBybyBTaXRlXCIsXHJcbiAgICAvLyAgICBib2R5OiBcIlNob3dzIHRoZSBQb3AgVXAgaWYgdGhlIHNpdGUgaXMgbm90IGEgUHJvIFNpdGUuXCJcclxuICAgIC8vfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPbiBzcGVjaWZpYyBVUkxcclxuICAgICAqL1xyXG4gICAgT3B0aW4uVmlldy5Db25kaXRpb25zLm9uX3NwZWNpZmljX3VybCA9IENvbmRpdGlvbl9CYXNlLmV4dGVuZCh7XHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBcIm9uX3NwZWNpZmljX3VybFwiLFxyXG4gICAgICAgIGRpc2FibGU6IFsnbm90X29uX3NwZWNpZmljX3VybCddLFxyXG4gICAgICAgIHRpdGxlOiAgb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zLm9uX3NwZWNpZmljX3VybCxcclxuICAgICAgICBkZWZhdWx0czoge1xyXG4gICAgICAgICAgICB1cmxzOiBcIlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZSggdGhpcy5kYXRhICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3Qgb24gc3BlY2lmaWMgVVJMXHJcbiAgICAgKi9cclxuICAgIE9wdGluLlZpZXcuQ29uZGl0aW9ucy5ub3Rfb25fc3BlY2lmaWNfdXJsID0gQ29uZGl0aW9uX0Jhc2UuZXh0ZW5kKHtcclxuICAgICAgICBjb25kaXRpb25faWQ6IFwibm90X29uX3NwZWNpZmljX3VybFwiLFxyXG4gICAgICAgIGRpc2FibGU6IFsnb25fc3BlY2lmaWNfdXJsJ10sXHJcbiAgICAgICAgdGl0bGU6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9ucy5ub3Rfb25fc3BlY2lmaWNfdXJsLFxyXG4gICAgICAgIGRlZmF1bHRzOiB7XHJcbiAgICAgICAgICAgIHVybHM6IFwiXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlKCB0aGlzLmRhdGEgKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFZpc2l0b3IgaGFzIGNvbW1lbnRlZCBiZWZvcmVcclxuICAgICAqL1xyXG4gICAgT3B0aW4uVmlldy5Db25kaXRpb25zLnZpc2l0b3JfaGFzX2NvbW1lbnRlZCA9IENvbmRpdGlvbl9CYXNlLmV4dGVuZCh7XHJcbiAgICAgICAgY29uZGl0aW9uX2lkOiBcInZpc2l0b3JfaGFzX2NvbW1lbnRlZFwiLFxyXG4gICAgICAgIGRpc2FibGU6IFsndmlzaXRvcl9oYXNfbmV2ZXJfY29tbWVudGVkJ10sXHJcbiAgICAgICAgdGl0bGU6IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9ucy52aXNpdG9yX2hhc19jb21tZW50ZWQsXHJcbiAgICAgICAgYm9keTogb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zX2JvZHkudmlzaXRvcl9oYXNfY29tbWVudGVkXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFZpc2l0b3IgaGFzIG5ldmVyIGNvbW1lbnRlZFxyXG4gICAgICovXHJcbiAgICBPcHRpbi5WaWV3LkNvbmRpdGlvbnMudmlzaXRvcl9oYXNfbmV2ZXJfY29tbWVudGVkID0gQ29uZGl0aW9uX0Jhc2UuZXh0ZW5kKHtcclxuICAgICAgICBjb25kaXRpb25faWQ6IFwidmlzaXRvcl9oYXNfbmV2ZXJfY29tbWVudGVkXCIsXHJcbiAgICAgICAgZGlzYWJsZTogWyd2aXNpdG9yX2hhc19jb21tZW50ZWQnXSxcclxuICAgICAgICB0aXRsZTogb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zLnZpc2l0b3JfaGFzX25ldmVyX2NvbW1lbnRlZCxcclxuICAgICAgICBib2R5OiBvcHRpbl92YXJzLm1lc3NhZ2VzLmNvbmRpdGlvbnNfYm9keS52aXNpdG9yX2hhc19uZXZlcl9jb21tZW50ZWRcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW4gYSBzcGVjaWZpYyBDb3VudHJ5XHJcbiAgICAgKi9cclxuICAgIE9wdGluLlZpZXcuQ29uZGl0aW9ucy5pbl9hX2NvdW50cnkgPSBDb25kaXRpb25fQmFzZS5leHRlbmQoe1xyXG4gICAgICAgIGNvbmRpdGlvbl9pZDogXCJpbl9hX2NvdW50cnlcIixcclxuICAgICAgICBkaXNhYmxlOiBbJ25vdF9pbl9hX2NvdW50cnknXSxcclxuICAgICAgICB0aXRsZTogb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zLmluX2FfY291bnRyeSxcclxuICAgICAgICBkZWZhdWx0czoge1xyXG4gICAgICAgICAgICBjb3VudHJpZXM6IFwiXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlKCB0aGlzLmRhdGEgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbmRlcmVkOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLiQoJy5qcy13cG9pLXNlbGVjdCcpXHJcbiAgICAgICAgICAgICAgICAudmFsKCB0aGlzLmdldF9hdHRyaWJ1dGUoIFwiY291bnRyaWVzXCIgKSApXHJcbiAgICAgICAgICAgICAgICAud3BtdWlTZWxlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE5vdCBpbiBhIHNwZWNpZmljIENvdW50cnlcclxuICAgICAqL1xyXG4gICAgT3B0aW4uVmlldy5Db25kaXRpb25zLm5vdF9pbl9hX2NvdW50cnkgPSBDb25kaXRpb25fQmFzZS5leHRlbmQoe1xyXG4gICAgICAgIGNvbmRpdGlvbl9pZDogXCJub3RfaW5fYV9jb3VudHJ5XCIsXHJcbiAgICAgICAgZGlzYWJsZTogWydpbl9hX2NvdW50cnknXSxcclxuICAgICAgICB0aXRsZTogb3B0aW5fdmFycy5tZXNzYWdlcy5jb25kaXRpb25zLm5vdF9pbl9hX2NvdW50cnksXHJcbiAgICAgICAgYm9keTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGUoIHRoaXMuZGF0YSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZGVyZWQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuJCgnLmpzLXdwb2ktc2VsZWN0JylcclxuICAgICAgICAgICAgICAgIC52YWwoIHRoaXMuZ2V0X2F0dHJpYnV0ZSggXCJjb3VudHJpZXNcIiApIClcclxuICAgICAgICAgICAgICAgIC53cG11aVNlbGVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbn0oIGpRdWVyeSApKTsiLCIoZnVuY3Rpb24oICQgKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICBPcHRpbi5WaWV3LkNvbmRpdGlvbnMuVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcclxuICAgICAgICB0ZW1wbGF0ZTogT3B0aW4udGVtcGxhdGUoXCJ3cG9pLXdpemFyZC1wb3B1cC1jb25kaXRpb25zLWhhbmRsZVwiKSxcclxuICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgJ2NsaWNrIC53cG9pLWNvbmRpdGlvbnMtbGlzdC1oYW5kbGVzIC53cG9pLWNvbmRpdGlvbi1pdGVtOm5vdCguZGlzYWJsZWQpJzogJ3RvZ2dsZV9jb25kaXRpb24nLFxyXG4gICAgICAgICAgICAnY2xpY2sgLndwb2ktY29uZGl0aW9ucy1saXN0LWhhbmRsZXMgLndwb2ktY29uZGl0aW9uLWl0ZW06bm90KC5kaXNhYmxlZCkgc3Bhbic6ICd0b2dnbGVfY29uZGl0aW9uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0cyl7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IG9wdHMudHlwZTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVfY29uZGl0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgY29uZGl0aW9ucyA9IHRoaXMubW9kZWwuZ2V0KCB0aGlzLnR5cGUgKS5nZXQoIFwiY29uZGl0aW9uc1wiICk7XHJcblxyXG4gICAgICAgICAgICBfLmVhY2goIE9wdGluLlZpZXcuQ29uZGl0aW9ucywgZnVuY3Rpb24oY29uZGl0aW9uLCBpZCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlID0gdGhpcy50ZW1wbGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuZ2V0X2xhYmVsKCBpZCApLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgICAgICAgICBjaWQ6IHRoaXMuZ2V0X2NvbmRpdGlvbl9jaWQoIGlkICksXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlX2NsYXNzOiBjb25kaXRpb25zWyBpZCBdID8gXCJhZGRlZFwiIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbl9jbGFzczogY29uZGl0aW9uc1sgaWQgXSA/IFwid3BvaS1yZW1vdmVcIiA6IFwid3BvaS1hZGRcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGhhbmRsZVxyXG4gICAgICAgICAgICAgICAgdGhpcy4kKCcud3BvaS1jb25kaXRpb25zLWxpc3QtaGFuZGxlcycpLmFwcGVuZCggaGFuZGxlICApO1xyXG5cclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICBfLmVhY2goIGNvbmRpdGlvbnMsIGZ1bmN0aW9uKGNvbmRpdGlvbiwgaWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRfY29uZGl0aW9uX3BhbmVsKGlkKTtcclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRfY29uZGl0aW9uX2NpZDogZnVuY3Rpb24oaWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50eXBlICsgXCJfXCIgKyBpZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldF9sYWJlbDogZnVuY3Rpb24oaWQpe1xyXG4gICAgICAgICAgICB2YXIgdHlwZV9uYW1lID0gb3B0aW5fdmFycy5tZXNzYWdlcy5zZXR0aW5nc1sgdGhpcy50eXBlIF0gPyBvcHRpbl92YXJzLm1lc3NhZ2VzLnNldHRpbmdzWyB0aGlzLnR5cGUgXSA6IHRoaXMudHlwZTtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9uc1sgaWQgXSA/IG9wdGluX3ZhcnMubWVzc2FnZXMuY29uZGl0aW9uc1sgaWRdLnJlcGxhY2UoXCJ7dHlwZV9uYW1lfVwiLCB0eXBlX25hbWUpIDogaWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0YWtlX2NhcmVfb2ZfY29ubmVjdGVfY29uZGl0aW9uczogZnVuY3Rpb24odGhpc19jb25kaXRpb24pe1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRGlzYWJsZSB0aG9zZSBjb25kaXRpb25zIHdoaWNoIGNhbid0IGdvIHdpdGggdGhpcyBjb25kaXRpb25cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmKCB0aGlzX2NvbmRpdGlvbi5kaXNhYmxlICYmIHRoaXNfY29uZGl0aW9uLmRpc2FibGUubGVuZ3RoICl7XHJcbiAgICAgICAgICAgICAgICBfLmVhY2goIHRoaXNfY29uZGl0aW9uLmRpc2FibGUsIGZ1bmN0aW9uKGRpc2FibGVfaWQsIGluZGV4KXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGRpc2FibGVfaGFuZGxlID0gdGhpcy4kKCBcIiNcIiArIHRoaXMuZ2V0X2NvbmRpdGlvbl9jaWQoIGRpc2FibGVfaWQgKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICRkaXNhYmxlX2hhbmRsZS50b2dnbGVDbGFzcyhcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcykgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZGRzIGNvbmRpdGlvbiB0byBvcHRpbiB0eXBlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gaWRcclxuICAgICAgICAgKiBAcGFyYW0gdGhpc19jb25kaXRpb25cclxuICAgICAgICAgKiBAcmV0dXJucyB7Knx7fX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBhZGRfY29uZGl0aW9uOiBmdW5jdGlvbiAoaWQsICRoYW5kbGUpIHtcclxuICAgICAgICAgICAgdmFyIHRoaXNfY29uZGl0aW9uID0gdGhpcy5hZGRfY29uZGl0aW9uX3BhbmVsKGlkKTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEFkZCBjb25kaXRpb24gZWxlbWVudFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgJGhhbmRsZS5hZGRDbGFzcyhcImFkZGVkXCIpO1xyXG4gICAgICAgICAgICAkaGFuZGxlLmZpbmQoXCJzcGFuXCIpLmFkZENsYXNzKFwid3BvaS1yZW1vdmVcIik7XHJcbiAgICAgICAgICAgICRoYW5kbGUuZmluZChcInNwYW5cIikucmVtb3ZlQ2xhc3MoXCJ3cG9pLWFkZFwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjb25kaXRpb25zID0gdGhpcy5tb2RlbC5nZXQodGhpcy50eXBlICsgXCIuY29uZGl0aW9uc1wiKSB8fCB7fTtcclxuICAgICAgICAgICAgY29uZGl0aW9uc1tpZF0gPSB0aGlzX2NvbmRpdGlvbi5nZXRfY29uZmlncygpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmdldCh0aGlzLnR5cGUpLnNldChcImNvbmRpdGlvbnNcIiwgY29uZGl0aW9ucyk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb25kaXRpb25zO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVtb3ZlcyBjb25kaXRvbiBmcm9tIG9wdGluIHR5cGVcclxuICAgICAgICAgKiBAcGFyYW0gaWRcclxuICAgICAgICAgKi9cclxuICAgICAgICByZW1vdmVfY29uZGl0aW9uOiBmdW5jdGlvbiAoaWQsIHRoaXNfY29uZGl0aW9uLCAkaGFuZGxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFrZV9jYXJlX29mX2Nvbm5lY3RlX2NvbmRpdGlvbnMoIHRoaXNfY29uZGl0aW9uICk7XHJcblxyXG4gICAgICAgICAgICB0aGlzX2NvbmRpdGlvbi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlX2NvbmRpdGlvbnNbIGlkIF07XHJcbiAgICAgICAgICAgICRoYW5kbGUucmVtb3ZlQ2xhc3MoXCJhZGRlZFwiKTtcclxuICAgICAgICAgICAgJGhhbmRsZS5maW5kKFwic3BhblwiKS5yZW1vdmVDbGFzcyhcIndwb2ktcmVtb3ZlXCIpO1xyXG4gICAgICAgICAgICAkaGFuZGxlLmZpbmQoXCJzcGFuXCIpLmFkZENsYXNzKFwid3BvaS1hZGRcIik7XHJcblxyXG4gICAgICAgICAgICB2YXIgY29uZGl0aW9ucyA9IHRoaXMubW9kZWwuZ2V0KHRoaXMudHlwZSArIFwiLmNvbmRpdGlvbnNcIikgfHwge307XHJcbiAgICAgICAgICAgIGRlbGV0ZSBjb25kaXRpb25zW2lkXTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5nZXQodGhpcy50eXBlKS5zZXQoXCJjb25kaXRpb25zXCIsIGNvbmRpdGlvbnMsIHtzaWxlbnQ6IHRydWV9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFkZCBjb25kaXRpb24gcGFubmVsXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gaWRcclxuICAgICAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBhZGRfY29uZGl0aW9uX3BhbmVsOiBmdW5jdGlvbiAoIGlkICkge1xyXG4gICAgICAgICAgICB2YXIgdGhpc19jb25kaXRpb24gPSB0aGlzLmFjdGl2ZV9jb25kaXRpb25zW2lkXSA9IG5ldyBPcHRpbi5WaWV3LkNvbmRpdGlvbnNbaWRdKHtcclxuICAgICAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLmdldCggdGhpcy50eXBlICksXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy50YWtlX2NhcmVfb2ZfY29ubmVjdGVfY29uZGl0aW9ucyggdGhpc19jb25kaXRpb24gKTtcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBBcHBlbmQgY29uZGl0aW9uIHBhbmVsXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLiQoJy53cG9pLWNvbmRpdGlvbi1pdGVtcycpLmFwcGVuZCh0aGlzX2NvbmRpdGlvbi4kZWwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpc19jb25kaXRpb247XHJcbiAgICAgICAgfSwgLyoqXHJcbiAgICAgICAgICogVG9nZ2xlcyBlYWNoIG9mIHRoZSBjb25kaXRpb25zXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRvZ2dsZV9jb25kaXRpb246IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLiQoZS50YXJnZXQuaWQpLmRhdGEoXCJpZFwiKSB8fCB0aGlzLiQoZS50YXJnZXQpLmNsb3Nlc3QoXCIud3BvaS1jb25kaXRpb24taXRlbVwiKS5kYXRhKFwiaWRcIiksXHJcbiAgICAgICAgICAgICAgICAkaGFuZGxlID0gdGhpcy4kKCcjJyArIHRoaXMuZ2V0X2NvbmRpdGlvbl9jaWQoIGlkICkgKSxcclxuICAgICAgICAgICAgICAgIHRoaXNfY29uZGl0aW9uID0gdGhpcy5hY3RpdmVfY29uZGl0aW9uc1sgaWQgXTtcclxuXHJcbiAgICAgICAgICAgIGlmKCB0aGlzX2NvbmRpdGlvbiApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVfY29uZGl0aW9uKGlkLCB0aGlzX2NvbmRpdGlvbiwgJGhhbmRsZSApO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkX2NvbmRpdGlvbihpZCwgJGhhbmRsZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KSggalF1ZXJ5ICk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG4oZnVuY3Rpb24oICQgKSB7XHJcbiAgICBPcHRpbi5WaWV3LkVtYWlsX1NlcnZpY2VzX1RhYiA9IF8uZXh0ZW5kKCBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XHJcbiAgICAgICAgdGVtcGxhdGU6IE9wdGluLnRlbXBsYXRlKFwid3BvaS13aXphcmQtc2VydmljZXNfdGVtcGxhdGVcIiksXHJcbiAgICAgICAgZWw6IFwiI3dwb2ktd2l6YXJkLXNlcnZpY2VzXCIsXHJcbiAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgIFwiaW5wdXQgaW5wdXRcIjogXCJ1cGRhdGVfbW9kZWxcIixcclxuICAgICAgICAgICAgXCJjaGFuZ2UgI3dwb2ktdGVzdC1tb2RlLXNldHVwXCI6IFwidXBkYXRlX21vZGVsXCIsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlIHNlbGVjdFwiOiBcInVwZGF0ZV9tb2RlbFwiLFxyXG4gICAgICAgICAgICBcImtleXVwIGlucHV0XCI6IFwidXBkYXRlX21vZGVsXCIsXHJcbiAgICAgICAgICAgIFwiY2xpY2sgLm5leHQtYnV0dG9uIGFcIjogXCJ2YWxpZGF0ZVwiLFxyXG4gICAgICAgICAgICAnY2hhbmdlICNvcHRpbl9uZXdfcHJvdmlkZXJfbmFtZSc6ICdwcm92aWRlcl9jaGFuZ2UnLFxyXG4gICAgICAgICAgICAnY2xpY2sgLm9wdGluX3JlZnJlc2hfcHJvdmlkZXJfZGV0YWlscyc6ICdyZWZyZXNoX3Byb3ZpZGVyX2RldGFpbHMnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRzKXtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5wcm92aWRlcl9hcmdzID0gb3B0cy5wcm92aWRlcl9hcmdzO1xyXG4gICAgICAgICAgICB0aGlzLiRkZXRhaWxzX3BsYWNlaG9sZGVyID0gICQoXCIjb3B0aW5fbmV3X3Byb3ZpZGVyX2FjY291bnRfZGV0YWlsc1wiKTtcclxuICAgICAgICAgICAgdGhpcy4kb3B0aW9uc19wbGFjZWhvbGRlciA9ICAkKFwiI29wdGluX25ld19wcm92aWRlcl9hY2NvdW50X29wdGlvbnNcIik7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1zID0gdGhpcy5nZXRfcGFyYW1zKCk7XHJcbiAgICAgICAgICAgIGlmKCB0eXBlb2YgdGhpcy5wYXJhbXMuY29kZSAhPSAndW5kZWZpbmVkJyApe1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjb3B0aW5fbmV3X3Byb3ZpZGVyX25hbWUnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIH0sIDc1MCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBfLmVhY2goIE9wdGluLk1peGlucy5nZXRfc2VydmljZXNfbWl4aW5zKCksIGZ1bmN0aW9uKG1peCwgaWQpe1xyXG4gICAgICAgICAgICAgICAgaWYoIG1peCAmJiB0eXBlb2YgbWl4ID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tpZF0gPSBtaXgoIHRoaXMgKTtcclxuXHJcbiAgICAgICAgICAgIH0sIHRoaXMgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKCB0aGlzLnRlbXBsYXRlKCB0aGlzLm1vZGVsLnRvSlNPTigpICkgKTtcclxuICAgICAgICAgICAgdGhpcy5maWVsZHMgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAgXCIjb3B0aW5fbmV3X25hbWVcIixcclxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiAgXCIjb3B0aW5fbmV3X3Byb3ZpZGVyX25hbWVcIixcclxuICAgICAgICAgICAgICAgIGFwaV9rZXk6IFwiI29wdGluX2FwaV9rZXlcIixcclxuICAgICAgICAgICAgICAgIG1haWxfbGlzdDogIFwiI29wdGluX2VtYWlsX2xpc3RcIixcclxuICAgICAgICAgICAgICAgIHRlc3RfbW9kZTogJyN3cG9pLXRlc3QtbW9kZS1zZXR1cCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJChcIiN3cG9pLXRlc3QtbW9kZS1zZXR1cFwiKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9tb2RlbDogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmKCBlIClcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciAkY29udGFpbmVyID0gJCgnLm9wdHdpei1jb250YWluZXInKSxcclxuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgT3B0aW4uc3RlcC5tb2RlbCA9IE9wdGluLnN0ZXAubW9kZWwgfHwgbmV3IE9wdGluLk1vZGVsKCBvcHRpbl92YXJzLmN1cnJlbnQuZGF0YSApO1xyXG5cclxuICAgICAgICAgICAgT3B0aW4uc3RlcC5tb2RlbC5zZXQoXCJvcHRpbl9uYW1lXCIsIHRoaXMuJCggdGhpcy5maWVsZHMubmFtZSApLnZhbCgpICk7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgc2hvcnRjb2RlX2lkIGJhc2VkIG9uIG5hbWVcclxuICAgICAgICAgICAgXy5kZWxheShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgT3B0aW4uc3RlcC5kaXNwbGF5Lm1vZGVsLnNldChcInNob3J0Y29kZV9pZFwiLCBzZWxmLmdldF9zaG9ydGNvZGVfaWQoKSApO1xyXG4gICAgICAgICAgICB9LCA1MCk7XHJcblxyXG4gICAgICAgICAgICBPcHRpbi5zdGVwLm1vZGVsLnNldChcIm9wdGluX3Byb3ZpZGVyXCIsIHRoaXMuJCggdGhpcy5maWVsZHMucHJvdmlkZXIgKS52YWwoKSApIDtcclxuICAgICAgICAgICAgaWYoIHRoaXMuJCh0aGlzLmZpZWxkcy5hcGlfa2V5KSApXHJcbiAgICAgICAgICAgICAgICBPcHRpbi5zdGVwLm1vZGVsLnNldChcImFwaV9rZXlcIiwgdGhpcy4kKHRoaXMuZmllbGRzLmFwaV9rZXkpLnZhbCgpICk7XHJcbiAgICAgICAgICAgIGlmKCB0aGlzLiQoIHRoaXMuZmllbGRzLm1haWxfbGlzdCkubGVuZ3RoIClcclxuICAgICAgICAgICAgICAgIE9wdGluLnN0ZXAubW9kZWwuc2V0KFwib3B0aW5fbWFpbF9saXN0XCIsIHRoaXMuJCggdGhpcy5maWVsZHMubWFpbF9saXN0ICkudmFsKCkgKSA7XHJcbiAgICAgICAgICAgIE9wdGluLnN0ZXAubW9kZWwuc2V0KFwidGVzdF9tb2RlXCIsIHRoaXMuJCggdGhpcy5maWVsZHMudGVzdF9tb2RlICkuaXMoXCI6Y2hlY2tlZFwiKSA/IDEgOiAwICkgO1xyXG4gICAgICAgICAgICAvLyBkaXNhYmxlIHRoZSBcInNlcnZpY2UgZGV0YWlsc1wiIGNhcmQgd2hlbiB0ZXN0IG1vZGUgaXMgb25cclxuICAgICAgICAgICAgdGhpcy4kKFwiI3dwb2ktc2VydmljZS1kZXRhaWxzXCIpLnRvZ2dsZUNsYXNzKFwiZGlzYWJsZWRcIiwgdGhpcy4kKCB0aGlzLmZpZWxkcy50ZXN0X21vZGUgKS5pcyhcIjpjaGVja2VkXCIpICk7XHJcbiAgICAgICAgICAgIHRoaXMuJChcIiN3cG9pLXNlcnZpY2UtZGV0YWlscy1kaXNhYmxlZC1ub3RpY2VcIikudG9nZ2xlQ2xhc3MoXCJkaXNhYmxlZFwiLCAhdGhpcy4kKCB0aGlzLmZpZWxkcy50ZXN0X21vZGUgKS5pcyhcIjpjaGVja2VkXCIpICk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiQoXCIjb3B0aW5fbmV3X3Byb3ZpZGVyX25hbWVcIikucHJvcChcImRpc2FibGVkXCIsIHRoaXMuJCggdGhpcy5maWVsZHMudGVzdF9tb2RlICkuaXMoXCI6Y2hlY2tlZFwiKSApO1xyXG4gICAgICAgICAgICB0aGlzLiQoXCIub3B0aW5fcmVmcmVzaF9wcm92aWRlcl9kZXRhaWxzXCIpLnByb3AoXCJkaXNhYmxlZFwiLCB0aGlzLiQoIHRoaXMuZmllbGRzLnRlc3RfbW9kZSApLmlzKFwiOmNoZWNrZWRcIikgKTtcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBEaXNhYmxlIGFsbCBpbnB1dHMsIGJ1dHRvbnMgYW5kIHRleHRhcmVhIG9uIHNlcnZpY2UgZGV0YWlscyBpZiBpbiB0ZXN0IG1vZGVcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuJChcIiN3cG9pLXNlcnZpY2UtZGV0YWlscyBpbnB1dCwgI3dwb2ktc2VydmljZS1kZXRhaWxzIGJ1dHRvbiwgI3dwb2ktc2VydmljZS1kZXRhaWxzIHRleHRhcmVhXCIpLnByb3AoXCJkaXNhYmxlZFwiLCB0aGlzLiQoIHRoaXMuZmllbGRzLnRlc3RfbW9kZSApLmlzKFwiOmNoZWNrZWRcIikgKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRfc2hvcnRjb2RlX2lkOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gXy5pc0VtcHR5KCBPcHRpbi5zdGVwLm1vZGVsLmdldChcIm9wdGluX25hbWVcIikgKSA/IFwiXCIgOiBPcHRpbi5zdGVwLm1vZGVsLmdldChcIm9wdGluX25hbWVcIikudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csIFwiLVwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgaWYoIGUgIT09IHVuZGVmaW5lZCApIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIE9wdGluLkV2ZW50cy50cmlnZ2VyKFwic2VydmljZXM6dmFsaWRhdGU6YmVmb3JlXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVfbW9kZWwoKTtcclxuICAgICAgICAgICAgdmFyIHZhbGlkYXRpb24gPSBPcHRpbi5zdGVwLm1vZGVsLnZhbGlkYXRlX2ZpcnN0X3N0ZXAoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm92aWRlcl9uYW1lID0gdGhpcy4kKFwiI29wdGluX25ld19wcm92aWRlcl9uYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICBpZiggcHJvdmlkZXJfbmFtZSAmJiB0aGlzWyBwcm92aWRlcl9uYW1lIF0gJiYgdHlwZW9mIHRoaXNbIHByb3ZpZGVyX25hbWVdLnZhbGlkYXRlID09PSBcImZ1bmN0aW9uXCIgKXtcclxuICAgICAgICAgICAgICAgIHZhciBwcm92aWRlcl92YWxpZGF0aW9uID0gdGhpc1sgcHJvdmlkZXJfbmFtZV0udmFsaWRhdGUuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb24gPSBfKCB2YWxpZGF0aW9uLl93cmFwcGVkLmNvbmNhdCggcHJvdmlkZXJfdmFsaWRhdGlvbi5fd3JhcHBlZCApICk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiggIXZhbGlkYXRpb24uc2l6ZSgpIHx8ICAoIHRoaXMuJCggdGhpcy5maWVsZHMudGVzdF9tb2RlICkuaXMoXCI6Y2hlY2tlZFwiKSAmJiAgIV8uaXNFbXB0eSggdGhpcy4kKHRoaXMuZmllbGRzLm5hbWUpLnZhbCgpICkgKSApe1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBwZXJmb3JtIG5hdmlnYXRpb24gaWYgYSB0YWIgd2FzIGFjdHVhbGx5IGNsaWNrZWQuIFRoZSB2YWxpZGF0ZSgpIGZ1bmN0aW9uIG1heSBhbHNvIGJlIGNhbGxlZCBmcm9tIHNvbWV3aGVyZSBlbHNlXHJcbiAgICAgICAgICAgICAgICBpZiggZSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICAgICAgICAgICAgICAgIE9wdGluLnJvdXRlci5uYXZpZ2F0ZShcImRlc2lnblwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuZmluZCggXCJzcGFuLmRhc2hpY29ucy13YXJuaW5nXCIgKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb24uZWFjaChmdW5jdGlvbihlcnJvciwgaW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkaWNvbiA9ICQoJzxzcGFuIGNsYXNzPVwiZGFzaGljb25zIGRhc2hpY29ucy13YXJuaW5nXCI+PC9zcGFuPicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZmllbGQgPSBfdGhpcy4kKCBfdGhpcy5maWVsZHNbZXJyb3IubmFtZV0gKTtcclxuICAgICAgICAgICAgICAgICAgICAkaWNvbi5hdHRyKFwidGl0bGVcIiwgZXJyb3IubWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkZmllbGQuaGFzQ2xhc3MoJ3dkZXYtc3R5bGVkJykgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZmllbGQuY2xvc2VzdCgnLnNlbGVjdC1jb250YWluZXInKS5hZGRDbGFzcyggXCJ3cG9pLWVycm9yXCIgKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRmaWVsZC5hZGRDbGFzcyggXCJ3cG9pLWVycm9yXCIgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoICRmaWVsZC5jbG9zZXN0KFwiLnNlbGVjdC1jb250YWluZXJcIikubGVuZ3RoIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGZpZWxkLmNsb3Nlc3QoXCIuc2VsZWN0LWNvbnRhaW5lclwiKS5iZWZvcmUoICRpY29uICk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZmllbGQuYWZ0ZXIoICRpY29uICk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIE9wdGluLkV2ZW50cy50cmlnZ2VyKFwic2VydmljZXM6dmFsaWRhdGU6YWZ0ZXJcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRfcGFyYW1zOiBmdW5jdGlvbiggKSB7XHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBsb2NhdGlvbi5zZWFyY2g7XHJcbiAgICAgICAgICAgIHZhciBhbXBlcnNhbmQgPSBcIiZcIjtcclxuICAgICAgICAgICAgcmV0dXJuIF8uY2hhaW4odXJsLnNsaWNlKDEpLnNwbGl0KCBhbXBlcnNhbmQgKSlcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsgaWYgKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uc3BsaXQoJz0nKTsgfSB9KVxyXG4gICAgICAgICAgICAgICAgLmNvbXBhY3QoKVxyXG4gICAgICAgICAgICAgICAgLm9iamVjdCgpXHJcbiAgICAgICAgICAgICAgICAudmFsdWUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHByb3ZpZGVyX2NoYW5nZTogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmKCAhZS50YXJnZXQudmFsdWUgKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy4kZGV0YWlsc19wbGFjZWhvbGRlci5odG1sKFwiXCIpO1xyXG4gICAgICAgICAgICB0aGlzLiRvcHRpb25zX3BsYWNlaG9sZGVyLmh0bWwoXCJcIik7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlX3ByZXZfcHJvdmlkZXJfYXJncygpO1xyXG5cclxuICAgICAgICAgICAgJC5nZXQoYWpheHVybCwgeyBhY3Rpb246IFwicmVuZGVyX3Byb3ZpZGVyX2FjY291bnRfb3B0aW9uc1wiLCBpZDogZS50YXJnZXQudmFsdWUsIF9hamF4X25vbmNlOiAkKGUudGFyZ2V0KS5kYXRhKFwibm9uY2VcIiksIG9wdGluOiBzZWxmLm1vZGVsLmF0dHJpYnV0ZXMub3B0aW5faWQgfSwgZnVuY3Rpb24oIHJlc3BvbnNlICl7XHJcbiAgICAgICAgICAgICAgICBpZiggcmVzcG9uc2Uuc3VjY2VzcyA9PT0gdHJ1ZSApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLiRkZXRhaWxzX3BsYWNlaG9sZGVyLmh0bWwoIHJlc3BvbnNlLmRhdGEgKTtcclxuICAgICAgICAgICAgICAgICAgICAvL3NlbGYuJGRldGFpbHNfcGxhY2Vob2xkZXIuZmluZChcImlucHV0XCIpLm5vdChcImxhYmVsXCIpLndyYXBBbGwoXCI8ZGl2IGNsYXNzPSd3cG9pLWdldC1saXN0cycgLz5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGUudGFyZ2V0LnZhbHVlID09ICdjb25zdGFudGNvbnRhY3QnICYmIHR5cGVvZiBzZWxmLnBhcmFtcy5jb2RlICE9ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3B0aW5fYXBpX2tleScpLnZhbChzZWxmLnBhcmFtcy5jb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm9wdGluX3JlZnJlc2hfcHJvdmlkZXJfZGV0YWlscycpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGVsZWdhdGVFdmVudHMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIHJlc3BvbnNlLmRhdGEgJiYgXy5pc0FycmF5KCByZXNwb25zZS5kYXRhICkgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sID0gcmVzcG9uc2UuZGF0YS5qb2luKFwiLCBcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuJGRldGFpbHNfcGxhY2Vob2xkZXIuaHRtbCggaHRtbCApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHByb3ZpZGVyIGFjY291bnQgb3B0aW9uIGRldGFpbHMsIGVnIGFwaSBrZXkgYW5kIGV0YyBhbmQgdXBkYXRlICNvcHRpbl9uZXdfcHJvdmlkZXJfYWNjb3VudF9vcHRpb25zIGNvbnRlbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICByZWZyZXNoX3Byb3ZpZGVyX2RldGFpbHM6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAkdGhpcyA9IHRoaXMuJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICAkZm9ybSA9ICR0aGlzLmNsb3Nlc3QoXCJmb3JtXCIpLFxyXG4gICAgICAgICAgICAgICAgJGJveCA9IHRoaXMuJChcIi53cG9pLWJveFwiKSxcclxuICAgICAgICAgICAgICAgIGRhdGEgPSAkZm9ybS5zZXJpYWxpemUoKSxcclxuICAgICAgICAgICAgICAgICRpbnB1dCA9ICR0aGlzLmNsb3Nlc3QoXCIjd3BvaS1nZXQtbGlzdHNcIikuZmluZChcImlucHV0XCIpLFxyXG4gICAgICAgICAgICAgICAgJHBsYWNlaG9sZGVyID0gdGhpcy4kKFwiI29wdGluX25ld19wcm92aWRlcl9hY2NvdW50X29wdGlvbnNcIik7XHJcblxyXG4gICAgICAgICAgICBpZihfLmlzRW1wdHkoICRpbnB1dC52YWwoKSApICl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZV9wcmV2X3Byb3ZpZGVyX2FyZ3MoKTtcclxuXHJcbiAgICAgICAgICAgICRwbGFjZWhvbGRlci5odG1sKCB0aGlzLiQoIFwiI3dwb2lfbG9hZGluZ19pbmRpY2F0b3JcIiApLmh0bWwoKSApO1xyXG5cclxuICAgICAgICAgICAgZGF0YSArPSBcIiZhY3Rpb249cmVmcmVzaF9wcm92aWRlcl9hY2NvdW50X2RldGFpbHNcIjtcclxuICAgICAgICAgICAgaWYoIHR5cGVvZiBzZWxmLm1vZGVsLmF0dHJpYnV0ZXMub3B0aW5faWQgIT09ICd1bmRlZmluZWQnKSBkYXRhICs9IFwiJm9wdGluPVwiICsgc2VsZi5tb2RlbC5hdHRyaWJ1dGVzLm9wdGluX2lkO1xyXG5cclxuICAgICAgICAgICAgJGJveC5maW5kKFwiKlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogU2lsZW50bHkgY2xlYXIgdGhlIGFyZ3MgdW50aWxsIHRoZXkgYXJlIGZpbGxlZCBhZ2FpblxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgT3B0aW4uc3RlcC5zZXJ2aWNlcy5wcm92aWRlcl9hcmdzLmNsZWFyKHtzaWxlbnQ6IHRydWV9KTtcclxuICAgICAgICAgICAgJC5wb3N0KGFqYXh1cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApe1xyXG5cclxuICAgICAgICAgICAgICAgICRib3guZmluZChcIipcIikuYXR0cihcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiggcmVzcG9uc2Uuc3VjY2VzcyA9PT0gdHJ1ZSApe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggcmVzcG9uc2UuZGF0YS5yZWRpcmVjdF90byApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlc3BvbnNlLmRhdGEucmVkaXJlY3RfdG87XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGxhY2Vob2xkZXIuaHRtbCggcmVzcG9uc2UuZGF0YSApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZm9ybS5maW5kKFwic2VsZWN0XCIpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdEUC53cG11U2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAkcGxhY2Vob2xkZXIuaHRtbCggcmVzcG9uc2UuZGF0YSAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oIHJlc3BvbnNlICkge1xyXG4gICAgICAgICAgICAgICAgJHBsYWNlaG9sZGVyLmh0bWwoIG9wdGluX3ZhcnMubWVzc2FnZXMuc29tZXRoaW5nX3dlbnRfd3JvbmcgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmVfcHJldl9wcm92aWRlcl9hcmdzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgJHByZXZfcHJvdmlkZXJfYXJncyA9ICQoXCIjd3BvaS1tYWlsY2hpbXAtcHJldi1ncm91cC1hcmdzXCIpO1xyXG4gICAgICAgICAgICAkcHJldl9wcm92aWRlcl9hcmdzLmVtcHR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkpO1xyXG59KSggalF1ZXJ5ICk7XHJcbiIsIihmdW5jdGlvbiggJCApIHtcclxuICAgIE9wdGluLlZpZXcuRGVzaWduX1RhYiA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcclxuICAgICAgICB0ZW1wbGF0ZTogT3B0aW4udGVtcGxhdGUoXCJ3cG9pLXdpemFyZC1kZXNpZ25fdGVtcGxhdGVcIiksXHJcbiAgICAgICAgZWw6IFwiI3dwb2ktd2l6YXJkLWRlc2lnblwiLFxyXG4gICAgICAgIGRlZmF1bHRzOiB7XHJcbiAgICAgICAgICAgIG9wdGluX2lucHV0X2ljb25zOiBcIlwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGF5b3V0czogW1xyXG4gICAgICAgICAgICBPcHRpbi50ZW1wbGF0ZShcIm9wdGluLWxheW91dC1vbmVcIiksXHJcbiAgICAgICAgICAgIE9wdGluLnRlbXBsYXRlKFwib3B0aW4tbGF5b3V0LXR3b1wiKSxcclxuICAgICAgICAgICAgT3B0aW4udGVtcGxhdGUoXCJvcHRpbi1sYXlvdXQtdGhyZWVcIiksXHJcbiAgICAgICAgICAgIE9wdGluLnRlbXBsYXRlKFwib3B0aW4tbGF5b3V0LWZvdXJcIilcclxuICAgICAgICBdLFxyXG4gICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICBcImtleXVwICNvcHRpbl90aXRsZVwiOiBcInVwZGF0ZV9vcHRpbl90aXRsZVwiLFxyXG4gICAgICAgICAgICBcImNsaWNrICN3cG9pLXN3YXAtaW1hZ2UtYnV0dG9uXCI6IFwic3BlY2lmeV9pbWFnZVwiLFxyXG4gICAgICAgICAgICBcImNsaWNrICN3cG9pLWRlbGV0ZS1pbWFnZS1idXR0b25cIjogXCJkZWxldGVfaW1hZ2VcIixcclxuICAgICAgICAgICAgXCJjbGljayAud3BvaS1zZWxlY3QtbWVkaWEgLmJ1dHRvbi1naG9zdFwiOiBcInNwZWNpZnlfaW1hZ2VcIixcclxuICAgICAgICAgICAgXCJjbGljayAud3BvaS1tZWRpYS1vcHRpb25zIC5idXR0b24td2hpdGVcIjogXCJ0b2dnbGVfaW1hZ2VfbWVudVwiLFxyXG4gICAgICAgICAgICBcImNsaWNrIC53cG9pLW1lZGlhLW9wdGlvbnMtd3JhcC1saXN0IC5kZXYtaWNvbi1jcm9zc1wiOiBcInRvZ2dsZV9pbWFnZV9tZW51XCIsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlIGlucHV0W25hbWU9J29wdGluLWltYWdlLWxvY2F0aW9uJ11cIjogJ3VwZGF0ZV9pbWFnZV9sb2NhdGlvbicsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlIGlucHV0W25hbWU9J29wdGluLWltYWdlLXN0eWxlJ11cIjogJ3VwZGF0ZV9pbWFnZV9zdHlsZScsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlICNvcHRpbl9mb3JtX2xvY2F0aW9uIGlucHV0W3R5cGU9J3JhZGlvJ11cIjogJ3VwZGF0ZV9sb2NhdGlvbicsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlIGlucHV0W25hbWU9J29wdGluX2lucHV0X2ljb25zJ11cIjogJ3VwZGF0ZV9pbnB1dF9pY29ucycsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlICNvcHRpbl9vcHRpb25hbF9lbGVtZW50cyBpbnB1dFwiOiAndXBkYXRlX29wdGlvbmFsX2VsZW1lbnRzJyxcclxuICAgICAgICAgICAgXCJjaGFuZ2UgI29wdGluX2NvbG9yX3BhbGV0dGVzXCI6IFwidXBkYXRlX2NvbG9yX3BhbGV0dGVcIixcclxuICAgICAgICAgICAgXCJjaGFuZ2UgI29wdGluX2N1c3RvbWl6ZV9jb2xvcl9wYWxldHRlXCI6ICd1cGRhdGVfY3VzdG9taXplX2NvbG9yX3BhbGV0dGUnLFxyXG4gICAgICAgICAgICBcImNoYW5nZSBbbmFtZT0nb3B0aW5fZmllbGRzX3N0eWxlJ11cIjogJ3VwZGF0ZV9maWVsZHNfc3R5bGUnLFxyXG4gICAgICAgICAgICBcImNoYW5nZSAjb3B0aW5fZHJvcHNoYWRvd192YWx1ZVwiOiAndXBkYXRlX2Ryb3BzaGFkb3dfdmFsdWUnLFxyXG4gICAgICAgICAgICBcImNoYW5nZSAjb3B0aW5fcm91bmRlZF9jb3JuZXJzX3JhZGlvdXNcIjogJ3VwZGF0ZV9vcHRpbl9yb3VuZGVkX2Nvcm5lcnNfcmFkaW91cycsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlICNmaWVsZHNfcm91bmRlZF9jb3JuZXJzX3JhZGlvdXNcIjogJ3VwZGF0ZV9maWVsZHNfcm91bmRlZF9jb3JuZXJzX3JhZGlvdXMnLFxyXG4gICAgICAgICAgICBcImNoYW5nZSAjYnV0dG9uX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzXCI6ICd1cGRhdGVfYnV0dG9uX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzJyxcclxuICAgICAgICAgICAgXCJjbGljayAubmV4dC1idXR0b24gLm5leHRcIjogXCJnb190b19kaXNwbGF5X3NldHRpbmdzXCIsXHJcbiAgICAgICAgICAgIFwiY2xpY2sgLm5leHQtYnV0dG9uIC5wcmV2aW91c1wiOiBcImdvX3RvX3NlcnZpY2VzXCIsXHJcbiAgICAgICAgICAgIFwic3VibWl0IGZvcm0ud3BvaS1mb3JtLXdyYXBcIjogXCJjYW5jZWxfZHVtbXlfb3B0aW5fc3VibWl0XCIsXHJcblxyXG4gICAgICAgICAgICBcImNsaWNrICNvcHRpbl9hcHBseV9jdXN0b21fY3NzXCI6ICdhcHBseV9jdXN0b21fY3NzJyxcclxuICAgICAgICAgICAgXCJtb3VzZWVudGVyIC53cG9pLXN0eWxhYmxlLWVsZW1lbnRcIjogXCJoaWdobGlnaHRfc3R5bGFibGVfZWxlbWVudFwiLFxyXG4gICAgICAgICAgICBcIm1vdXNlbGVhdmUgLndwb2ktc3R5bGFibGUtZWxlbWVudFwiOiBcImhpZ2hsaWdodF9zdHlsYWJsZV9lbGVtZW50XCIsXHJcbiAgICAgICAgICAgIFwiY2xpY2sgLndwb2ktc3R5bGFibGUtZWxlbWVudFwiOiBcImluc2VydF9zdHlsYWJsZV9lbGVtZW50XCIsXHJcblxyXG4gICAgICAgICAgICBcImNsaWNrICN3cG9pLXByZXZpZXctb3B0aW4tYnV0dG9uXCI6IFwicHJldmlld19zaG93X29wdGluXCIsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlIGlucHV0Lnd5c2l3eWctdGFiXCI6IFwicHJldmlld190b2dnbGVcIixcclxuICAgICAgICAgICAgXCJjbGljayAjd3BvaS1wcmV2aWV3LXN1Y2Nlc3MtYnV0dG9uXCI6IFwicHJldmlld19zaG93X3N1Y2Nlc3NcIixcclxuICAgICAgICAgICAgXCJjbGljayAud3BvaS1zdWJzY3JpYmUtc2VuZFwiOiBcInByZXZpZXdfc2hvd19zdWNjZXNzXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0eWxhYmxlczoge1xyXG4gICAgICAgICAgICBcIi53cG9pLWNvbnRhaW5lciBcIjogXCJPcHQtaW4gQ29udGFpbmVyXCIsXHJcbiAgICAgICAgICAgIFwiLndwb2ktZm9ybS10aXRsZSBcIjogXCJUaXRsZVwiLFxyXG4gICAgICAgICAgICBcIi53cG9pLWZvcm0tbWVzc2FnZSwgLndwb2ktZm9ybS1tZXNzYWdlIHAgXCI6IFwiQ29udGVudFwiLFxyXG4gICAgICAgICAgICBcIi53cG9pLWZvcm0tZmllbGRzIFwiOiBcIkZvcm0gQ29udGFpbmVyXCIsXHJcbiAgICAgICAgICAgIFwiLndwb2ktZm9ybS1maWVsZHMgLndwb2ktc3Vic2NyaWJlLWZuYW1lIFwiOiBcIkZpcnN0IE5hbWVcIixcclxuICAgICAgICAgICAgXCIud3BvaS1mb3JtLWZpZWxkcyAud3BvaS1zdWJzY3JpYmUtbG5hbWUgXCI6IFwiTGFzdCBOYW1lXCIsXHJcbiAgICAgICAgICAgIFwiLndwb2ktZm9ybS1maWVsZHMgLndwb2ktc3Vic2NyaWJlLWVtYWlsIFwiOiBcIkVtYWlsXCIsXHJcbiAgICAgICAgICAgIFwiLndwb2ktZm9ybS1maWVsZHMgLndwb2ktc3Vic2NyaWJlLXNlbmQgXCI6IFwiRm9ybSBCdXR0b25cIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJldmlld190ZW1wbGF0ZTogXCJcIixcclxuICAgICAgICBjb2xvcl9waWNrZXJzX3RwbDogT3B0aW4udGVtcGxhdGUoXCJvcHRpbi1jb2xvci1waWNrZXJzXCIpLFxyXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCBvcHRpb25zICl7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW4gPSBvcHRpb25zLm9wdGluO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsIFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcl9wcmV2aWV3KCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5Ubyh0aGlzLm9wdGluLCBcImNoYW5nZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJfcHJldmlldygpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJldmlld190ZW1wbGF0ZSA9IHRoaXMubGF5b3V0c1sgdGhpcy5tb2RlbC5nZXQoXCJmb3JtX2xvY2F0aW9uXCIpIF07XHJcblxyXG4gICAgICAgICAgICBPcHRpbi5yb3V0ZXIub24oXCJyb3V0ZVwiLCBfLmJpbmQoIHRoaXMucmVuZGVyX3ByZXZpZXcsIHRoaXMgKSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByZXZpZXdfc3VjY2Vzc19tZXNzYWdlID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5wcmV2aWV3X3N1Y2Nlc3NfbWVzc2FnZSA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKCB0aGlzLnRlbXBsYXRlKCBfLmV4dGVuZCh7fSwgeyBwYWxldHRlczogUGFsZXR0ZXMudG9KU09OKCkgfSwge3N0eWxhYmxlczogdGhpcy5zdHlsYWJsZXN9LCB0aGlzLm9wdGluLnRvSlNPTigpLCB0aGlzLm1vZGVsLnRvSlNPTigpICkgKSApO1xyXG4gICAgICAgICAgICAkKFwiLndwb2ktaW1hZ2UtcHJldmlld1wiKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKCcgKyB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMuaW1hZ2Vfc3JjICsgJyknKTtcclxuICAgICAgICAgICAgJChcIi53cG9pLW1lZGlhLW9wdGlvbnMtd3JhcC1saXN0XCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgaWYoIHRoaXMubW9kZWwuYXR0cmlidXRlcy5pbWFnZV9zcmMgPT0gXCJcIiApe1xyXG4gICAgICAgICAgICAgICAgJChcIi53cG9pLW1lZGlhLW9wdGlvbnNcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICQoXCIud3BvaS1zZWxlY3QtbWVkaWEgLmJ1dHRvbi1naG9zdFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy4kcHJldmlldyA9IHRoaXMuJChcIiNvcHRpbi1wcmV2aWV3LXdyYXBwZXJcIik7XHJcblxyXG4gICAgICAgICAgICAvLyQoXCJpbnB1dFtuYW1lPSdvcHRpbi1pbWFnZS1sb2NhdGlvbiddOmNoZWNrZWRcIikudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVfZWRpdG9ycygpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcl9jb2xvcl9waWNrZXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyX3ByZXZpZXcoKTtcclxuXHJcbiAgICAgICAgICAgICQoXCJpbnB1dFtpZD0nb3B0aW4taW1hZ2UtbG9jYXRpb24tXCIrdGhpcy5tb2RlbC5hdHRyaWJ1dGVzLmltYWdlX2xvY2F0aW9uK1wiJ11cIikucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJChcImlucHV0W2lkPSdvcHRpbi1pbWFnZS1zdHlsZS1cIit0aGlzLm1vZGVsLmF0dHJpYnV0ZXMuaW1hZ2Vfc3R5bGUrXCInXVwiKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJCgnLndwLXBpY2tlci1pbnB1dC13cmFwJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuYWRkKCR0aGlzLm5leHQoKSkud3JhcEFsbCgnPGRpdiBjbGFzcz1cIndwLXBpY2tlci1hYnNvbHV0ZVwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkKFwiI29wdGluX2N1c3RvbWl6ZV9jb2xvcl9wYWxldHRlXCIpLnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcbiAgICAgICAgICAgIH0sNDAwKTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkKFwiI29wdGluX2N1c3RvbWl6ZV9jb2xvcl9wYWxldHRlXCIpLnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcbiAgICAgICAgICAgIH0sMTUwMCk7XHJcblxyXG4gICAgICAgICAgICBfLmRlbGF5KF8uYmluZCh0aGlzLmFwcGx5X2N1c3RvbV9jc3MsIHRoaXMpLCAxMDApOyAvLyBMZXRzIGFwcGx5IGN1c3RvbSBjc3MgaWYgYW55XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLm1vZGVsLmVsZW1lbnRzICYmIHRoaXMubW9kZWwuZWxlbWVudHMgaW5zdGFuY2VvZiBBcnJheSAmJiB0aGlzLm1vZGVsLmVsZW1lbnRzLmhhcyhcImZpcnN0X25hbWVcIikpe1xyXG4gICAgICAgICAgICAgICAgJChcIiNvcHRpbl9mbmFtZVwiKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGhpcy5tb2RlbC5lbGVtZW50cyAmJiB0aGlzLm1vZGVsLmVsZW1lbnRzIGluc3RhbmNlb2YgQXJyYXkgJiYgdGhpcy5tb2RlbC5lbGVtZW50cy5oYXMoXCJsYXN0X25hbWVcIikpe1xyXG4gICAgICAgICAgICAgICAgJChcIiNvcHRpbl9sbmFtZVwiKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQoJ2lucHV0W25hbWU9bG9jYXRpb25dOmNoZWNrZWQnKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNhbmNlbF9kdW1teV9vcHRpbl9zdWJtaXQ6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnb190b19kaXNwbGF5X3NldHRpbmdzOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBPcHRpbi5yb3V0ZXIubmF2aWdhdGUoXCJkaXNwbGF5XCIsIHRydWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ29fdG9fc2VydmljZXM6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIE9wdGluLnJvdXRlci5uYXZpZ2F0ZShcInNlcnZpY2VzXCIsIHRydWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2NvbG9yX3BhbGV0dGU6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgcGFsZXR0ZSA9IFBhbGV0dGVzLmZpbmRXaGVyZSh7IFwiX2lkXCI6IGUudGFyZ2V0LnZhbHVlIH0pLFxyXG4gICAgICAgICAgICAgICAgcHJldl92YWwgPSB0aGlzLm1vZGVsLmdldChcImNvbG9yc1wiKS50b0pTT04oKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnNcIiwgbmV3IE9wdGluLk0oIF8uZXh0ZW5kKHt9LCBwYWxldHRlLnRvSlNPTigpLCB7cGFsZXR0ZTogZS50YXJnZXQudmFsdWUgfSApICkgKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNldF9jb2xvcl9waWNrZXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuJChcIiNvcHRpbl9jdXN0b21pemVfY29sb3JfcGFsZXR0ZVwiKS5wcm9wKFwiY2hlY2tlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXNldF9jb2xvcl9waWNrZXJzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuJCgnI29wdHdpei1jdXN0b21fY29sb3IgLm9wdGluX2NvbG9yX3BpY2tlcicpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkX25hbWUgPSBpZC5yZXBsYWNlKFwib3B0aW5fXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9ycyA9IHNlbGYubW9kZWwuZ2V0KFwiY29sb3JzXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCR0aGlzLmRhdGEoXCJ3cENvbG9yUGlja2VyXCIpIHx8ICR0aGlzLmRhdGEoXCJ3cFdwQ29sb3JQaWNrZXJcIikgKVxyXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLndwQ29sb3JQaWNrZXIoXCJjb2xvclwiLCBjb2xvcnMuZ2V0KGZpZWxkX25hbWUpKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZGVyX2NvbG9yX3BpY2tlcnM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuJCgnI29wdHdpei1jdXN0b21fY29sb3InKS5odG1sKCB0aGlzLmNvbG9yX3BpY2tlcnNfdHBsKCB0aGlzLm1vZGVsLnRvSlNPTigpICkgKTtcclxuICAgICAgICAgICAgXy5kZWxheSgkLnByb3h5KHRoaXMuX2NyZWF0ZV9jb2xvcl9waWNrZXJzLCB0aGlzKSwgMTAwKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbmRlcl9wcmV2aWV3OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBPcHRpbi5FdmVudHMudHJpZ2dlcihcImRlc2lnbjpwcmV2aWV3OnJlbmRlcjpzdGFydFwiKTtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aWV3X3RlbXBsYXRlID0gdGhpcy5sYXlvdXRzWyB0aGlzLm1vZGVsLmdldChcImZvcm1fbG9jYXRpb25cIikgXTtcclxuICAgICAgICAgICAgdGhpcy4kcHJldmlldy5odG1sKCB0aGlzLnByZXZpZXdfdGVtcGxhdGUoXy5leHRlbmQoe30sIHRoaXMubW9kZWwudG9KU09OKCksIHRoaXMubW9kZWwuZ2V0KFwiYm9yZGVyc1wiKS50b0pTT04oKSwgdGhpcy5vcHRpbi50b0pTT04oKSwge1xyXG4gICAgICAgICAgICAgICAgaGFzX2FyZ3M6IHRoaXMuX3Nob3dfYXJncygpXHJcbiAgICAgICAgICAgIH0gKSApICk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlX3N0eWxlcygpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZV9ib3JkZXJzX3N0eWxlKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy90aGlzLmFwcGx5X2N1c3RvbV9jc3MoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aGlzLiRwcmV2aWV3X29wdGluX2J1dHRvbiA9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRwcmV2aWV3X29wdGluX2J1dHRvbiA9IHRoaXMuJChcIiN3cG9pLXByZXZpZXctb3B0aW4tYnV0dG9uXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcHJldmlld19zdWNjZXNzX2J1dHRvbiA9IHRoaXMuJChcIiN3cG9pLXByZXZpZXctc3VjY2Vzcy1idXR0b25cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMucHJldmlld19zdWNjZXNzX21lc3NhZ2Upe1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiLndwb2ktc3VjY2Vzcy1tZXNzYWdlXCIpLmFkZENsYXNzKFwid3BvaS1zaG93LW1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRwcmV2aWV3X3N1Y2Nlc3NfYnV0dG9uLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZpZXdfb3B0aW5fYnV0dG9uLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuJChcIi53cG9pLWxheW91dC10aHJlZSAud3BvaS1vcHRpbiAud3BvaS1mb3JtXCIpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhlaWdodCgpID4gMTY4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcIndwb2ktYWxpZ25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiZm9ybVwiKS5hZGRDbGFzcyhcIndwb2ktYWxpZ24tZWxlbWVudFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcIndwb2ktYWxpZ25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiZm9ybVwiKS5yZW1vdmVDbGFzcyhcIndwb2ktYWxpZ24tZWxlbWVudFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBPcHRpbi5FdmVudHMudHJpZ2dlcihcImRlc2lnbjpwcmV2aWV3OnJlbmRlcjpmaW5pc2hcIiwgdGhpcy4kcHJldmlldyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmFwcGx5X3Byb3Blcl9wcmV2aWV3X2NsYXNzZXMoKTtcclxuICAgICAgICAgICAgfSwxMCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9maXhfbGF5b3V0XzNfc2l6ZXMoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIExheW91dCAjM1xyXG4gICAgICAgIC8vIFNldCBoZWlnaHQgb2YgaW1hZ2UgY29udGFpbmVyIHNhbWUgdG8gcGFyZW50IGRpdlxyXG4gICAgICAgIC8vIFRoaXMgdG8gYXZvaWQgU2FmYXJpIGNvbmZsaWN0cyB3aXRoIFsgaGVpZ2h0OiAxMDAlIF1cclxuICAgICAgICBfZml4X2xheW91dF8zX3NpemVzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKFwiLndwb2ktbGF5b3V0LXRocmVlIC53cG9pLW9wdGluOm5vdCgud3BvaS1zbWFsbCkgLm5vY29udGVudDpub3QoLm5vaW1hZ2UpXCIpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9ICR0aGlzLmZpbmQoXCIud3BvaS1hc2lkZS14XCIpLnByZXYoXCIud3BvaS1lbGVtZW50XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICRjaGlsZCA9ICR0aGlzLmZpbmQoXCIud3BvaS1hc2lkZS14XCIpLnByZXYoXCIud3BvaS1lbGVtZW50XCIpLmZpbmQoXCIud3BvaS1jb250YWluZXIud3BvaS1jb2xcIik7XHJcbiAgICAgICAgICAgICAgICAkY2hpbGQuY3NzKFwiaGVpZ2h0XCIsICRwYXJlbnQuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFZlcnRpY2FsIGFsaWduIGNvbnRlbnRcclxuICAgICAgICAgICAgJChcIi53cG9pLWxheW91dC10aHJlZSAud3BvaS1vcHRpbjpub3QoLndwb2ktc21hbGwpID4gLndwb2ktY29udGFpbmVyLm5vaW1hZ2U6bm90KC5ub2NvbnRlbnQpXCIpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgJGFzaWRlID0gJHRoaXMuZmluZChcIi53cG9pLWFzaWRlLXhcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgJGRpdiA9ICR0aGlzLmZpbmQoXCIud3BvaS1pbWFnZVwiKS5uZXh0KFwiLndwb2ktZWxlbWVudFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudCA9ICRhc2lkZS5wcmV2KFwiLndwb2ktZWxlbWVudFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkY29udGVudCA9ICR0aGlzLmZpbmQoXCIud3BvaS1jb250ZW50XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICRjb2wgPSAkZWxlbWVudC5maW5kKFwiLndwb2ktY29sXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICRmb3JtID0gJHRoaXMuZmluZChcImZvcm1cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCAkZm9ybS5oZWlnaHQoKSA+ICRjb250ZW50LmhlaWdodCgpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbC5jc3MoXCJoZWlnaHRcIiwgJGFzaWRlLmhlaWdodCgpICsgJ3B4JyApO1xyXG4gICAgICAgICAgICAgICAgICAgICRkaXYuYWRkQ2xhc3MoXCJ3cG9pLWFsaWduXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250ZW50LmFkZENsYXNzKFwid3BvaS1hbGlnbi1lbGVtZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCAkZm9ybS5oZWlnaHQoKSA8ICRjb250ZW50LmhlaWdodCgpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgJGFzaWRlLmNzcyhcImhlaWdodFwiLCAkZWxlbWVudC5oZWlnaHQoKSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRhc2lkZS5hZGRDbGFzcyhcIndwb2ktYWxpZ25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJGZvcm0uYWRkQ2xhc3MoXCJ3cG9pLWFsaWduLWVsZW1lbnRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkKFwiLndwb2ktbGF5b3V0LXRocmVlIC53cG9pLW9wdGluOm5vdCgud3BvaS1zbWFsbCkgPiAud3BvaS1jb250YWluZXI6bm90KC5ub2ltYWdlKTpub3QoLm5vY29udGVudClcIikuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAkc2lkZWJhciA9ICR0aGlzLmZpbmQoXCIud3BvaS1hc2lkZS14XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50ID0gJHNpZGViYXIucHJldihcIi53cG9pLWVsZW1lbnRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgJGZvcm0gPSAkdGhpcy5maW5kKFwiZm9ybVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICRmb3JtLmhlaWdodCgpIDwgJGVsZW1lbnQuaGVpZ2h0KCkgKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2lkZWJhci5jc3MoXCJoZWlnaHRcIiwgJGVsZW1lbnQuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzaWRlYmFyLmFkZENsYXNzKFwid3BvaS1hbGlnblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkZm9ybS5hZGRDbGFzcyhcIndwb2ktYWxpZ24tZWxlbWVudFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcmV2aWV3X3RvZ2dsZTogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmKCBlLnRhcmdldC5pZCA9PSAnd3BvaS1vbScgKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldmlld19zaG93X29wdGluKCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aWV3X3Nob3dfc3VjY2VzcyhlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJldmlld19zaG93X29wdGluOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLnByZXZpZXdfc3VjY2Vzc19tZXNzYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuJHByZXZpZXdfb3B0aW5fYnV0dG9uLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLiRwcmV2aWV3X3N1Y2Nlc3NfYnV0dG9uLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLiQoXCIud3BvaS1zdWNjZXNzLW1lc3NhZ2VcIikucmVtb3ZlQ2xhc3MoXCJ3cG9pLXNob3ctbWVzc2FnZVwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHByZXZpZXdfc2hvd19zdWNjZXNzOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgaWYoICQoZS50YXJnZXQpLmhhc0NsYXNzKFwid3BvaS1zdWJzY3JpYmUtc2VuZFwiKSApe1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiLndwb2ktc3VjY2Vzcy1tZXNzYWdlXCIpLmFkZENsYXNzKFwid3BvaS1zaG93LW1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kKFwiLndwb2ktc3VjY2Vzcy1tZXNzYWdlXCIpLnJlbW92ZUNsYXNzKFwid3BvaS1zaG93LW1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgICAgICB9LDE1MDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcHJldmlld19zdWNjZXNzX2J1dHRvbi5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHByZXZpZXdfb3B0aW5fYnV0dG9uLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aWV3X3N1Y2Nlc3NfbWVzc2FnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIud3BvaS1zdWNjZXNzLW1lc3NhZ2VcIikuYWRkQ2xhc3MoXCJ3cG9pLXNob3ctbWVzc2FnZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2N1c3RvbWl6ZV9jb2xvcl9wYWxldHRlOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuY3VzdG9taXplXCIsICQoZS50YXJnZXQpLmlzKFwiOmNoZWNrZWRcIikgKTtcclxuICAgICAgICAgICAgaWYoICQoZS50YXJnZXQpLmlzKFwiOmNoZWNrZWRcIikgKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNvcHRpbl9jb2xvcl9wYWxldHRlc1wiKS5jbG9zZXN0KFwiLnNlbGVjdC1jb250YWluZXJcIikuZmluZChcInNlbGVjdFwiKS5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIjb3B0aW5fY29sb3JfcGFsZXR0ZXNcIikuY2xvc2VzdChcIi5zZWxlY3QtY29udGFpbmVyXCIpLmNzcyhcIm9wYWNpdHlcIiwgMC4zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNvcHRpbl9jb2xvcl9wYWxldHRlc1wiKS5jbG9zZXN0KFwiLnNlbGVjdC1jb250YWluZXJcIikuY3NzKFwiY3Vyc29yXCIsIFwiZGVmYXVsdFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNvcHR3aXotY3VzdG9tX2NvbG9yXCIpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNvcHRpbl9jb2xvcl9wYWxldHRlc1wiKS5jbG9zZXN0KFwiLnNlbGVjdC1jb250YWluZXJcIikuZmluZChcInNlbGVjdFwiKS5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiI29wdGluX2NvbG9yX3BhbGV0dGVzXCIpLmNsb3Nlc3QoXCIuc2VsZWN0LWNvbnRhaW5lclwiKS5jc3MoXCJvcGFjaXR5XCIsIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiI29wdGluX2NvbG9yX3BhbGV0dGVzXCIpLmNsb3Nlc3QoXCIuc2VsZWN0LWNvbnRhaW5lclwiKS5jc3MoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiI29wdHdpei1jdXN0b21fY29sb3JcIikuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfb3B0aW5fdGl0bGU6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5vcHRpbi5zZXQoXCJvcHRpbl90aXRsZVwiLCAkKGUudGFyZ2V0KS52YWwoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX21haW5fYmFja2dyb3VuZDogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5tYWluX2JhY2tncm91bmRcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX3RpdGxlX2NvbG9yOiBmdW5jdGlvbihlLCB1aSl7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiY29sb3JzLnRpdGxlX2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9saW5rX2NvbG9yOiBmdW5jdGlvbihlLCB1aSl7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiY29sb3JzLmxpbmtfY29sb3JcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2NvbnRlbnRfY29sb3I6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuY29udGVudF9jb2xvclwiLCB1aS5jb2xvci50b0NTUygpICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfbGlua19ob3Zlcl9jb2xvcjogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5saW5rX2hvdmVyX2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9mb3JtX2JhY2tncm91bmQ6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuZm9ybV9iYWNrZ3JvdW5kXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9maWVsZHNfYmFja2dyb3VuZDogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5maWVsZHNfYmFja2dyb3VuZFwiLCB1aS5jb2xvci50b0NTUygpICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfbGFiZWxfY29sb3I6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMubGFiZWxfY29sb3JcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2J1dHRvbl9iYWNrZ3JvdW5kOiBmdW5jdGlvbihlLCB1aSl7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiY29sb3JzLmJ1dHRvbl9iYWNrZ3JvdW5kXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9idXR0b25fbGFiZWw6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuYnV0dG9uX2xhYmVsXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9maWVsZHNfY29sb3I6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuZmllbGRzX2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9lcnJvcl9jb2xvcjogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5lcnJvcl9jb2xvclwiLCB1aS5jb2xvci50b0NTUygpICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfYnV0dG9uX2hvdmVyX2JhY2tncm91bmQ6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuYnV0dG9uX2hvdmVyX2JhY2tncm91bmRcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2J1dHRvbl9ob3Zlcl9sYWJlbDogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5idXR0b25faG92ZXJfbGFiZWxcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2NoZWNrbWFya19jb2xvcjogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5jaGVja21hcmtfY29sb3JcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX3N1Y2Nlc3NfY29sb3I6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuc3VjY2Vzc19jb2xvclwiLCB1aS5jb2xvci50b0NTUygpICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfY2xvc2VfY29sb3I6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuY2xvc2VfY29sb3JcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX25zYV9jb2xvcjogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5uc2FfY29sb3JcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX292ZXJsYXlfYmFja2dyb3VuZDogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5vdmVybGF5X2JhY2tncm91bmRcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2Nsb3NlX2hvdmVyX2NvbG9yOiBmdW5jdGlvbihlLCB1aSl7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiY29sb3JzLmNsb3NlX2hvdmVyX2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9uc2FfaG92ZXJfY29sb3I6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMubnNhX2hvdmVyX2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9yYWRpb19iYWNrZ3JvdW5kOiBmdW5jdGlvbihlLCB1aSl7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiY29sb3JzLnJhZGlvX2JhY2tncm91bmRcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX3JhZGlvX2NoZWNrZWRfYmFja2dyb3VuZDogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5yYWRpb19jaGVja2VkX2JhY2tncm91bmRcIiwgdWkuY29sb3IudG9DU1MoKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2NoZWNrYm94X2JhY2tncm91bmQ6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMuY2hlY2tib3hfYmFja2dyb3VuZFwiLCB1aS5jb2xvci50b0NTUygpICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfY2hlY2tib3hfY2hlY2tlZF9jb2xvcjogZnVuY3Rpb24oZSwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImNvbG9ycy5jaGVja2JveF9jaGVja2VkX2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9tY2dfdGl0bGVfY29sb3I6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMubWNnX3RpdGxlX2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9tY2dfbGFiZWxfY29sb3I6IGZ1bmN0aW9uKGUsIHVpKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjb2xvcnMubWNnX2xhYmVsX2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZV9lZGl0b3JzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLl9iaW5kX3RvX21lc3NhZ2VfZWRpdG9yKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZV9jc3NfZWRpdG9yKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfZmllbGRzX3N0eWxlOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJib3JkZXJzLmZpZWxkc19zdHlsZVwiLCAkKGUudGFyZ2V0KS52YWwoKSApO1xyXG4gICAgICAgICAgICBpZiggICdqb2luZWQnID09PSAkKGUudGFyZ2V0KS52YWwoKSApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiI2ZpZWxkc19yb3VuZGVkX2Nvcm5lcnNfcmFkaW91c1wiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIjYnV0dG9uX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIjZmllbGRzX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIjYnV0dG9uX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyX3ByZXZpZXcoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhpZ2hsaWdodF9zdHlsYWJsZV9lbGVtZW50OiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdmFyICRlbCA9ICQoZS50YXJnZXQpLFxyXG4gICAgICAgICAgICAgICAgJHN0eWxhYmxlID0gJCggJGVsLmRhdGEoXCJzdHlsYWJsZVwiKSApO1xyXG5cclxuICAgICAgICAgICAgJHN0eWxhYmxlLnRvZ2dsZUNsYXNzKFwib3B0aW5faG92ZXJlZF9zdHlsYWJsZV9lbGVtZW50XCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5zZXJ0X3N0eWxhYmxlX2VsZW1lbnQ6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHZhciAkZWwgPSAkKGUudGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgIHN0eWxhYmxlID0gJGVsLmRhdGEoXCJzdHlsYWJsZVwiKSArIFwie31cIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3NzX2VkaXRvci5uYXZpZ2F0ZUZpbGVFbmQoKTtcclxuICAgICAgICAgICAgdGhpcy5jc3NfZWRpdG9yLmluc2VydChzdHlsYWJsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3NzX2VkaXRvci5uYXZpZ2F0ZUxlZnQoMSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3NzX2VkaXRvci5mb2N1cygpO1xyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIGFwcGx5X3Byb3Blcl9wcmV2aWV3X2NsYXNzZXM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoXCIud3BvaS1odXN0bGVcIikuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykud2lkdGgoKSA8PSA0MDUpe1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZChcIi53cG9pLW9wdGluXCIpLmFkZENsYXNzKFwid3BvaS1zbWFsbFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiLndwb2ktb3B0aW5cIikucmVtb3ZlQ2xhc3MoXCJ3cG9pLXNtYWxsXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICggKCQodGhpcykud2lkdGgoKSA8PSA1ODUpICYmICgkKHRoaXMpLndpZHRoKCkgPiA0MDUpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiLndwb2ktb3B0aW5cIikuYWRkQ2xhc3MoXCJ3cG9pLW1lZGl1bVwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiLndwb2ktb3B0aW5cIikucmVtb3ZlQ2xhc3MoXCJ3cG9pLW1lZGl1bVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKFwiLndwb2ktbGF5b3V0LXRocmVlIC53cG9pLW9wdGluOm5vdCgud3BvaS1zbWFsbCkgLndwb2ktZm9ybVwiKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oZWlnaHQoKSA+IDE2OCl7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcIndwb2ktYWxpZ25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KFwiZm9ybVwiKS5hZGRDbGFzcyhcIndwb2ktYWxpZ24tZWxlbWVudFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcIndwb2ktYWxpZ25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KFwiZm9ybVwiKS5yZW1vdmVDbGFzcyhcIndwb2ktYWxpZ24tZWxlbWVudFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkKFwiLndwb2ktbWNnLXNlbGVjdFwiKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudChcIi53cG9pLXByb3ZpZGVyLWFyZ3MgPiAud3BvaS1jb250YWluZXIgPiAud3BvaS1lbGVtZW50Om50aC1jaGlsZCgyKSA+IC53cG9pLWNvbnRhaW5lciA+IC53cG9pLWVsZW1lbnRcIikuY3NzKHtcInBhZGRpbmdcIjpcIjBcIixcImJhY2tncm91bmRcIjpcInRyYW5zcGFyZW50XCJ9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBMYXlvdXQgIzNcclxuICAgICAgICAgICAgLy8gVmVydGljYWwgYWxpZ24gY29udGVudFxyXG4gICAgICAgICAgICAkKFwiLndwb2ktbGF5b3V0LXRocmVlIC53cG9pLW9wdGluOm5vdCgud3BvaS1zbWFsbCkgPiAud3BvaS1jb250YWluZXIubm9pbWFnZTpub3QoLm5vY29udGVudClcIikuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAkYXNpZGUgPSAkdGhpcy5maW5kKFwiLndwb2ktYXNpZGUteFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkZGl2ID0gJHRoaXMuZmluZChcIi53cG9pLWltYWdlXCIpLm5leHQoXCIud3BvaS1lbGVtZW50XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50ID0gJGFzaWRlLnByZXYoXCIud3BvaS1lbGVtZW50XCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICRjb250ZW50ID0gJHRoaXMuZmluZChcIi53cG9pLWNvbnRlbnRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbCA9ICRlbGVtZW50LmZpbmQoXCIud3BvaS1jb2xcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgJGZvcm0gPSAkdGhpcy5maW5kKFwiZm9ybVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICRmb3JtLmhlaWdodCgpID4gJGNvbnRlbnQuaGVpZ2h0KCkgKXtcclxuICAgICAgICAgICAgICAgICAgICAkY29sLmNzcyhcImhlaWdodFwiLCAkYXNpZGUuaGVpZ2h0KCkgKyAncHgnICk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGRpdi5hZGRDbGFzcyhcIndwb2ktYWxpZ25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQuYWRkQ2xhc3MoXCJ3cG9pLWFsaWduLWVsZW1lbnRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoICRmb3JtLmhlaWdodCgpIDwgJGNvbnRlbnQuaGVpZ2h0KCkgKXtcclxuICAgICAgICAgICAgICAgICAgICAkYXNpZGUuY3NzKFwiaGVpZ2h0XCIsICRlbGVtZW50LmhlaWdodCgpICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGFzaWRlLmFkZENsYXNzKFwid3BvaS1hbGlnblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkZm9ybS5hZGRDbGFzcyhcIndwb2ktYWxpZ24tZWxlbWVudFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoXCIud3BvaS1sYXlvdXQtdGhyZWUgLndwb2ktb3B0aW46bm90KC53cG9pLXNtYWxsKSA+IC53cG9pLWNvbnRhaW5lcjpub3QoLm5vaW1hZ2UpOm5vdCgubm9jb250ZW50KVwiKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICRzaWRlYmFyID0gJHRoaXMuZmluZChcIi53cG9pLWFzaWRlLXhcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQgPSAkc2lkZWJhci5wcmV2KFwiLndwb2ktZWxlbWVudFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkZm9ybSA9ICR0aGlzLmZpbmQoXCJmb3JtXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggJGZvcm0uaGVpZ2h0KCkgPCAkZWxlbWVudC5oZWlnaHQoKSApe1xyXG4gICAgICAgICAgICAgICAgICAgICRzaWRlYmFyLmNzcyhcImhlaWdodFwiLCAkZWxlbWVudC5oZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNpZGViYXIuYWRkQ2xhc3MoXCJ3cG9pLWFsaWduXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRmb3JtLmFkZENsYXNzKFwid3BvaS1hbGlnbi1lbGVtZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIExheW91dCAjNFxyXG4gICAgICAgICAgICAvLyBWZXJ0aWNhbCBhbGlnbiBjb250ZW50XHJcbiAgICAgICAgICAgICQoXCIud3BvaS1sYXlvdXQtZm91ciAud3BvaS1vcHRpbjpub3QoLndwb2ktc21hbGwpID4gLndwb2ktY29udGFpbmVyLm5vaW1hZ2U6bm90KC5ub2NvbnRlbnQpXCIpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgJGFzaWRlID0gJHRoaXMuZmluZChcIi53cG9pLWFzaWRlLXhsXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICRjb2wgPSAkdGhpcy5maW5kKFwiLndwb2ktYXNpZGUteGwgPiAud3BvaS1jb250YWluZXJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9ICRhc2lkZS5maW5kKFwiLndwb2ktZm9ybVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkZm9ybSA9ICRhc2lkZS5maW5kKFwiZm9ybVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudCA9ICRhc2lkZS5uZXh0KFwiLndwb2ktZWxlbWVudFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkY29udGVudCA9ICRlbGVtZW50LmZpbmQoXCIud3BvaS1jb250ZW50XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggJGNvbnRlbnQuaGVpZ2h0KCkgPiAkZm9ybS5oZWlnaHQoKSApe1xyXG4gICAgICAgICAgICAgICAgICAgICRjb2wuY3NzKFwiaGVpZ2h0XCIsICRhc2lkZS5oZWlnaHQoKSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoXCJ3cG9pLWFsaWduXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRmb3JtLmFkZENsYXNzKFwid3BvaS1hbGlnbi1lbGVtZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCAkY29udGVudC5oZWlnaHQoKSA8ICRmb3JtLmhlaWdodCgpICkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcyhcImhlaWdodFwiLCAkY29sLmhlaWdodCgpICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoXCJ3cG9pLWFsaWduXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250ZW50LmFkZENsYXNzKFwid3BvaS1hbGlnbi1lbGVtZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJChcIi53cG9pLWxheW91dC1mb3VyIC53cG9pLW9wdGluOm5vdCgud3BvaS1zbWFsbCkgPiAud3BvaS1jb250YWluZXI6bm90KC5ub2ltYWdlKTpub3QoLm5vY29udGVudClcIikuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAkYXNpZGUgPSAkdGhpcy5maW5kKFwiLndwb2ktYXNpZGUteGxcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbCA9ICR0aGlzLmZpbmQoXCIud3BvaS1hc2lkZS14bCA+IC53cG9pLWNvbnRhaW5lclwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkaW1hZ2UgPSAkdGhpcy5maW5kKFwiLndwb2ktaW1hZ2VcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9ICRhc2lkZS5maW5kKFwiLndwb2ktZm9ybVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkZm9ybSA9ICRhc2lkZS5maW5kKFwiZm9ybVwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudCA9ICRhc2lkZS5uZXh0KFwiLndwb2ktZWxlbWVudFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAkY29udGVudCA9ICR0aGlzLmZpbmQoXCIud3BvaS1jb250ZW50XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICggJGNvbnRlbnQuaGVpZ2h0KCkgPiAkY29sLmhlaWdodCgpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbC5jc3MoXCJoZWlnaHRcIiwgJGFzaWRlLmhlaWdodCgpICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5jc3MoXCJoZWlnaHRcIiwgJGNvbC5oZWlnaHQoKSAtICRpbWFnZS5oZWlnaHQoKSApO1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoXCJ3cG9pLWFsaWduXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRmb3JtLmFkZENsYXNzKFwid3BvaS1hbGlnbi1lbGVtZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCAkY29udGVudC5oZWlnaHQoKSA8ICRjb2wuaGVpZ2h0KCkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKFwiaGVpZ2h0XCIsICRhc2lkZS5oZWlnaHQoKSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKFwid3BvaS1hbGlnblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkY29udGVudC5hZGRDbGFzcyhcIndwb2ktYWxpZ24tZWxlbWVudFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBfYmluZF90b19tZXNzYWdlX2VkaXRvcjogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdmFyIHdhaXRGb3JUaW55TUNFID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiB0aW55bWNlID09PSBcIm9iamVjdFwiICApe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwod2FpdEZvclRpbnlNQ0UpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGlueW1jZS5vbihcIkFkZEVkaXRvclwiLCBmdW5jdGlvbihhcmdzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICdvcHRpbl9tZXNzYWdlJyA9PT0gYXJncy5lZGl0b3IuZ2V0UGFyYW0oXCJpZFwiKSApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1lc3NhZ2VfZWRpdG9yID0gYXJncy5lZGl0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJ3N1Y2Nlc3NfbWVzc2FnZScgPT09IGFyZ3MuZWRpdG9yLmdldFBhcmFtKFwiaWRcIikgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWNjZXNzX2VkaXRvciA9IGFyZ3MuZWRpdG9yO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MuZWRpdG9yLm9uKFwibG9hZENvbnRlbnRcIiwgZnVuY3Rpb24oZSl7IC8vIHNldCBtYXggd2lkdGggb2YgYm9keSBlbGVtZW50IGluc2lkZSBpZnJhbWUgdG8gMTAwJVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uc2V0U3R5bGUoXCJ0aW55bWNlXCIsIFwibWF4V2lkdGhcIiwgXCIxMDAlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW4uRXZlbnRzLm9mZihcIm5hdmlnYXRlXCIsIHNlbGYucmVmcmVzaF9lZGl0b3IsIHNlbGYgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW4uRXZlbnRzLm9uKFwibmF2aWdhdGVcIiwgc2VsZi5yZWZyZXNoX2VkaXRvciwgc2VsZiApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLmVkaXRvci5vbignY2hhbmdlIEFkZFVuZG8ga2V5dXAnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJ29wdGluX21lc3NhZ2UnID09PSBhcmdzLmVkaXRvci5nZXRQYXJhbShcImlkXCIpIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9wdGluLnNldChcIm9wdGluX21lc3NhZ2VcIiwgdGhpcy5nZXRDb250ZW50KCkgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJ3N1Y2Nlc3NfbWVzc2FnZScgPT09IGFyZ3MuZWRpdG9yLmdldFBhcmFtKFwiaWRcIikgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwic3VjY2Vzc19tZXNzYWdlXCIsIHRoaXMuZ2V0Q29udGVudCgpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hcHBseV9wcm9wZXJfcHJldmlld19jbGFzc2VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXBwbHlfcHJvcGVyX3ByZXZpZXdfY2xhc3NlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sIDUwKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICByZWZyZXNoX2VkaXRvcjogZnVuY3Rpb24oYXJncywgbmFtZSl7XHJcbiAgICAgICAgICAgIGlmKCAnZGVzaWduJyAhPT0gbmFtZSB8fCAhXy5pc09iamVjdCggdGhpcy5tZXNzYWdlX2VkaXRvciApICApIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlX2VkaXRvci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdGlueW1jZS5pbml0KHRoaXMubWVzc2FnZV9lZGl0b3Iuc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAkKHRoaXMubWVzc2FnZV9lZGl0b3Iuc2V0dGluZ3Muc2VsZWN0b3IgKyBcIl9pZnJcIikuaGVpZ2h0KDI0MCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN1Y2Nlc3NfZWRpdG9yLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB0aW55bWNlLmluaXQodGhpcy5zdWNjZXNzX2VkaXRvci5zZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICQodGhpcy5zdWNjZXNzX2VkaXRvci5zZXR0aW5ncy5zZWxlY3RvciArIFwiX2lmclwiKS5oZWlnaHQoMjQwKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBfY3JlYXRlX2Nzc19lZGl0b3I6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuY3NzX2VkaXRvciA9IGFjZS5lZGl0KFwib3B0aW5fY3VzdG9tX2Nzc1wiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY3NzX2VkaXRvci5nZXRTZXNzaW9uKCkuc2V0TW9kZShcImFjZS9tb2RlL2Nzc1wiKTtcclxuICAgICAgICAgICAgdGhpcy5jc3NfZWRpdG9yLnNldFRoZW1lKFwiYWNlL3RoZW1lL3NvbGFyaXplZF9saWdodFwiKTtcclxuICAgICAgICAgICAgdGhpcy5jc3NfZWRpdG9yLmdldFNlc3Npb24oKS5zZXRVc2VXcmFwTW9kZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5jc3NfZWRpdG9yLmdldFNlc3Npb24oKS5zZXRVc2VXb3JrZXIoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmNzc19lZGl0b3Iuc2V0U2hvd1ByaW50TWFyZ2luKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5jc3NfZWRpdG9yLnJlbmRlcmVyLnNldFNob3dHdXR0ZXIodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3NzX2VkaXRvci5zZXRIaWdobGlnaHRBY3RpdmVMaW5lKHRydWUpO1xyXG4gICAgICAgICAgICAvL3RoaXMuY3NzX2VkaXRvci5vbihcImNoYW5nZVwiLCAkLnByb3h5KHRoaXMudXBkYXRlX2N1c3RvbV9jc3MsIHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy5jc3NfZWRpdG9yLm9uKFwiYmx1clwiLCAkLnByb3h5KHRoaXMudXBkYXRlX2N1c3RvbV9jc3MsIHRoaXMpKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBfY3JlYXRlX2NvbG9yX3BpY2tlcnM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy4kKFwiLm9wdGluX2NvbG9yX3BpY2tlclwiKS53cENvbG9yUGlja2VyKHtcclxuICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24oZXZlbnQsIHVpKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWV0aG9kX25hbWUgPSBcInVwZGF0ZV9cIiArIHRoaXMuaWQucmVwbGFjZShcIm9wdGluX1wiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiggdHlwZW9mIHNlbGZbbWV0aG9kX25hbWVdID09PSBcImZ1bmN0aW9uXCIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmW21ldGhvZF9uYW1lXShldmVudCwgdWkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbmRlcl9wcmV2aWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk1ldGhvZCBcIiwgbWV0aG9kX25hbWUsIFwiIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiQoXCIudWktZHJhZ2dhYmxlLWhhbmRsZVwiKS5jbGljayhmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7fSk7XHJcblxyXG4gICAgICAgICAgICAvKiQoXCIjb3B0aW5fY29sb3JfcGFsZXR0ZXNcIikuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgICB3aWR0aDogXCIxNTBweFwiLFxyXG4gICAgICAgICAgICAgdGVtcGxhdGVTZWxlY3Rpb246IHRoaXMucGFsZXR0ZV9kcm9wZG93bl90ZW1wbGF0ZSxcclxuICAgICAgICAgICAgIHRlbXBsYXRlUmVzdWx0OnRoaXMucGFsZXR0ZV9kcm9wZG93bl90ZW1wbGF0ZVxyXG4gICAgICAgICAgICAgfSkub24oXCJjaGFuZ2VcIiwgJC5wcm94eShzZWxmLnVwZGF0ZV9jb2xvcl9wYWxldHRlLCB0aGlzKSk7Ki9cclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfY3VzdG9tX2NzczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJjc3NcIiwgdGhpcy5jc3NfZWRpdG9yLmdldFZhbHVlKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFwcGx5X2N1c3RvbV9jc3M6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBpZiggZSApIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICQoZS50YXJnZXQpLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZV9jdXN0b21fY3NzKCk7XHJcbiAgICAgICAgICAgIHZhciAkc3R5bGVzX2VsID0gJChcIiNvcHRpbi1jdXN0b20tc3R5bGVzXCIpLmxlbmd0aCA/ICQoXCIjb3B0aW4tY3VzdG9tLXN0eWxlc1wiKSA6ICQoJzxzdHlsZSBpZD1cIm9wdGluLWN1c3RvbS1zdHlsZXNcIj4nKS5hcHBlbmRUbyhcImJvZHlcIiksXHJcbiAgICAgICAgICAgICAgICBjc3Nfc3RyaW5nID0gdGhpcy5jc3NfZWRpdG9yLmdldFZhbHVlKCk7XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IGFqYXh1cmwsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnaW5jX29wdF9wcmVwYXJlX2N1c3RvbV9jc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzczogY3NzX3N0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICBfYWpheF9ub25jZTogJChcIiNvcHRpbl9hcHBseV9jdXN0b21fY3NzXCIpLmRhdGEoXCJub25jZVwiKSxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpbl9pZDogb3B0aW5fdmFycy5jdXJyZW50LmRhdGEub3B0aW5faWRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCByZXMgJiYgcmVzLnN1Y2Nlc3MgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0eWxlc19lbC5odG1sKCByZXMuZGF0YSAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBlICkgJChlLnRhcmdldCkucHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGUgKSAkKGUudGFyZ2V0KS5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldF9sYXlvdXRfY29sb3JzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiggIV8uaXNUcnVlKCB0aGlzLm1vZGVsLmdldChcImNvbG9ycy5jdXN0b21pemVcIikgKSApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFsZXR0ZXMuZmluZFdoZXJlKHtfaWQ6IHRoaXMubW9kZWwuZ2V0KFwiY29sb3JzLnBhbGV0dGVcIil9KS50b0pTT04oKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwudG9KU09OKCkuY29sb3JzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0X3N0eWxhYmxlX2VsZW1lbnRzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbWFpbl9iYWNrZ3JvdW5kOiAnLndwb2ktaHVzdGxlIC53cG9pLW9wdGluJyxcclxuICAgICAgICAgICAgICAgIHRpdGxlX2NvbG9yOiAnLndwb2ktaHVzdGxlIGgyLndwb2ktdGl0bGUnLFxyXG4gICAgICAgICAgICAgICAgbGlua19jb2xvcjogJy53cG9pLWh1c3RsZSAud3BvaS1tZXNzYWdlIHAgYScsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50X2NvbG9yOiAnLndwb2ktaHVzdGxlIC53cG9pLW1lc3NhZ2UsIC53cG9pLWh1c3RsZSAud3BvaS1tZXNzYWdlIHAnLFxyXG4gICAgICAgICAgICAgICAgbGlua19ob3Zlcl9jb2xvcjogJy53cG9pLWh1c3RsZSAud3BvaS1tZXNzYWdlIHAgYTpob3ZlcicsXHJcbiAgICAgICAgICAgICAgICBmb3JtX2JhY2tncm91bmQ6ICcud3BvaS1odXN0bGUgLndwb2ktZm9ybScsXHJcbiAgICAgICAgICAgICAgICBmaWVsZHNfYmFja2dyb3VuZDogJy53cG9pLWh1c3RsZSBmb3JtIC53cG9pLWVsZW1lbnQnLFxyXG4gICAgICAgICAgICAgICAgbGFiZWxfY29sb3I6ICcud3BvaS1odXN0bGUgZm9ybSBsYWJlbCwgLndwb2ktaHVzdGxlIGZvcm0gbGFiZWwgc3BhbiwgLndwb2ktaHVzdGxlIGZvcm0gd3BvaS1pY29uJyxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbl9iYWNrZ3JvdW5kOiAnLndwb2ktaHVzdGxlIGZvcm0gYnV0dG9uJyxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbl9sYWJlbDogJy53cG9pLWh1c3RsZSBmb3JtIGJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICBmaWVsZHNfY29sb3I6ICcud3BvaS1odXN0bGUgZm9ybSA+IC53cG9pLWVsZW1lbnQgaW5wdXQnLFxyXG4gICAgICAgICAgICAgICAgZXJyb3JfY29sb3I6ICcud3BvaS1odXN0bGUgZm9ybSAuaS1lcnJvciwgLndwb2ktaHVzdGxlIGZvcm0gLmktZXJyb3IgKyBzcGFuJyxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbl9ob3Zlcl9iYWNrZ3JvdW5kOiAnLndwb2ktaHVzdGxlIGZvcm0gYnV0dG9uOmhvdmVyOm5vdCg6Zm9jdXMpOm5vdCg6YWN0aXZlKSwgLndwb2ktaHVzdGxlIGZvcm0gYnV0dG9uOmFjdGl2ZSwgLndwb2ktaHVzdGxlIGZvcm0gYnV0dG9uOmZvY3VzJyxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbl9ob3Zlcl9sYWJlbDogJy53cG9pLWh1c3RsZSBmb3JtIGJ1dHRvbjpob3Zlcjpub3QoOmZvY3VzKTpub3QoOmFjdGl2ZSknLFxyXG4gICAgICAgICAgICAgICAgY2hlY2ttYXJrX2NvbG9yOiAnLndwb2ktaHVzdGxlIC53cG9pLXN1Y2Nlc3MtbWVzc2FnZSAud3BvaS1pY29uJyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NfY29sb3I6ICcud3BvaS1odXN0bGUgLndwb2ktc3VjY2Vzcy1tZXNzYWdlIC53cG9pLWNvbnRlbnQsIC53cG9pLWh1c3RsZSAud3BvaS1zdWNjZXNzLW1lc3NhZ2UgLndwb2ktY29udGVudCBwJyxcclxuICAgICAgICAgICAgICAgIGNsb3NlX2NvbG9yOiAnYS5pbmMtb3B0LWNsb3NlLXBvcHVwJyxcclxuICAgICAgICAgICAgICAgIG5zYV9jb2xvcjogJy53cG9pLW5zYSA+IGEsIC53cG9pLW5zYSA+IGEuaW5jX29wdF9uZXZlcl9zZWVfYWdhaW4nLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmxheV9iYWNrZ3JvdW5kOiAnLndwb2ktcG9wdXAtb3ZlcmxheScsXHJcbiAgICAgICAgICAgICAgICBjbG9zZV9ob3Zlcl9jb2xvcjogJ2EuaW5jLW9wdC1jbG9zZS1wb3B1cDpob3ZlciwgYS5pbmMtb3B0LWNsb3NlLXBvcHVwOmFjdGl2ZSwgYS5pbmMtb3B0LWNsb3NlLXBvcHVwOmZvY3VzJyxcclxuICAgICAgICAgICAgICAgIG5zYV9ob3Zlcl9jb2xvcjogJy53cG9pLW5zYSA+IGE6aG92ZXIsIC53cG9pLW5zYSA+IGEuaW5jX29wdF9uZXZlcl9zZWVfYWdhaW46aG92ZXInLFxyXG4gICAgICAgICAgICAgICAgcmFkaW9fYmFja2dyb3VuZDogJy53cG9pLWh1c3RsZSBmb3JtIC53cG9pLW1jZy1vcHRpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdICsgbGFiZWw6YmVmb3JlJyxcclxuICAgICAgICAgICAgICAgIHJhZGlvX2NoZWNrZWRfYmFja2dyb3VuZDogJy53cG9pLWh1c3RsZSBmb3JtIC53cG9pLW1jZy1vcHRpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdOmNoZWNrZWQgKyBsYWJlbDphZnRlcicsXHJcbiAgICAgICAgICAgICAgICBjaGVja2JveF9iYWNrZ3JvdW5kOiAnLndwb2ktaHVzdGxlIGZvcm0gLndwb2ktbWNnLW9wdGlvbiBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0gKyBsYWJlbDpiZWZvcmUnLFxyXG4gICAgICAgICAgICAgICAgY2hlY2tib3hfY2hlY2tlZF9jb2xvcjogJy53cG9pLWh1c3RsZSBmb3JtIC53cG9pLW1jZy1vcHRpb24gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQgKyBsYWJlbDpiZWZvcmUnLFxyXG4gICAgICAgICAgICAgICAgbWNnX3RpdGxlX2NvbG9yOiAnLndwb2ktaHVzdGxlIGZvcm0gLndwb2ktbWNnLWxpc3QtbmFtZSwgLndwb2ktaHVzdGxlIC53cG9pLXN1Ym1pdC1mYWlsdXJlJyxcclxuICAgICAgICAgICAgICAgIG1jZ19sYWJlbF9jb2xvcjogJy53cG9pLWh1c3RsZSBmb3JtIC53cG9pLW1jZy1vcHRpb24gaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdICsgbGFiZWwsIC53cG9pLWh1c3RsZSBmb3JtIC53cG9pLW1jZy1vcHRpb24gaW5wdXRbdHlwZT1cInJhZGlvXCJdICsgbGFiZWwnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfc3R5bGVzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5nZXRfbGF5b3V0X2NvbG9ycygpLFxyXG4gICAgICAgICAgICAgICAgc3R5bGVzID0gXCJcIixcclxuICAgICAgICAgICAgICAgICRzdHlsZXNfZWwgPSAkKFwiI29wdGluLXByZXZpZXctc3R5bGVzXCIpLmxlbmd0aCA/ICQoXCIjb3B0aW4tcHJldmlldy1zdHlsZXNcIikgOiAkKCc8c3R5bGUgaWQ9XCJvcHRpbi1wcmV2aWV3LXN0eWxlc1wiPicpLmFwcGVuZFRvKFwiYm9keVwiKTtcclxuXHJcbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLmdldF9zdHlsYWJsZV9lbGVtZW50cygpLCBmdW5jdGlvbihlbCwgaW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yX3R5cGUgPSBpbmRleC5pbmRleE9mKFwiYmFja2dyb3VuZFwiKSAhPT0gLTEgPyAnYmFja2dyb3VuZCcgOiAnY29sb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gY29sb3JzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIHN0eWxlcyArPSAoIGVsICsgXCJ7IFwiICsgY29sb3JfdHlwZSArIFwiOiBcIiArIGNvbG9yICtcIjt9IFwiICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJHN0eWxlc19lbC5odG1sKCBzdHlsZXMgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9ib3JkZXJzX3N0eWxlOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgYm9yZGVycyA9IHRoaXMubW9kZWwudG9KU09OKCkuYm9yZGVycyxcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRzID0gdGhpcy5nZXRfc3R5bGFibGVfZWxlbWVudHMoKSxcclxuICAgICAgICAgICAgICAgIHN0eWxlcyA9IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAkc3R5bGVzX2VsID0gJChcIiNvcHRpbi1wcmV2aWV3LXN0eWxlcy1ib3JkZXJzXCIpLmxlbmd0aCA/ICQoXCIjb3B0aW4tcHJldmlldy1zdHlsZXMtYm9yZGVyc1wiKSA6ICQoJzxzdHlsZSBpZD1cIm9wdGluLXByZXZpZXctc3R5bGVzLWJvcmRlcnNcIj4nKS5hcHBlbmRUbyhcImJvZHlcIik7XHJcblxyXG4gICAgICAgICAgICAvL21haW4gY29udGFpbmVyIGJvcmRlclxyXG4gICAgICAgICAgICBzdHlsZXMgKz0gKCBlbGVtZW50cy5tYWluX2JhY2tncm91bmQgKyBcIntib3JkZXItcmFkaXVzOlwiICsgYm9yZGVycy5jb3JuZXJzX3JhZGl1cyArIFwicHg7fVwiICApO1xyXG5cclxuICAgICAgICAgICAgaWYoICdqb2luZWQnID09PSAgdGhpcy5tb2RlbC5nZXQoXCJib3JkZXJzXCIpLmdldCgnZmllbGRzX3N0eWxlJykgKXsgLy8gc2V0IGJvcmRlciB0byAwIGlmIGlucHV0IGFuZCBidXR0b24gYXJlIGpvaW5lZFxyXG4gICAgICAgICAgICAgICAgc3R5bGVzICs9ICggZWxlbWVudHMuZmllbGRzX2JhY2tncm91bmQgKyBcIntib3JkZXItcmFkaXVzOiAwcHg7fVwiICApO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVzICs9ICggZWxlbWVudHMuYnV0dG9uX2JhY2tncm91bmQgKyBcIntib3JkZXItcmFkaXVzOiAwcHg7fVwiICApO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHN0eWxlcyArPSAoIGVsZW1lbnRzLmZpZWxkc19iYWNrZ3JvdW5kICsgXCJ7Ym9yZGVyLXJhZGl1czpcIiArIGJvcmRlcnMuZmllbGRzX2Nvcm5lcnNfcmFkaXVzICsgXCJweDt9XCIgICk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZXMgKz0gKCBlbGVtZW50cy5idXR0b25fYmFja2dyb3VuZCArIFwie2JvcmRlci1yYWRpdXM6XCIgKyBib3JkZXJzLmJ1dHRvbl9jb3JuZXJzX3JhZGl1cyArIFwicHg7fVwiICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBtYWluIGNvbnRhaW5lciBkcm9wc2hhZG93XHJcbiAgICAgICAgICAgIGlmKF8uaXNUcnVlKCBib3JkZXJzLmRyb3Bfc2hhZG93ICkgKVxyXG4gICAgICAgICAgICAgICAgc3R5bGVzICs9ICggZWxlbWVudHMubWFpbl9iYWNrZ3JvdW5kICsgXCJ7Ym94LXNoYWRvdzogMCAwIFwiICsgYm9yZGVycy5kcm9wc2hhZG93X3ZhbHVlICtcInB4IFwiICsgYm9yZGVycy5zaGFkb3dfY29sb3IgKyBcIn1cIiAgKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgLy8gRm9ybSBGaWVsZHM6XHJcbiAgICAgICAgICAgIC8qaWYoXy5pc1RydWUoIGJvcmRlcnMucm91bmRlZF9mb3JtX2J1dHRvbiApKVxyXG4gICAgICAgICAgICAgICAgc3R5bGVzICs9ICggZWxlbWVudHMuYnV0dG9uX2xhYmVsICsgXCJ7Ym9yZGVyLXJhZGl1czpcIiAgKyAgXCIzNnB4ICFpbXBvcnRhbnQ7fVwiICApO1xyXG4gICAgICAgICAgICBpZihfLmlzVHJ1ZSggYm9yZGVycy5yb3VuZGVkX2Zvcm1fZmllbGRzICkgKVxyXG4gICAgICAgICAgICAgICAgc3R5bGVzICs9ICggZWxlbWVudHMuZmllbGRzX2JhY2tncm91bmQgKyBcIntib3JkZXItcmFkaXVzOlwiICArIFwiNXB4O31cIiAgKTsqL1xyXG5cclxuICAgICAgICAgICAgJHN0eWxlc19lbC5odG1sKCBzdHlsZXMgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9vcHRpbl9yb3VuZGVkX2Nvcm5lcnNfcmFkaW91czogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiYm9yZGVycy5jb3JuZXJzX3JhZGl1c1wiLCAkKGUudGFyZ2V0KS52YWwoKSApO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcl9wcmV2aWV3KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfZmllbGRzX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJib3JkZXJzLmZpZWxkc19jb3JuZXJzX3JhZGl1c1wiLCAkKGUudGFyZ2V0KS52YWwoKSApO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcl9wcmV2aWV3KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfYnV0dG9uX3JvdW5kZWRfY29ybmVyc19yYWRpb3VzOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJib3JkZXJzLmJ1dHRvbl9jb3JuZXJzX3JhZGl1c1wiLCAkKGUudGFyZ2V0KS52YWwoKSApO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcl9wcmV2aWV3KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b2dnbGVfaW1hZ2VfbWVudTogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICQoXCIud3BvaS1tZWRpYS1vcHRpb25zLXdyYXAtbGlzdFwiKS50b2dnbGUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlbGV0ZV9pbWFnZTogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJpbWFnZV9zcmNcIiwgXCJcIik7XHJcbiAgICAgICAgICAgICQoXCIud3BvaS1pbWFnZS1wcmV2aWV3XCIpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoKScpO1xyXG4gICAgICAgICAgICAkKFwiLndwb2ktbWVkaWEtb3B0aW9uc1wiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoXCIud3BvaS1zZWxlY3QtbWVkaWEgLmJ1dHRvbi1naG9zdFwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoXCIud3BvaS1tZWRpYS1vcHRpb25zLXdyYXAtbGlzdFwiKS5oaWRlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcGVjaWZ5X2ltYWdlOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBTZXRzIGltYWdlIGZyb20gYXR0YWNobWVudFxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gcHJvcHNcclxuICAgICAgICAgICAgICogQHBhcmFtIGF0dGFjaG1lbnRcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHdwLm1lZGlhLmVkaXRvci5zZW5kLmF0dGFjaG1lbnQgPSBmdW5jdGlvbihwcm9wcywgYXR0YWNobWVudClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zZXQoXCJpbWFnZV9zcmNcIiwgYXR0YWNobWVudC51cmwpO1xyXG4gICAgICAgICAgICAgICAgJChcIi53cG9pLWltYWdlLXByZXZpZXdcIikuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybCgnICsgYXR0YWNobWVudC51cmwgKyAnKScpO1xyXG4gICAgICAgICAgICAgICAgJChcIi53cG9pLW1lZGlhLW9wdGlvbnNcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJChcIi53cG9pLXNlbGVjdC1tZWRpYSAuYnV0dG9uLWdob3N0XCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoXCIud3BvaS1tZWRpYS1vcHRpb25zLXdyYXAtbGlzdFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBTZXRzIGltYWdlIGZyb20gVXJsXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSBwcm9wc1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0gYXR0YWNobWVudFxyXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHdwLm1lZGlhLnN0cmluZy5wcm9wcyA9IGZ1bmN0aW9uKHByb3BzLCBhdHRhY2htZW50KXtcclxuICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwiaW1hZ2Vfc3JjXCIsIHByb3BzLnVybCk7XHJcbiAgICAgICAgICAgICAgICAkKFwiLndwb2ktaW1hZ2UtcHJldmlld1wiKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKCcgKyBwcm9wcy51cmwgKyAnKScpO1xyXG4gICAgICAgICAgICAgICAgJChcIi53cG9pLW1lZGlhLW9wdGlvbnNcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJChcIi53cG9pLXNlbGVjdC1tZWRpYSAuYnV0dG9uLWdob3N0XCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICQoXCIud3BvaS1tZWRpYS1vcHRpb25zLXdyYXAtbGlzdFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE9wZW5zIG1lZGlhIGJyb3dzZXJcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHdwLm1lZGlhLmVkaXRvci5vcGVuKFwib3B0aW5fc3BlY2lmeV9pbWFnZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfc2hhZG93X2NvbG9yOiBmdW5jdGlvbihldmVudCwgdWkpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImJvcmRlcnMuc2hhZG93X2NvbG9yXCIsIHVpLmNvbG9yLnRvQ1NTKCkgKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2Ryb3BzaGFkb3c6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImJvcmRlcnMuZHJvcF9zaGFkb3dcIiwgJChlLnRhcmdldCkuaXMoXCI6Y2hlY2tlZFwiKSApO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcl9wcmV2aWV3KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfZHJvcHNoYWRvd192YWx1ZTogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmKCAkKGUudGFyZ2V0KS52YWwoKSA9PSBcIlwiIHx8IHBhcnNlSW50KCQoZS50YXJnZXQpLnZhbCgpKSA9PSAwICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJib3JkZXJzLmRyb3Bfc2hhZG93XCIsIGZhbHNlICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImJvcmRlcnMuZHJvcF9zaGFkb3dcIiwgdHJ1ZSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiYm9yZGVycy5kcm9wc2hhZG93X3ZhbHVlXCIsICQoZS50YXJnZXQpLnZhbCgpICk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyX3ByZXZpZXcoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9pbWFnZV9sb2NhdGlvbjogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiaW1hZ2VfbG9jYXRpb25cIiwgZS50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX2ltYWdlX3N0eWxlOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoXCJpbWFnZV9zdHlsZVwiLCBlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfbG9jYXRpb246IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gcGFyc2VJbnQoIGUudGFyZ2V0LnZhbHVlLCAxMCApO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImZvcm1fbG9jYXRpb25cIiwgdmFsKTtcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJZiBsYXlvdXQgb3RoZXIgdGhhbiAwIGlzIHNlbGVjdGVkICBoaWRlIGltYWdlIGxvY2F0aW9uICdhYm92ZScgYW5kICdiZWxvdydcclxuICAgICAgICAgICAgICogYW5kIHNldCBpbWFnZV9sb2NhdGlvbiB0byAnbGVmdCdcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmKCB2YWwgIT0gMCl7XHJcbiAgICAgICAgICAgICAgICAkKFwiI29wdGluLWltYWdlLWxvY2F0aW9uLWFib3ZlLCBbZm9yPSdvcHRpbi1pbWFnZS1sb2NhdGlvbi1hYm92ZSddXCIpLmFkZENsYXNzKFwid3BvaS1oaWRkZW5cIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJChcIiNvcHRpbi1pbWFnZS1sb2NhdGlvbi1iZWxsb3csIFtmb3I9J29wdGluLWltYWdlLWxvY2F0aW9uLWJlbGxvdyddXCIpLmFkZENsYXNzKFwid3BvaS1oaWRkZW5cIikuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMuaW1hZ2VfbG9jYXRpb24gIT0gXCJsZWZ0XCIgJiYgdGhpcy5tb2RlbC5hdHRyaWJ1dGVzLmltYWdlX2xvY2F0aW9uICE9IFwicmlnaHRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiaW1hZ2VfbG9jYXRpb25cIiwgJ2xlZnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiW25hbWU9J29wdGluLWltYWdlLWxvY2F0aW9uJ11bdmFsdWU9J2xlZnQnXVwiKS5wcm9wKFwiY2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAkKFwiI29wdGluLWltYWdlLWxvY2F0aW9uLWFib3ZlLCBbZm9yPSdvcHRpbi1pbWFnZS1sb2NhdGlvbi1hYm92ZSddXCIpLnJlbW92ZUNsYXNzKFwid3BvaS1oaWRkZW5cIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJChcIiNvcHRpbi1pbWFnZS1sb2NhdGlvbi1iZWxsb3csIFtmb3I9J29wdGluLWltYWdlLWxvY2F0aW9uLWJlbGxvdyddXCIpLnJlbW92ZUNsYXNzKFwid3BvaS1oaWRkZW5cIikuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVfaW5wdXRfaWNvbnM6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnNldChcImlucHV0X2ljb25zXCIsIGUudGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZV9vcHRpb25hbF9lbGVtZW50czogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIHZhciB2YWxzID0gdGhpcy5tb2RlbC5nZXQoXCJlbGVtZW50c1wiKTtcclxuICAgICAgICAgICAgaWYoIGUudGFyZ2V0LmNoZWNrZWQgKXtcclxuICAgICAgICAgICAgICAgIHZhbHMucHVzaCggZS50YXJnZXQudmFsdWUgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiZWxlbWVudHNcIiwgdmFscykgO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC50cmlnZ2VyKFwiY2hhbmdlXCIpOyAvLyBleHBsaWNpdGx5IHRyaWdnZXIgY2hhbmdlIHNpbmNlIHRoZSB2YWx1ZSBpcyBhcnJheVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KFwiZWxlbWVudHNcIiwgXy53aXRob3V0KCB2YWxzLCBlLnRhcmdldC5uYW1lICkgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgX3Nob3dfYXJnczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoIFwibWFpbGNoaW1wXCIgPT09IE9wdGluLnN0ZXAuc2VydmljZXMubW9kZWwuZ2V0KFwib3B0aW5fcHJvdmlkZXJcIilcclxuICAgICAgICAgICAgICAgICYmICFPcHRpbi5zdGVwLnNlcnZpY2VzLnByb3ZpZGVyX2FyZ3MuaXNFbXB0eSgpXHJcbiAgICAgICAgICAgICAgICAmJiBcImhpZGRlblwiICE9PSBPcHRpbi5zdGVwLnNlcnZpY2VzLnByb3ZpZGVyX2FyZ3MuZ2V0KFwiZ3JvdXBcIikuZm9ybV9maWVsZFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KSggalF1ZXJ5ICk7XHJcbiIsIihmdW5jdGlvbiggJCApIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIE9wdGluLlZpZXcuRGlzcGxheV9UcmlnZ2VycyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKCQuZXh0ZW5kKCB0cnVlLCB7fSwgT3B0aW4uVmlldy5UZW1wbGF0ZV9NaXhpbiwge1xyXG4gICAgICAgIHRlbXBsYXRlOiBPcHRpbi50ZW1wbGF0ZShcIndwb2ktd2l6YXJkLXNldHRpbmdzLXRyaWdnZXJzLXRlbXBsYXRlXCIpLFxyXG4gICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAnY2xpY2sgLndwb2ktdHJpZ2dlcnMtdGFicyBsYWJlbCc6IFwiY2hhbmdlX3RhYlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiggb3B0cyApe1xyXG4gICAgICAgICAgICB0aGlzLmVsID0gb3B0cy5lbDtcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gb3B0cy50eXBlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyggdGhpcy5tb2RlbCwgXCJjaGFuZ2U6XCIgKyB0aGlzLnR5cGUgKyBcIi50cmlnZ2VyX29uX2FkYmxvY2tcIiwgIHRoaXMuaGlkZV9hZGJsb2NrX29wdGlvbnNfb25fdG9nZ2xlKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy4kZWwuaHRtbCggdGhpcy50ZW1wbGF0ZSggdGhpcy5nZXRfZGF0YSgpICkgKTtcclxuICAgICAgICAgICAgdGhpcy5oaWRlX2FkYmxvY2tfb3B0aW9uc19vbl90b2dnbGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRfZGF0YTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTtcclxuICAgICAgICAgICAgZGF0YS50eXBlID0gdGhpcy50eXBlO1xyXG4gICAgICAgICAgICBkYXRhLnNob3J0Y29kZV9pZCA9IHRoaXMubW9kZWwuZ2V0KFwic2hvcnRjb2RlX2lkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gXy5leHRlbmQoIHt9LCBkYXRhLCB0aGlzLm1vZGVsLmdldCggdGhpcy50eXBlKS50b0pTT04oKSApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlX3RhYjogZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSB0aGlzLiQoZXZlbnQudGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgICR0aGlzX3RhYiA9ICR0aGlzLnBhcmVudChcImxpXCIpLFxyXG4gICAgICAgICAgICAgICAgJHRoaXNfY29udGVudCA9IHRoaXMuJCggJHRoaXMuYXR0cihcImhyZWZcIikpLFxyXG4gICAgICAgICAgICAgICAgJHJhZGlvID0gJHRoaXMuZmluZChcImlucHV0W3R5cGU9J3JhZGlvJ11cIik7XHJcbiAgICAgICAgICAgIHRoaXMuJChcIi53cG9pLXRyaWdnZXJzLXRhYnMgbGlcIikucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgICAgICAgICB0aGlzLiQoXCIud3BvaS10cmlnZ2Vycy10YWItY29udGVudFwiKS5yZW1vdmVDbGFzcyhcImN1cnJlbnRcIik7XHJcblxyXG4gICAgICAgICAgICAkdGhpc190YWIuYWRkQ2xhc3MoXCJjdXJyZW50XCIpO1xyXG4gICAgICAgICAgICAkdGhpc19jb250ZW50LmFkZENsYXNzKFwiY3VycmVudFwiKTtcclxuICAgICAgICAgICAgJHJhZGlvLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoIHRoaXMudHlwZSArXCIuYXBwZWFyX2FmdGVyXCIsICAkcmFkaW8udmFsKCkgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhpZGVfYWRibG9ja19vcHRpb25zX29uX3RvZ2dsZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoIF8uaXNUcnVlKCB0aGlzLm1vZGVsLmdldCggdGhpcy50eXBlICsgXCIudHJpZ2dlcl9vbl9hZGJsb2NrXCIgKSApICl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIud3BvaS1wb3B1cC10cmlnZ2VyLW9uLWFkYmxvY2stb3B0aW9uXCIpLnNob3coKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiQoXCIud3BvaS1wb3B1cC10cmlnZ2VyLW9uLWFkYmxvY2stb3B0aW9uXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pICk7XHJcbn0oalF1ZXJ5KSk7IiwiKGZ1bmN0aW9uKCAkICkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgQ29uZGl0aW9ucyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcclxuICAgICAgICB0ZW1wbGF0ZTogT3B0aW4udGVtcGxhdGUoXCJ3cG9pLXdpemFyZC1wb3B1cC1jb25kaXRpb25zLWhhbmRsZVwiKSxcclxuICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICdjbGljayAud3BvaS1jb25kaXRpb25zLWxpc3QtaGFuZGxlcyAud3BvaS1jb25kaXRpb24taXRlbTpub3QoLmRpc2FibGVkKSc6ICd0b2dnbGVfY29uZGl0aW9uJyxcclxuICAgICAgICAgICdjbGljayAud3BvaS1jb25kaXRpb25zLWxpc3QtaGFuZGxlcyAud3BvaS1jb25kaXRpb24taXRlbTpub3QoLmRpc2FibGVkKSBzcGFuJzogJ3RvZ2dsZV9jb25kaXRpb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0cyl7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IG9wdHMudHlwZTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVfY29uZGl0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgIHZhciBjb25kaXRpb25zID0gdGhpcy5tb2RlbC5nZXQoIHRoaXMudHlwZSApLmdldCggXCJjb25kaXRpb25zXCIgKTtcclxuXHJcbiAgICAgICAgICAgIF8uZWFjaCggT3B0aW4uVmlldy5Db25kaXRpb25zLCBmdW5jdGlvbihjb25kaXRpb24sIGlkKXtcclxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGUgPSB0aGlzLnRlbXBsYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5nZXRfbGFiZWwoIGlkICksXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGNpZDogdGhpcy5nZXRfY29uZGl0aW9uX2NpZCggaWQgKSxcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVfY2xhc3M6IGNvbmRpdGlvbnNbIGlkIF0gPyBcImFkZGVkXCIgOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uX2NsYXNzOiBjb25kaXRpb25zWyBpZCBdID8gXCJ3cG9pLXJlbW92ZVwiIDogXCJ3cG9pLWFkZFwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgaGFuZGxlXHJcbiAgICAgICAgICAgICAgICB0aGlzLiQoJy53cG9pLWNvbmRpdGlvbnMtbGlzdC1oYW5kbGVzJykuYXBwZW5kKCBoYW5kbGUgICk7XHJcblxyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIF8uZWFjaCggY29uZGl0aW9ucywgZnVuY3Rpb24oY29uZGl0aW9uLCBpZCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZF9jb25kaXRpb25fcGFuZWwoaWQpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldF9jb25kaXRpb25fY2lkOiBmdW5jdGlvbihpZCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGUgKyBcIl9cIiArIGlkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0X2xhYmVsOiBmdW5jdGlvbihpZCl7XHJcbiAgICAgICAgICAgICB2YXIgdHlwZV9uYW1lID0gb3B0aW5fdmFycy5tZXNzYWdlcy5zZXR0aW5nc1sgdGhpcy50eXBlIF0gPyBvcHRpbl92YXJzLm1lc3NhZ2VzLnNldHRpbmdzWyB0aGlzLnR5cGUgXSA6IHRoaXMudHlwZTtcclxuICAgICAgICAgICAgIHJldHVybiBvcHRpbl92YXJzLm1lc3NhZ2VzLmNvbmRpdGlvbnNbIGlkIF0gPyBvcHRpbl92YXJzLm1lc3NhZ2VzLmNvbmRpdGlvbnNbIGlkXS5yZXBsYWNlKFwie3R5cGVfbmFtZX1cIiwgdHlwZV9uYW1lKSA6IGlkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFrZV9jYXJlX29mX2Nvbm5lY3RlX2NvbmRpdGlvbnM6IGZ1bmN0aW9uKHRoaXNfY29uZGl0aW9uKXtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIERpc2FibGUgdGhvc2UgY29uZGl0aW9ucyB3aGljaCBjYW4ndCBnbyB3aXRoIHRoaXMgY29uZGl0aW9uXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBpZiggdGhpc19jb25kaXRpb24uZGlzYWJsZSAmJiB0aGlzX2NvbmRpdGlvbi5kaXNhYmxlLmxlbmd0aCApe1xyXG4gICAgICAgICAgICAgICAgXy5lYWNoKCB0aGlzX2NvbmRpdGlvbi5kaXNhYmxlLCBmdW5jdGlvbihkaXNhYmxlX2lkLCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRkaXNhYmxlX2hhbmRsZSA9IHRoaXMuJCggXCIjXCIgKyB0aGlzLmdldF9jb25kaXRpb25fY2lkKCBkaXNhYmxlX2lkICkgKTtcclxuICAgICAgICAgICAgICAgICAgICAkZGlzYWJsZV9oYW5kbGUudG9nZ2xlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWRkcyBjb25kaXRpb24gdG8gb3B0aW4gdHlwZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGlkXHJcbiAgICAgICAgICogQHBhcmFtIHRoaXNfY29uZGl0aW9uXHJcbiAgICAgICAgICogQHJldHVybnMgeyp8e319XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYWRkX2NvbmRpdGlvbjogZnVuY3Rpb24gKGlkLCAkaGFuZGxlKSB7XHJcbiAgICAgICAgICAgIHZhciB0aGlzX2NvbmRpdGlvbiA9IHRoaXMuYWRkX2NvbmRpdGlvbl9wYW5lbChpZCk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBBZGQgY29uZGl0aW9uIGVsZW1lbnRcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICRoYW5kbGUuYWRkQ2xhc3MoXCJhZGRlZFwiKTtcclxuICAgICAgICAgICAgJGhhbmRsZS5maW5kKFwic3BhblwiKS5hZGRDbGFzcyhcIndwb2ktcmVtb3ZlXCIpO1xyXG4gICAgICAgICAgICAkaGFuZGxlLmZpbmQoXCJzcGFuXCIpLnJlbW92ZUNsYXNzKFwid3BvaS1hZGRcIik7XHJcblxyXG4gICAgICAgICAgICB2YXIgY29uZGl0aW9ucyA9IHRoaXMubW9kZWwuZ2V0KHRoaXMudHlwZSArIFwiLmNvbmRpdGlvbnNcIikgfHwge307XHJcbiAgICAgICAgICAgIGNvbmRpdGlvbnNbaWRdID0gdGhpc19jb25kaXRpb24uZ2V0X2NvbmZpZ3MoKTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5nZXQodGhpcy50eXBlKS5zZXQoXCJjb25kaXRpb25zXCIsIGNvbmRpdGlvbnMpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZGl0aW9ucztcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlbW92ZXMgY29uZGl0b24gZnJvbSBvcHRpbiB0eXBlXHJcbiAgICAgICAgICogQHBhcmFtIGlkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVtb3ZlX2NvbmRpdGlvbjogZnVuY3Rpb24gKGlkLCB0aGlzX2NvbmRpdGlvbiwgJGhhbmRsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRha2VfY2FyZV9vZl9jb25uZWN0ZV9jb25kaXRpb25zKCB0aGlzX2NvbmRpdGlvbiApO1xyXG5cclxuICAgICAgICAgICAgdGhpc19jb25kaXRpb24ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZV9jb25kaXRpb25zWyBpZCBdO1xyXG4gICAgICAgICAgICAkaGFuZGxlLnJlbW92ZUNsYXNzKFwiYWRkZWRcIik7XHJcbiAgICAgICAgICAgICRoYW5kbGUuZmluZChcInNwYW5cIikucmVtb3ZlQ2xhc3MoXCJ3cG9pLXJlbW92ZVwiKTtcclxuICAgICAgICAgICAgJGhhbmRsZS5maW5kKFwic3BhblwiKS5hZGRDbGFzcyhcIndwb2ktYWRkXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNvbmRpdGlvbnMgPSB0aGlzLm1vZGVsLmdldCh0aGlzLnR5cGUgKyBcIi5jb25kaXRpb25zXCIpIHx8IHt9O1xyXG4gICAgICAgICAgICBkZWxldGUgY29uZGl0aW9uc1tpZF07XHJcbiAgICAgICAgICAgIHRoaXMubW9kZWwuZ2V0KHRoaXMudHlwZSkuc2V0KFwiY29uZGl0aW9uc1wiLCBjb25kaXRpb25zLCB7c2lsZW50OiB0cnVlfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZGQgY29uZGl0aW9uIHBhbm5lbFxyXG4gICAgICAgICAqIFxyXG4gICAgICAgICAqIEBwYXJhbSBpZFxyXG4gICAgICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFkZF9jb25kaXRpb25fcGFuZWw6IGZ1bmN0aW9uICggaWQgKSB7XHJcbiAgICAgICAgICAgIHZhciB0aGlzX2NvbmRpdGlvbiA9IHRoaXMuYWN0aXZlX2NvbmRpdGlvbnNbaWRdID0gbmV3IE9wdGluLlZpZXcuQ29uZGl0aW9uc1tpZF0oe1xyXG4gICAgICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwuZ2V0KCB0aGlzLnR5cGUgKSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnRha2VfY2FyZV9vZl9jb25uZWN0ZV9jb25kaXRpb25zKCB0aGlzX2NvbmRpdGlvbiApO1xyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEFwcGVuZCBjb25kaXRpb24gcGFuZWxcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuJCgnLndwb2ktY29uZGl0aW9uLWl0ZW1zJykuYXBwZW5kKHRoaXNfY29uZGl0aW9uLiRlbCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzX2NvbmRpdGlvbjtcclxuICAgICAgICB9LCAvKipcclxuICAgICAgICAgKiBUb2dnbGVzIGVhY2ggb2YgdGhlIGNvbmRpdGlvbnNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdG9nZ2xlX2NvbmRpdGlvbjogZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuJChlLnRhcmdldC5pZCkuZGF0YShcImlkXCIpIHx8IHRoaXMuJChlLnRhcmdldCkuY2xvc2VzdChcIi53cG9pLWNvbmRpdGlvbi1pdGVtXCIpLmRhdGEoXCJpZFwiKSxcclxuICAgICAgICAgICAgICAgICRoYW5kbGUgPSB0aGlzLiQoJyMnICsgdGhpcy5nZXRfY29uZGl0aW9uX2NpZCggaWQgKSApLFxyXG4gICAgICAgICAgICAgICAgdGhpc19jb25kaXRpb24gPSB0aGlzLmFjdGl2ZV9jb25kaXRpb25zWyBpZCBdO1xyXG5cclxuICAgICAgICAgICAgaWYoIHRoaXNfY29uZGl0aW9uICl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZV9jb25kaXRpb24oaWQsIHRoaXNfY29uZGl0aW9uLCAkaGFuZGxlICk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRfY29uZGl0aW9uKGlkLCAkaGFuZGxlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgT3B0aW4uVmlldy5EaXNwbGF5X1RhYiA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKCQuZXh0ZW5kKHRydWUsIHt9LCBPcHRpbi5WaWV3LlRlbXBsYXRlX01peGluLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IE9wdGluLnRlbXBsYXRlKFwid3BvaS13aXphcmQtc2V0dGluZ3NfdGVtcGxhdGVcIiksXHJcbiAgICAgICAgd2lkZ2V0X21lc3NhZ2VfdHBsOiBPcHRpbi50ZW1wbGF0ZShcIndwb2ktd2l6YXJkLXNldHRpbmdzX3dpZGdldF90ZW1wbGF0ZVwiKSxcclxuICAgICAgICBlbDogXCIjd3BvaS13aXphcmQtc2V0dGluZ3NcIixcclxuICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgXCJjbGljayAubmV4dC1idXR0b24gYS5uZXh0XCI6IFwic3VibWl0X2FuZF9zYXZlXCIsXHJcbiAgICAgICAgICAgIFwiY2xpY2sgLm5leHQtYnV0dG9uIGEucHJldmlvdXNcIjogXCJnb190b19kZXNpZ25cIixcclxuICAgICAgICAgICAgXCJjbGljayAuY2FuLW9wZW4uZGlzcGxheS1zZXR0aW5ncy1pY29uIHNwYW4ub3BlbiBpLmRldi1pY29uXCI6IFwidG9nZ2xlX2JveGVzXCIsXHJcbiAgICAgICAgICAgIFwiY2hhbmdlICN3cG9pLWFmdGVyLWNvbnRlbnQtc3RhdGUtdG9nZ2xlXCI6IFwib3B0aW5fdHlwZV90b2dnbGVcIixcclxuICAgICAgICAgICAgXCJjaGFuZ2UgI3dwb2ktcG9wdXAtc3RhdGUtdG9nZ2xlXCI6IFwib3B0aW5fdHlwZV90b2dnbGVcIixcclxuICAgICAgICAgICAgXCJjaGFuZ2UgI3dwb2ktc2xpZGUtaW4tc3RhdGUtdG9nZ2xlXCI6IFwib3B0aW5fdHlwZV90b2dnbGVcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyggdGhpcy5tb2RlbCwgXCJjaGFuZ2U6YWZ0ZXJfY29udGVudC5hbmltYXRlXCIsIHRoaXMudG9nZ2xlX2FmdGVyX2NvbnRlbnRfYW5pbWF0aW9uX3NlbGVjdCApO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKCB0aGlzLm1vZGVsLCBcImNoYW5nZTpzbGlkZV9pbi5wb3NpdGlvblwiLCB0aGlzLnVwZGF0ZV9zbGlkZV9pbl9wb3NpdGlvbl9sYWJlbCApO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKCB0aGlzLm1vZGVsLCBcImNoYW5nZTpzaG9ydGNvZGVfaWRcIiwgXy5iaW5kKHRoaXMucmVuZGVyX3dpZGdldF9tZXNzYWdlLCB0aGlzKSApO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKCB0aGlzLm1vZGVsLCBcImNoYW5nZTphZnRlcl9jb250ZW50LnNob3dfb25fYWxsX2NhdHNcIiwgdGhpcy5tb3ZlX3NlbGVjdHNfdW5kZXJfc2VsZWN0ZWRfcmFkaW8pO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKCB0aGlzLm1vZGVsLCBcImNoYW5nZTphZnRlcl9jb250ZW50LnNob3dfb25fYWxsX3RhZ3NcIiwgdGhpcy5tb3ZlX3NlbGVjdHNfdW5kZXJfc2VsZWN0ZWRfcmFkaW8pO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKCB0aGlzLm1vZGVsLCBcImNoYW5nZTpwb3B1cC5zaG93X29uX2FsbF9jYXRzXCIsIHRoaXMubW92ZV9zZWxlY3RzX3VuZGVyX3NlbGVjdGVkX3JhZGlvKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5UbyggdGhpcy5tb2RlbCwgXCJjaGFuZ2U6cG9wdXAuc2hvd19vbl9hbGxfdGFnc1wiLCB0aGlzLm1vdmVfc2VsZWN0c191bmRlcl9zZWxlY3RlZF9yYWRpbyk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuVG8oIHRoaXMubW9kZWwsIFwiY2hhbmdlOnNsaWRlX2luLnNob3dfb25fYWxsX2NhdHNcIiwgdGhpcy5tb3ZlX3NlbGVjdHNfdW5kZXJfc2VsZWN0ZWRfcmFkaW8pO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlblRvKCB0aGlzLm1vZGVsLCBcImNoYW5nZTpzbGlkZV9pbi5zaG93X29uX2FsbF90YWdzXCIsIHRoaXMubW92ZV9zZWxlY3RzX3VuZGVyX3NlbGVjdGVkX3JhZGlvKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW92ZV9zZWxlY3RzX3VuZGVyX3NlbGVjdGVkX3JhZGlvOiBmdW5jdGlvbigga2V5LCB2YWwsIG9wdGlvbnMgKXtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gIHRoaXMubW9kZWwuZ2V0KCBrZXkgKSxcclxuICAgICAgICAgICAgICAgIGJsb2NrX2NsYXNzID0gXCIuXCIgKyBrZXkucmVwbGFjZShcIi5cIiwgXCJfXCIpICsgXCJfYmxvY2tcIixcclxuICAgICAgICAgICAgICAgIHNlbGVjdF93cmFwID0gYmxvY2tfY2xhc3MgKyAnX3NlbGVjdF93cmFwJyxcclxuICAgICAgICAgICAgICAgICRzZWNvbmRfcmFkaW8gPSB0aGlzLiQoIGJsb2NrX2NsYXNzICkuZXEoMSksXHJcbiAgICAgICAgICAgICAgICAkdGFnc19zZWxlY3QgPSB0aGlzLiQoIHNlbGVjdF93cmFwICk7XHJcblxyXG4gICAgICAgICAgICBpZiggISRzZWNvbmRfcmFkaW8ubGVuZ3RoIHx8ICEkdGFnc19zZWxlY3QubGVuZ3RoICkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYoIF8uaXNUcnVlKCB2YWx1ZSApIClcclxuICAgICAgICAgICAgICAgICRzZWNvbmRfcmFkaW8uaW5zZXJ0QWZ0ZXIoICR0YWdzX3NlbGVjdCApO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAkc2Vjb25kX3JhZGlvLmluc2VydEJlZm9yZSggJHRhZ3Nfc2VsZWN0ICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZW5kZXJzIHdpZGdldCBtZXNzYWdlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVuZGVyX3dpZGdldF9tZXNzYWdlOiBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLndpZGdldF9tZXNzYWdlX3RwbCggdGhpcy5tb2RlbC50b0pTT04oKSApO1xyXG4gICAgICAgICAgICB0aGlzLiQoXCIjd3BvaS13aXphcmQtc2V0dGluZ3Mtd2lkZ2V0LW1lc3NhZ2VcIikuaHRtbCggaHRtbCApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBlaXRoZXJfYWxsX29yX290aGVycyA9IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBbXCJhbGxcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIGUucGFyYW1zICYmIGUucGFyYW1zLmRhdGEgJiYgZS5wYXJhbXMuZGF0YS5pZCAmJiBcImFsbFwiID09PSBlLnBhcmFtcy5kYXRhLmlkICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggLTEgIT09IHZhbC5pbmRleE9mKCBcImFsbFwiICkgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnNwbGljZSggdmFsLmluZGV4T2YoIFwiYWxsXCIgKSwgMSApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS52YWwodmFsKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoJ3NsaWRlX2luLnBvc2l0aW9uX2xhYmVsJywgb3B0aW5fdmFycy5tZXNzYWdlcy5wb3NpdGlvbnNbdGhpcy5tb2RlbC5nZXQoJ3NsaWRlX2luLnBvc2l0aW9uJyldLCB7IHNpbGVudDp0cnVlIH0gKTtcclxuXHJcbiAgICAgICAgICAgICQuZm4ud3BtdWlTZWxlY3QuZGVmYXVsdHMuc2V0KFwiY3JlYXRlVGFnXCIsIGZ1bmN0aW9uKCl7IHJldHVybiBmYWxzZTsgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKCB0aGlzLnRlbXBsYXRlKCB0aGlzLm1vZGVsLnRvSlNPTigpICkgKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJfd2lkZ2V0X21lc3NhZ2UoKTtcclxuXHJcbiAgICAgICAgICAgIG5ldyBPcHRpbi5WaWV3LkNvbmRpdGlvbnMuVmlldyh7XHJcbiAgICAgICAgICAgICAgICBtb2RlbDogdGhpcy5tb2RlbCxcclxuICAgICAgICAgICAgICAgIGVsOiBcIiN3cG9pLWNvbmRpdGlvbnMtd3JhcC1wb3B1cFwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJwb3B1cFwiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbmV3IE9wdGluLlZpZXcuQ29uZGl0aW9ucy5WaWV3KHtcclxuICAgICAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxyXG4gICAgICAgICAgICAgICAgZWw6IFwiI3dwb2ktY29uZGl0aW9ucy13cmFwLXNsaWRlX2luXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNsaWRlX2luXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBuZXcgT3B0aW4uVmlldy5EaXNwbGF5X1RyaWdnZXJzKHtcclxuICAgICAgICAgICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsLFxyXG4gICAgICAgICAgICAgICAgZWw6IFwiI3RyaWdnZXJzLXNlY3Rpb24tcG9wdXBcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwicG9wdXBcIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG5ldyBPcHRpbi5WaWV3LkRpc3BsYXlfVHJpZ2dlcnMoe1xyXG4gICAgICAgICAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXHJcbiAgICAgICAgICAgICAgICBlbDogXCIjdHJpZ2dlcnMtc2VjdGlvbi1zbGlkZV9pblwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzbGlkZV9pblwiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZChcIi5jYW4tb3Blbi5kaXNwbGF5LXNldHRpbmdzLWljb24gc3Bhbi5vcGVuIGkuZGV2LWljb25cIikudHJpZ2dlcihcImNsaWNrXCIpO1xyXG5cclxuICAgICAgICAgICAgLy8gQWZ0ZXIgY29udGVudFxyXG4gICAgICAgICAgICB0aGlzLiQoXCIjYWZ0ZXJfY29udGVudF9zZWxlY3RlZF9jYXRzXCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMuY2F0cyxcclxuICAgICAgICAgICAgICAgIHRhZ3M6IFwidHJ1ZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggOiBcIjEwMCVcIlxyXG4gICAgICAgICAgICB9KS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zZXQoXCJhZnRlcl9jb250ZW50LnNob3dfb25fdGhlc2VfY2F0c1wiLCAkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgfSkudmFsKCB0aGlzLm1vZGVsLmdldChcImFmdGVyX2NvbnRlbnQuc2hvd19vbl90aGVzZV9jYXRzXCIpICkudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJChcIiNhZnRlcl9jb250ZW50X3NlbGVjdGVkX3RhZ3NcIikud3BtdWlTZWxlY3Qoe1xyXG4gICAgICAgICAgICAgICAgZGF0YTogb3B0aW5fdmFycy50YWdzLFxyXG4gICAgICAgICAgICAgICAgdGFnczogXCJ0cnVlXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA6IFwiMTAwJVwiXHJcbiAgICAgICAgICAgIH0pLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsLnNldChcImFmdGVyX2NvbnRlbnQuc2hvd19vbl90aGVzZV90YWdzXCIsICQodGhpcykudmFsKCkpO1xyXG4gICAgICAgICAgICB9KS52YWwoIHRoaXMubW9kZWwuZ2V0KFwiYWZ0ZXJfY29udGVudC5zaG93X29uX3RoZXNlX3RhZ3NcIikgKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kKFwiI2FmdGVyX2NvbnRlbnRfc2VsZWN0ZWRfcG9zdF9leGNlcHRpb25zXCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMucG9zdHMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdzZWxlY3QyOnNlbGVjdCcsIGVpdGhlcl9hbGxfb3Jfb3RoZXJzIClcclxuICAgICAgICAgICAgLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS52YWwoKSAhPSBudWxsICkgJChcIiNhZnRlcl9jb250ZW50X3NlbGVjdGVkX3Bvc3RcIikudmFsKCBudWxsICkudHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsLnNldChcImFmdGVyX2NvbnRlbnQuZXhjbHVkZWRfcG9zdHNcIiwgJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC52YWwoIHRoaXMubW9kZWwuZ2V0KFwiYWZ0ZXJfY29udGVudC5leGNsdWRlZF9wb3N0c1wiKSApLnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiQoXCIjYWZ0ZXJfY29udGVudF9zZWxlY3RlZF9wb3N0XCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMucG9zdHMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwic2VsZWN0MjpzZWxlY3RcIiwgZWl0aGVyX2FsbF9vcl9vdGhlcnMpXHJcbiAgICAgICAgICAgIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoICQodGhpcykudmFsKCkgIT0gbnVsbCApICQoXCIjYWZ0ZXJfY29udGVudF9zZWxlY3RlZF9wb3N0X2V4Y2VwdGlvbnNcIikudmFsKCBudWxsICkudHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsLnNldChcImFmdGVyX2NvbnRlbnQuc2VsZWN0ZWRfcG9zdHNcIiwgJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC52YWwoIHRoaXMubW9kZWwuZ2V0KFwiYWZ0ZXJfY29udGVudC5zZWxlY3RlZF9wb3N0c1wiKSApLnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiQoXCIjYWZ0ZXJfY29udGVudF9zZWxlY3RlZF9wYWdlc19leGNlcHRpb25zXCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMucGFnZXMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwic2VsZWN0MjpzZWxlY3RcIiwgZWl0aGVyX2FsbF9vcl9vdGhlcnMpXHJcbiAgICAgICAgICAgIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoICQodGhpcykudmFsKCkgIT0gbnVsbCApICQoXCIjYWZ0ZXJfY29udGVudF9zZWxlY3RlZF9wYWdlc1wiKS52YWwoIG51bGwgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwiYWZ0ZXJfY29udGVudC5leGNsdWRlZF9wYWdlc1wiLCAkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnZhbCggdGhpcy5tb2RlbC5nZXQoXCJhZnRlcl9jb250ZW50LmV4Y2x1ZGVkX3BhZ2VzXCIpICkudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJChcIiNhZnRlcl9jb250ZW50X3NlbGVjdGVkX3BhZ2VzXCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMucGFnZXMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcInNlbGVjdDI6c2VsZWN0XCIsIGVpdGhlcl9hbGxfb3Jfb3RoZXJzKVxyXG4gICAgICAgICAgICAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLnZhbCgpICE9IG51bGwgKSAkKFwiI2FmdGVyX2NvbnRlbnRfc2VsZWN0ZWRfcGFnZXNfZXhjZXB0aW9uc1wiKS52YWwoIG51bGwgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwiYWZ0ZXJfY29udGVudC5zZWxlY3RlZF9wYWdlc1wiLCAkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnZhbCggdGhpcy5tb2RlbC5nZXQoXCJhZnRlcl9jb250ZW50LnNlbGVjdGVkX3BhZ2VzXCIpICkudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBQb3BVcFxyXG4gICAgICAgICAgICB0aGlzLiQoXCIjcG9wdXBfc2VsZWN0ZWRfY2F0c1wiKS53cG11aVNlbGVjdCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiBvcHRpbl92YXJzLmNhdHMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgfSkub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwicG9wdXAuc2hvd19vbl90aGVzZV9jYXRzXCIsICQodGhpcykudmFsKCkpO1xyXG4gICAgICAgICAgICB9KS52YWwoIHRoaXMubW9kZWwuZ2V0KFwicG9wdXAuc2hvd19vbl90aGVzZV9jYXRzXCIpICkudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJChcIiNwb3B1cF9zZWxlY3RlZF90YWdzXCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMudGFncyxcclxuICAgICAgICAgICAgICAgIHRhZ3M6IFwidHJ1ZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggOiBcIjEwMCVcIlxyXG4gICAgICAgICAgICB9KS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zZXQoXCJwb3B1cC5zaG93X29uX3RoZXNlX3RhZ3NcIiwgJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pLnZhbCggdGhpcy5tb2RlbC5nZXQoXCJwb3B1cC5zaG93X29uX3RoZXNlX3RhZ3NcIikgKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kKFwiI3BvcHVwX3NlbGVjdGVkX3Bvc3RfZXhjZXB0aW9uc1wiKS53cG11aVNlbGVjdCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiBvcHRpbl92YXJzLnBvc3RzLFxyXG4gICAgICAgICAgICAgICAgdGFnczogXCJ0cnVlXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA6IFwiMTAwJVwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcInNlbGVjdDI6c2VsZWN0XCIsIGVpdGhlcl9hbGxfb3Jfb3RoZXJzKVxyXG4gICAgICAgICAgICAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLnZhbCgpICE9IG51bGwgKSAkKFwiI3BvcHVwX3NlbGVjdGVkX3Bvc3RcIikudmFsKCBudWxsICkudHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm1vZGVsLnNldChcInBvcHVwLmV4Y2x1ZGVkX3Bvc3RzXCIsICQodGhpcykudmFsKCkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudmFsKCB0aGlzLm1vZGVsLmdldChcInBvcHVwLmV4Y2x1ZGVkX3Bvc3RzXCIpICkudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJChcIiNwb3B1cF9zZWxlY3RlZF9wb3N0XCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMucG9zdHMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwic2VsZWN0MjpzZWxlY3RcIiwgZWl0aGVyX2FsbF9vcl9vdGhlcnMpXHJcbiAgICAgICAgICAgIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoICQodGhpcykudmFsKCkgIT0gbnVsbCApICQoXCIjcG9wdXBfc2VsZWN0ZWRfcG9zdF9leGNlcHRpb25zXCIpLnZhbCggbnVsbCApLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zZXQoXCJwb3B1cC5zZWxlY3RlZF9wb3N0c1wiLCAkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnZhbCggdGhpcy5tb2RlbC5nZXQoXCJwb3B1cC5zZWxlY3RlZF9wb3N0c1wiKSApLnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiQoXCIjcG9wdXBfc2VsZWN0ZWRfcGFnZXNfZXhjZXB0aW9uc1wiKS53cG11aVNlbGVjdCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiBvcHRpbl92YXJzLnBhZ2VzLFxyXG4gICAgICAgICAgICAgICAgdGFnczogXCJ0cnVlXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA6IFwiMTAwJVwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcInNlbGVjdDI6c2VsZWN0XCIsIGVpdGhlcl9hbGxfb3Jfb3RoZXJzKVxyXG4gICAgICAgICAgICAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLnZhbCgpICE9IG51bGwgKSAkKFwiI3BvcHVwX3NlbGVjdGVkX3BhZ2VzXCIpLnZhbCggbnVsbCApLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zZXQoXCJwb3B1cC5leGNsdWRlZF9wYWdlc1wiLCAkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnZhbCggdGhpcy5tb2RlbC5nZXQoXCJwb3B1cC5leGNsdWRlZF9wYWdlc1wiKSApLnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiQoXCIjcG9wdXBfc2VsZWN0ZWRfcGFnZXNcIikud3BtdWlTZWxlY3Qoe1xyXG4gICAgICAgICAgICAgICAgZGF0YTogb3B0aW5fdmFycy5wYWdlcyxcclxuICAgICAgICAgICAgICAgIHRhZ3M6IFwidHJ1ZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggOiBcIjEwMCVcIlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3NlbGVjdDI6c2VsZWN0JywgZWl0aGVyX2FsbF9vcl9vdGhlcnMgKVxyXG4gICAgICAgICAgICAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgaWYoIHZhbCAhPSBudWxsICkgJChcIiNwb3B1cF9zZWxlY3RlZF9wYWdlc19leGNlcHRpb25zXCIpLnZhbCggbnVsbCApLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zZXQoXCJwb3B1cC5zZWxlY3RlZF9wYWdlc1wiLCB2YWwgKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnZhbCggdGhpcy5tb2RlbC5nZXQoXCJwb3B1cC5zZWxlY3RlZF9wYWdlc1wiKSApLnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBzbGlkZV9pblxyXG4gICAgICAgICAgICB0aGlzLiQoXCIjc2xpZGVfaW5fc2VsZWN0ZWRfY2F0c1wiKS53cG11aVNlbGVjdCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiBvcHRpbl92YXJzLmNhdHMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgfSkub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwic2xpZGVfaW4uc2hvd19vbl90aGVzZV9jYXRzXCIsICQodGhpcykudmFsKCkpO1xyXG4gICAgICAgICAgICB9KS52YWwoIHRoaXMubW9kZWwuZ2V0KFwic2xpZGVfaW4uc2hvd19vbl90aGVzZV9jYXRzXCIpICkudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJChcIiNzbGlkZV9pbl9zZWxlY3RlZF90YWdzXCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMudGFncyxcclxuICAgICAgICAgICAgICAgIHRhZ3M6IFwidHJ1ZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggOiBcIjEwMCVcIlxyXG4gICAgICAgICAgICB9KS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zZXQoXCJzbGlkZV9pbi5zaG93X29uX3RoZXNlX3RhZ3NcIiwgJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pLnZhbCggdGhpcy5tb2RlbC5nZXQoXCJzbGlkZV9pbi5zaG93X29uX3RoZXNlX3RhZ3NcIikgKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kKFwiI3NsaWRlX2luX3NlbGVjdGVkX3Bvc3RfZXhjZXB0aW9uc1wiKS53cG11aVNlbGVjdCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiBvcHRpbl92YXJzLnBvc3RzLFxyXG4gICAgICAgICAgICAgICAgdGFnczogXCJ0cnVlXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCA6IFwiMTAwJVwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignc2VsZWN0MjpzZWxlY3QnLCBlaXRoZXJfYWxsX29yX290aGVycyApXHJcbiAgICAgICAgICAgIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoICQodGhpcykudmFsKCkgIT0gbnVsbCApICQoXCIjc2xpZGVfaW5fc2VsZWN0ZWRfcG9zdFwiKS52YWwoIG51bGwgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwic2xpZGVfaW4uZXhjbHVkZWRfcG9zdHNcIiwgJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC52YWwoIHRoaXMubW9kZWwuZ2V0KFwic2xpZGVfaW4uZXhjbHVkZWRfcG9zdHNcIikgKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kKFwiI3NsaWRlX2luX3NlbGVjdGVkX3Bvc3RcIikud3BtdWlTZWxlY3Qoe1xyXG4gICAgICAgICAgICAgICAgZGF0YTogb3B0aW5fdmFycy5wb3N0cyxcclxuICAgICAgICAgICAgICAgIHRhZ3M6IFwidHJ1ZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGggOiBcIjEwMCVcIlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3NlbGVjdDI6c2VsZWN0JywgZWl0aGVyX2FsbF9vcl9vdGhlcnMgKVxyXG4gICAgICAgICAgICAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLnZhbCgpICE9IG51bGwgKSAkKFwiI3NsaWRlX2luX3NlbGVjdGVkX3Bvc3RfZXhjZXB0aW9uc1wiKS52YWwoIG51bGwgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwic2xpZGVfaW4uc2VsZWN0ZWRfcG9zdHNcIiwgJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC52YWwoIHRoaXMubW9kZWwuZ2V0KFwic2xpZGVfaW4uc2VsZWN0ZWRfcG9zdHNcIikgfHwgW1wiYWxsXCJdICkudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuJChcIiNzbGlkZV9pbl9zZWxlY3RlZF9wYWdlc19leGNlcHRpb25zXCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMucGFnZXMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdzZWxlY3QyOnNlbGVjdCcsIGVpdGhlcl9hbGxfb3Jfb3RoZXJzIClcclxuICAgICAgICAgICAgLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS52YWwoKSAhPSBudWxsICkgJChcIiNzbGlkZV9pbl9zZWxlY3RlZF9wYWdlc1wiKS52YWwoIG51bGwgKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubW9kZWwuc2V0KFwic2xpZGVfaW4uZXhjbHVkZWRfcGFnZXNcIiwgJCh0aGlzKS52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC52YWwoIHRoaXMubW9kZWwuZ2V0KFwic2xpZGVfaW4uZXhjbHVkZWRfcGFnZXNcIikgKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kKFwiI3NsaWRlX2luX3NlbGVjdGVkX3BhZ2VzXCIpLndwbXVpU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IG9wdGluX3ZhcnMucGFnZXMsXHJcbiAgICAgICAgICAgICAgICB0YWdzOiBcInRydWVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoIDogXCIxMDAlXCJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdzZWxlY3QyOnNlbGVjdCcsIGVpdGhlcl9hbGxfb3Jfb3RoZXJzIClcclxuICAgICAgICAgICAgLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS52YWwoKSAhPSBudWxsICkgJChcIiNzbGlkZV9pbl9zZWxlY3RlZF9wYWdlc19leGNlcHRpb25zXCIpLnZhbCggbnVsbCApLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2RlbC5zZXQoXCJzbGlkZV9pbi5zZWxlY3RlZF9wYWdlc1wiLCAkKHRoaXMpLnZhbCgpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnZhbCggdGhpcy5tb2RlbC5nZXQoXCJzbGlkZV9pbi5zZWxlY3RlZF9wYWdlc1wiKSApLnRyaWdnZXIoXCJjaGFuZ2VcIik7XHJcblxyXG4gICAgICAgICAgICAkKFwiLndwb2ktdG9nZ2xlLWJsb2NrXCIpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gJCh0aGlzKS5maW5kKFwicFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBjaGVjayA9ICQodGhpcykuZmluZChcIi50b2dnbGUtY2hlY2tib3hcIik7XHJcbiAgICAgICAgICAgICAgICBpZiggY2hlY2suaXMoXCI6Y2hlY2tlZFwiKSApIHAuaGlkZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW5fdHlwZV90b2dnbGU6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKGUudGFyZ2V0KSxcclxuICAgICAgICAgICAgICAgICRibG9jayA9ICR0aGlzLmNsb3Nlc3QoXCIud3BvaS10b2dnbGUtYmxvY2tcIiksXHJcbiAgICAgICAgICAgICAgICAkcCA9ICRibG9jay5maW5kKFwicFwiKS5maXJzdCgpLFxyXG4gICAgICAgICAgICAgICAgJHNlY3Rpb24gPSAkdGhpcy5jbG9zZXN0KFwiLndwb2ktbGlzdGluZy13cmFwXCIpLmZpbmQoXCJzZWN0aW9uXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYoICR0aGlzLmlzKFwiOmNoZWNrZWRcIikgKSB7XHJcbiAgICAgICAgICAgICAgICAkcC5mYWRlT3V0KCk7XHJcbiAgICAgICAgICAgICAgICAkYmxvY2sucmVtb3ZlQ2xhc3MoXCJpbmFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcC5mYWRlSW4oKTtcclxuICAgICAgICAgICAgICAgICRibG9jay5hZGRDbGFzcyhcImluYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiggJHNlY3Rpb24uaXMoXCIuY2xvc2VkXCIpICYmICR0aGlzLmlzKFwiOmNoZWNrZWRcIikgKVxyXG4gICAgICAgICAgICAgICAgJHRoaXMuY2xvc2VzdChcIi53cG9pLXRvZ2dsZS1tYXNrXCIpLmZpbmQoXCJzcGFuLm9wZW4gaS5kZXYtaWNvblwiKS50cmlnZ2VyKFwiY2xpY2tcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b2dnbGVfYm94ZXM6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgdmFyIGNsYXNzT3BlbiA9IFwiZGV2LWljb24tY2FyZXRfdXBcIjtcclxuICAgICAgICAgICAgdmFyIGNsYXNzQ2xvc2VkID0gXCJkZXYtaWNvbi1jYXJldF9kb3duXCI7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2xhc3MgPSAkdGhpcy5oYXNDbGFzcyhjbGFzc09wZW4pID8gY2xhc3NPcGVuIDogY2xhc3NDbG9zZWQ7XHJcbiAgICAgICAgICAgIHZhciBuZXdDbGFzcyA9IGN1cnJlbnRDbGFzcyA9PSBjbGFzc09wZW4gPyBjbGFzc0Nsb3NlZCA6IGNsYXNzT3BlbjtcclxuICAgICAgICAgICAgdmFyICRzZWN0aW9uID0gJHRoaXMuY2xvc2VzdChcIi53cG9pLWxpc3Rpbmctd3JhcFwiKS5maW5kKFwic2VjdGlvblwiKTtcclxuICAgICAgICAgICAgLy9pZigkc2VjdGlvbi5oYXNDbGFzcyhcImNsb3NlZFwiKSAmJiAhJHRoaXMuY2xvc2VzdChcIi53cG9pLXRvZ2dsZS1tYXNrXCIpLmZpbmQoXCIudG9nZ2xlLWNoZWNrYm94XCIpLmlzKFwiOmNoZWNrZWRcIikgKSByZXR1cm47XHJcbiAgICAgICAgICAgICR0aGlzLnN3aXRjaENsYXNzKGN1cnJlbnRDbGFzcywgbmV3Q2xhc3MpO1xyXG4gICAgICAgICAgICAkc2VjdGlvbi50b2dnbGVDbGFzcyhcImNsb3NlZFwiLCBjdXJyZW50Q2xhc3MgPT0gY2xhc3NDbG9zZWQpO1xyXG4gICAgICAgICAgICAkc2VjdGlvbi50b2dnbGUobmV3Q2xhc3MgPT0gY2xhc3NDbG9zZWQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ29fdG9fZGVzaWduOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBPcHRpbi5yb3V0ZXIubmF2aWdhdGUoXCJkZXNpZ25cIiwgdHJ1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdWJtaXRfYW5kX3NhdmU6IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHZhciBlcnJvcnMgPSBbXSxcclxuICAgICAgICAgICAgICAgICR0aGlzID0gJChlLnRhcmdldCksXHJcbiAgICAgICAgICAgICAgICBub25jZSA9ICR0aGlzLmRhdGEoXCJub25jZVwiKSxcclxuICAgICAgICAgICAgICAgIG5ld19vcHRpbiA9IHBhcnNlSW50KCR0aGlzLmRhdGEoXCJpZFwiKSkgPT0gLTEgPyB0cnVlOiBmYWxzZTtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBhamF4dXJsLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2luY19vcHRfc2F2ZV9uZXcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAkdGhpcy5kYXRhKFwiaWRcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgX2FqYXhfbm9uY2U6IG5vbmNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGluOiBPcHRpbi5zdGVwLnNlcnZpY2VzLm1vZGVsLnRvSlNPTigpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2lnbjogT3B0aW4uc3RlcC5kZXNpZ24ubW9kZWwudG9KU09OKCksXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IE9wdGluLnN0ZXAuZGlzcGxheS5tb2RlbC50b0pTT04oKSxcclxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcl9hcmdzOiBPcHRpbi5zdGVwLnNlcnZpY2VzLnByb3ZpZGVyX2FyZ3MudG9KU09OKClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFwiP3BhZ2U9aW5jX29wdGluc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld19vcHRpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgKz0gXCImb3B0aW49XCIgKyByZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsICs9IFwiJm9wdGluX3VwZGF0ZWQ9XCIgKyByZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnNlYXJjaCA9IHVybDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRvZ2dsZXMgYWZ0ZXIgY29udGVudCBhbmltYXRpb24gZHJvcGRvd25zIGlmIFwiTm8gQW5pbWF0aW9uLCBPcHRpbiBpcyBhbHdheXMgdmlzaWJsZVwiIGlzIHNlbGVjdGVkIG9yIGRlc2VsZWN0ZWRcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdG9nZ2xlX2FmdGVyX2NvbnRlbnRfYW5pbWF0aW9uX3NlbGVjdDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoIF8uaXNUcnVlKCB0aGlzLm1vZGVsLmdldChcImFmdGVyX2NvbnRlbnQuYW5pbWF0ZVwiKSApICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kKFwiI29wdGluLWFmdGVyYy1hbmltYXRpb24tYmxvY2tcIikuc2hvdyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuJChcIiNvcHRpbi1hZnRlcmMtYW5pbWF0aW9uLWJsb2NrXCIpLmhpZGUoIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXBkYXRlX3NsaWRlX2luX3Bvc2l0aW9uX2xhYmVsOiBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIHRoaXMuJChcIiN3cG9pLXNsaWRlX2luLXBvc2l0aW9uLWxhYmVsXCIpLnRleHQoIG9wdGluX3ZhcnMubWVzc2FnZXMucG9zaXRpb25zW3RoaXMubW9kZWwuZ2V0KCdzbGlkZV9pbi5wb3NpdGlvbicpXSApO1xyXG4gICAgICAgIH1cclxuICAgIH0pKTtcclxufSkoIGpRdWVyeSApO1xyXG4iLCJ2YXIgSW5jX09wdF9Sb3V0ZXIgPSBCYWNrYm9uZS5Sb3V0ZXIuZXh0ZW5kKHtcclxuXHJcbiAgICByb3V0ZXM6IHtcclxuICAgICAgICBcIlwiOiAgICAgICAgIFwic2VydmljZXNcIixcclxuICAgICAgICBcInNlcnZpY2VzXCI6IFwic2VydmljZXNcIixcclxuICAgICAgICBcImRlc2lnblwiOiAgIFwiZGVzaWduXCIsXHJcbiAgICAgICAgXCJkaXNwbGF5KC86b3B0aW5fdHlwZSlcIjogIFwiZGlzcGxheVwiXHJcbiAgICB9LFxyXG5cclxuICAgIHJvdXRlOiBmdW5jdGlvbihyb3V0ZSwgbmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcztcclxuICAgICAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IHRoaXNbbmFtZV07XHJcblxyXG4gICAgICAgIHZhciBmID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKCAhT3B0aW4uc3RlcC5tb2RlbCAgKVxyXG4gICAgICAgICAgICAgICAgT3B0aW4uc3RlcC5tb2RlbCA9IG5ldyBPcHRpbi5Nb2RlbCggb3B0aW5fdmFycy5jdXJyZW50LmRhdGEgKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCAhT3B0aW4uc3RlcC5zZXJ2aWNlcyAgKVxyXG4gICAgICAgICAgICAgICAgT3B0aW4uc3RlcC5zZXJ2aWNlcyA9IG5ldyBPcHRpbi5WaWV3LkVtYWlsX1NlcnZpY2VzX1RhYih7IG1vZGVsOiBPcHRpbi5zdGVwLm1vZGVsLCBwcm92aWRlcl9hcmdzOiBuZXcgT3B0aW4uTSggb3B0aW5fdmFycy5jdXJyZW50LnByb3ZpZGVyX2FyZ3MgKSB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKCAhT3B0aW4uc3RlcC5kZXNpZ24gIClcclxuICAgICAgICAgICAgICAgIE9wdGluLnN0ZXAuZGVzaWduID0gIG5ldyAgT3B0aW4uVmlldy5EZXNpZ25fVGFiKHsgbW9kZWw6IG5ldyBPcHRpbi5Nb2RlbHMuRGVzaWduX01vZGVsKCBvcHRpbl92YXJzLmN1cnJlbnQuZGVzaWduICksIG9wdGluOiBPcHRpbi5zdGVwLm1vZGVsIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYoICFPcHRpbi5zdGVwLmRpc3BsYXkgKVxyXG4gICAgICAgICAgICAgICAgT3B0aW4uc3RlcC5kaXNwbGF5ID0gbmV3IE9wdGluLlZpZXcuRGlzcGxheV9UYWIoeyBtb2RlbDogbmV3IE9wdGluLk1vZGVscy5TZXR0aW5nc19Nb2RlbCggb3B0aW5fdmFycy5jdXJyZW50LnNldHRpbmdzICkgfSk7XHJcblxyXG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseShyb3V0ZXIsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHJldHVybiBCYWNrYm9uZS5Sb3V0ZXIucHJvdG90eXBlLnJvdXRlLmNhbGwodGhpcywgcm91dGUsIG5hbWUsIGYpO1xyXG4gICAgfSxcclxuICAgIGV4ZWN1dGU6IGZ1bmN0aW9uKGNhbGxiYWNrLCBhcmdzLCBuYW1lKSB7XHJcbiAgICAgICAgLy8gUHJldmVudCBjaGFuZ2luZyB0YWIgaWYgY3VycmVudCB0YWIgZG9lcyBub3QgdmFsaWRhdGVcclxuICAgICAgICB2YXIgcm91dGVJbmRleCA9IF8ua2V5cyh0aGlzLnJvdXRlcykuaW5kZXhPZihuYW1lKSAtIDE7XHJcbiAgICAgICAgaWYoIHJvdXRlSW5kZXggIT0gT3B0aW4uc3RlcC5jdXJyZW50ICkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKCBPcHRpbi5zdGVwLmN1cnJlbnQgKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRlID0gT3B0aW4uc3RlcC5tb2RlbC52YWxpZGF0ZV9maXJzdF9zdGVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB2YWxpZGF0ZS5zaXplKCkgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9wdGluLnN0ZXAuc2VydmljZXMudmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBVUkwgYmFjayB0byB0aGUgb3JpZ2luYWwgcm91dGUgYW5kIGRvbnQgZXhlY3V0ZSB0aGUgcm91dGUgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW4ucm91dGVyLm5hdmlnYXRlKF8ua2V5cyh0aGlzLnJvdXRlcylbT3B0aW4uc3RlcC5jdXJyZW50ICsxXSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDdXJyZW50IHRhYiBkaWQgbm90IHZhbGlkYXRlLCBkb24ndCByb3V0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBVUkwgYmFjayB0byB0aGUgb3JpZ2luYWwgcm91dGUgYW5kIGRvbnQgZXhlY3V0ZSB0aGUgcm91dGUgY2FsbGJhY2tcclxuICAgICAgICAgICAgT3B0aW4ucm91dGVyLm5hdmlnYXRlKF8ua2V5cyh0aGlzLnJvdXRlcylbT3B0aW4uc3RlcC5jdXJyZW50ICsxXSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAvLyBkb24ndCByb3V0ZSBpZiBzYW1lIHJvdXRlIGFzIGJlZm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBPcHRpbi5FdmVudHMudHJpZ2dlcihcIm5hdmlnYXRlXCIsIGFyZ3MsIG5hbWUpO1xyXG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNlcnZpY2VzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBPcHRpbi5zdGVwLmFjdGl2YXRlX3N0ZXAoIDAgKTtcclxuICAgIH0sXHJcblxyXG4gICAgZGVzaWduOiBmdW5jdGlvbigpIHtcclxuXHJcblxyXG4gICAgICAgIE9wdGluLnN0ZXAuYWN0aXZhdGVfc3RlcCggMSApO1xyXG4gICAgfSxcclxuXHJcbiAgICBkaXNwbGF5OiBmdW5jdGlvbiggdHlwZSApIHtcclxuXHJcbiAgICAgICAgT3B0aW4uc3RlcC5hY3RpdmF0ZV9zdGVwKCAyICk7XHJcblxyXG4gICAgICAgIC8vIElmIG9wdGluIHR5cGUgc2V0IGluIFVSTCwgc2Nyb2xsIHRvIGl0XHJcbiAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJcIjtcclxuICAgICAgICBpZiggdHlwZSAhPSBcIlwiICYmIGpRdWVyeSgnI3dwb2ktbGlzdGluZy13cmFwLScgKyB0eXBlKS5sZW5ndGggKSB7XHJcblxyXG4gICAgICAgICAgICBqUXVlcnkoJyN3cG9pLWxpc3Rpbmctd3JhcC0nICsgdHlwZSApLmZpbmQoXCJpLmRldi1pY29uOm5vdCguc2VhcmNoLWljb24pXCIpLnRyaWdnZXIoXCJjbGlja1wiKTtcclxuXHJcbiAgICAgICAgICAgIC8vV2FpdCBmb3IgdGhlIGVsZW1lbnRzIHRvIHJlbmRlclxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5KCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBqUXVlcnkoJyN3cG9pLWxpc3Rpbmctd3JhcC0nICsgdHlwZSApLm9mZnNldCgpLnRvcCAtIDUwXHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuXHJcbiAgICAgICAgICAgIH0sIDUwMCk7XHJcbiAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgIH0gICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBJbml0IHRoZSByb3V0aW5nIGlmIGl0J3Mgb3B0aW4gY3JlYXRpb24gcGFnZVxyXG4gKi9cclxuaWYoICdodXN0bGVfcGFnZV9pbmNfb3B0aW4nID09IGFkbWlucGFnZSAgKXtcclxuICAgIE9wdGluLnJvdXRlciA9IG5ldyBJbmNfT3B0X1JvdXRlcigpO1xyXG4gICAgQmFja2JvbmUuaGlzdG9yeS5zdGFydCgpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
